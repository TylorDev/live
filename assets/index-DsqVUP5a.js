(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const f of s)if(f.type==="childList")for(const p of f.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&i(p)}).observe(document,{childList:!0,subtree:!0});function r(s){const f={};return s.integrity&&(f.integrity=s.integrity),s.referrerPolicy&&(f.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?f.credentials="include":s.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function i(s){if(s.ep)return;s.ep=!0;const f=r(s);fetch(s.href,f)}})();var oo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function eu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Ag(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function i(){return this instanceof i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var s=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(r,i,s.get?s:{enumerable:!0,get:function(){return e[i]}})}),r}var Qc={exports:{}},$o={},qc={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var La=Symbol.for("react.element"),Lg=Symbol.for("react.portal"),Pg=Symbol.for("react.fragment"),kg=Symbol.for("react.strict_mode"),Dg=Symbol.for("react.profiler"),Og=Symbol.for("react.provider"),Cg=Symbol.for("react.context"),Ig=Symbol.for("react.forward_ref"),Fg=Symbol.for("react.suspense"),bg=Symbol.for("react.memo"),Mg=Symbol.for("react.lazy"),kf=Symbol.iterator;function Ng(e){return e===null||typeof e!="object"?null:(e=kf&&e[kf]||e["@@iterator"],typeof e=="function"?e:null)}var Zc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Jc=Object.assign,ed={};function Pi(e,t,r){this.props=e,this.context=t,this.refs=ed,this.updater=r||Zc}Pi.prototype.isReactComponent={};Pi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Pi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function td(){}td.prototype=Pi.prototype;function tu(e,t,r){this.props=e,this.context=t,this.refs=ed,this.updater=r||Zc}var ru=tu.prototype=new td;ru.constructor=tu;Jc(ru,Pi.prototype);ru.isPureReactComponent=!0;var Df=Array.isArray,rd=Object.prototype.hasOwnProperty,nu={current:null},nd={key:!0,ref:!0,__self:!0,__source:!0};function id(e,t,r){var i,s={},f=null,p=null;if(t!=null)for(i in t.ref!==void 0&&(p=t.ref),t.key!==void 0&&(f=""+t.key),t)rd.call(t,i)&&!nd.hasOwnProperty(i)&&(s[i]=t[i]);var m=arguments.length-2;if(m===1)s.children=r;else if(1<m){for(var T=Array(m),g=0;g<m;g++)T[g]=arguments[g+2];s.children=T}if(e&&e.defaultProps)for(i in m=e.defaultProps,m)s[i]===void 0&&(s[i]=m[i]);return{$$typeof:La,type:e,key:f,ref:p,props:s,_owner:nu.current}}function Ug(e,t){return{$$typeof:La,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function iu(e){return typeof e=="object"&&e!==null&&e.$$typeof===La}function Bg(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Of=/\/+/g;function Ps(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Bg(""+e.key):t.toString(36)}function so(e,t,r,i,s){var f=typeof e;(f==="undefined"||f==="boolean")&&(e=null);var p=!1;if(e===null)p=!0;else switch(f){case"string":case"number":p=!0;break;case"object":switch(e.$$typeof){case La:case Lg:p=!0}}if(p)return p=e,s=s(p),e=i===""?"."+Ps(p,0):i,Df(s)?(r="",e!=null&&(r=e.replace(Of,"$&/")+"/"),so(s,t,r,"",function(g){return g})):s!=null&&(iu(s)&&(s=Ug(s,r+(!s.key||p&&p.key===s.key?"":(""+s.key).replace(Of,"$&/")+"/")+e)),t.push(s)),1;if(p=0,i=i===""?".":i+":",Df(e))for(var m=0;m<e.length;m++){f=e[m];var T=i+Ps(f,m);p+=so(f,t,r,T,s)}else if(T=Ng(e),typeof T=="function")for(e=T.call(e),m=0;!(f=e.next()).done;)f=f.value,T=i+Ps(f,m++),p+=so(f,t,r,T,s);else if(f==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return p}function Ka(e,t,r){if(e==null)return e;var i=[],s=0;return so(e,i,"","",function(f){return t.call(r,f,s++)}),i}function jg(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Kt={current:null},lo={transition:null},Gg={ReactCurrentDispatcher:Kt,ReactCurrentBatchConfig:lo,ReactCurrentOwner:nu};function ad(){throw Error("act(...) is not supported in production builds of React.")}De.Children={map:Ka,forEach:function(e,t,r){Ka(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ka(e,function(){t++}),t},toArray:function(e){return Ka(e,function(t){return t})||[]},only:function(e){if(!iu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};De.Component=Pi;De.Fragment=Pg;De.Profiler=Dg;De.PureComponent=tu;De.StrictMode=kg;De.Suspense=Fg;De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gg;De.act=ad;De.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=Jc({},e.props),s=e.key,f=e.ref,p=e._owner;if(t!=null){if(t.ref!==void 0&&(f=t.ref,p=nu.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var m=e.type.defaultProps;for(T in t)rd.call(t,T)&&!nd.hasOwnProperty(T)&&(i[T]=t[T]===void 0&&m!==void 0?m[T]:t[T])}var T=arguments.length-2;if(T===1)i.children=r;else if(1<T){m=Array(T);for(var g=0;g<T;g++)m[g]=arguments[g+2];i.children=m}return{$$typeof:La,type:e.type,key:s,ref:f,props:i,_owner:p}};De.createContext=function(e){return e={$$typeof:Cg,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Og,_context:e},e.Consumer=e};De.createElement=id;De.createFactory=function(e){var t=id.bind(null,e);return t.type=e,t};De.createRef=function(){return{current:null}};De.forwardRef=function(e){return{$$typeof:Ig,render:e}};De.isValidElement=iu;De.lazy=function(e){return{$$typeof:Mg,_payload:{_status:-1,_result:e},_init:jg}};De.memo=function(e,t){return{$$typeof:bg,type:e,compare:t===void 0?null:t}};De.startTransition=function(e){var t=lo.transition;lo.transition={};try{e()}finally{lo.transition=t}};De.unstable_act=ad;De.useCallback=function(e,t){return Kt.current.useCallback(e,t)};De.useContext=function(e){return Kt.current.useContext(e)};De.useDebugValue=function(){};De.useDeferredValue=function(e){return Kt.current.useDeferredValue(e)};De.useEffect=function(e,t){return Kt.current.useEffect(e,t)};De.useId=function(){return Kt.current.useId()};De.useImperativeHandle=function(e,t,r){return Kt.current.useImperativeHandle(e,t,r)};De.useInsertionEffect=function(e,t){return Kt.current.useInsertionEffect(e,t)};De.useLayoutEffect=function(e,t){return Kt.current.useLayoutEffect(e,t)};De.useMemo=function(e,t){return Kt.current.useMemo(e,t)};De.useReducer=function(e,t,r){return Kt.current.useReducer(e,t,r)};De.useRef=function(e){return Kt.current.useRef(e)};De.useState=function(e){return Kt.current.useState(e)};De.useSyncExternalStore=function(e,t,r){return Kt.current.useSyncExternalStore(e,t,r)};De.useTransition=function(){return Kt.current.useTransition()};De.version="18.3.1";qc.exports=De;var Ur=qc.exports;const Pr=eu(Ur);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zg=Ur,Kg=Symbol.for("react.element"),Hg=Symbol.for("react.fragment"),Vg=Object.prototype.hasOwnProperty,Wg=zg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$g={key:!0,ref:!0,__self:!0,__source:!0};function od(e,t,r){var i,s={},f=null,p=null;r!==void 0&&(f=""+r),t.key!==void 0&&(f=""+t.key),t.ref!==void 0&&(p=t.ref);for(i in t)Vg.call(t,i)&&!$g.hasOwnProperty(i)&&(s[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps,t)s[i]===void 0&&(s[i]=t[i]);return{$$typeof:Kg,type:e,key:f,ref:p,props:s,_owner:Wg.current}}$o.Fragment=Hg;$o.jsx=od;$o.jsxs=od;Qc.exports=$o;var Me=Qc.exports,nl={},sd={exports:{}},fr={},ld={exports:{}},ud={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(le,pe){var me=le.length;le.push(pe);e:for(;0<me;){var we=me-1>>>1,ge=le[we];if(0<s(ge,pe))le[we]=pe,le[me]=ge,me=we;else break e}}function r(le){return le.length===0?null:le[0]}function i(le){if(le.length===0)return null;var pe=le[0],me=le.pop();if(me!==pe){le[0]=me;e:for(var we=0,ge=le.length,at=ge>>>1;we<at;){var Pe=2*(we+1)-1,rr=le[Pe],yt=Pe+1,ke=le[yt];if(0>s(rr,me))yt<ge&&0>s(ke,rr)?(le[we]=ke,le[yt]=me,we=yt):(le[we]=rr,le[Pe]=me,we=Pe);else if(yt<ge&&0>s(ke,me))le[we]=ke,le[yt]=me,we=yt;else break e}}return pe}function s(le,pe){var me=le.sortIndex-pe.sortIndex;return me!==0?me:le.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var f=performance;e.unstable_now=function(){return f.now()}}else{var p=Date,m=p.now();e.unstable_now=function(){return p.now()-m}}var T=[],g=[],E=1,N=null,_=3,k=!1,b=!1,D=!1,K=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F(le){for(var pe=r(g);pe!==null;){if(pe.callback===null)i(g);else if(pe.startTime<=le)i(g),pe.sortIndex=pe.expirationTime,t(T,pe);else break;pe=r(g)}}function U(le){if(D=!1,F(le),!b)if(r(T)!==null)b=!0,Be(H);else{var pe=r(g);pe!==null&&Ke(U,pe.startTime-le)}}function H(le,pe){b=!1,D&&(D=!1,P(q),q=-1),k=!0;var me=_;try{for(F(pe),N=r(T);N!==null&&(!(N.expirationTime>pe)||le&&!Te());){var we=N.callback;if(typeof we=="function"){N.callback=null,_=N.priorityLevel;var ge=we(N.expirationTime<=pe);pe=e.unstable_now(),typeof ge=="function"?N.callback=ge:N===r(T)&&i(T),F(pe)}else i(T);N=r(T)}if(N!==null)var at=!0;else{var Pe=r(g);Pe!==null&&Ke(U,Pe.startTime-pe),at=!1}return at}finally{N=null,_=me,k=!1}}var $=!1,Y=null,q=-1,oe=5,se=-1;function Te(){return!(e.unstable_now()-se<oe)}function Ue(){if(Y!==null){var le=e.unstable_now();se=le;var pe=!0;try{pe=Y(!0,le)}finally{pe?Ge():($=!1,Y=null)}}else $=!1}var Ge;if(typeof w=="function")Ge=function(){w(Ue)};else if(typeof MessageChannel<"u"){var Ne=new MessageChannel,Vt=Ne.port2;Ne.port1.onmessage=Ue,Ge=function(){Vt.postMessage(null)}}else Ge=function(){K(Ue,0)};function Be(le){Y=le,$||($=!0,Ge())}function Ke(le,pe){q=K(function(){le(e.unstable_now())},pe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(le){le.callback=null},e.unstable_continueExecution=function(){b||k||(b=!0,Be(H))},e.unstable_forceFrameRate=function(le){0>le||125<le?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):oe=0<le?Math.floor(1e3/le):5},e.unstable_getCurrentPriorityLevel=function(){return _},e.unstable_getFirstCallbackNode=function(){return r(T)},e.unstable_next=function(le){switch(_){case 1:case 2:case 3:var pe=3;break;default:pe=_}var me=_;_=pe;try{return le()}finally{_=me}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(le,pe){switch(le){case 1:case 2:case 3:case 4:case 5:break;default:le=3}var me=_;_=le;try{return pe()}finally{_=me}},e.unstable_scheduleCallback=function(le,pe,me){var we=e.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?we+me:we):me=we,le){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=me+ge,le={id:E++,callback:pe,priorityLevel:le,startTime:me,expirationTime:ge,sortIndex:-1},me>we?(le.sortIndex=me,t(g,le),r(T)===null&&le===r(g)&&(D?(P(q),q=-1):D=!0,Ke(U,me-we))):(le.sortIndex=ge,t(T,le),b||k||(b=!0,Be(H))),le},e.unstable_shouldYield=Te,e.unstable_wrapCallback=function(le){var pe=_;return function(){var me=_;_=pe;try{return le.apply(this,arguments)}finally{_=me}}}})(ud);ld.exports=ud;var Yg=ld.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xg=Ur,ur=Yg;function ie(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var fd=new Set,ua={};function Hn(e,t){Ei(e,t),Ei(e+"Capture",t)}function Ei(e,t){for(ua[e]=t,e=0;e<t.length;e++)fd.add(t[e])}var Qr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),il=Object.prototype.hasOwnProperty,Qg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Cf={},If={};function qg(e){return il.call(If,e)?!0:il.call(Cf,e)?!1:Qg.test(e)?If[e]=!0:(Cf[e]=!0,!1)}function Zg(e,t,r,i){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Jg(e,t,r,i){if(t===null||typeof t>"u"||Zg(e,t,r,i))return!0;if(i)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ht(e,t,r,i,s,f,p){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=f,this.removeEmptyString=p}var Lt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Lt[e]=new Ht(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Lt[t]=new Ht(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Lt[e]=new Ht(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Lt[e]=new Ht(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Lt[e]=new Ht(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Lt[e]=new Ht(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Lt[e]=new Ht(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Lt[e]=new Ht(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Lt[e]=new Ht(e,5,!1,e.toLowerCase(),null,!1,!1)});var au=/[\-:]([a-z])/g;function ou(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(au,ou);Lt[t]=new Ht(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(au,ou);Lt[t]=new Ht(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(au,ou);Lt[t]=new Ht(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Lt[e]=new Ht(e,1,!1,e.toLowerCase(),null,!1,!1)});Lt.xlinkHref=new Ht("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Lt[e]=new Ht(e,1,!1,e.toLowerCase(),null,!0,!0)});function su(e,t,r,i){var s=Lt.hasOwnProperty(t)?Lt[t]:null;(s!==null?s.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Jg(t,r,s,i)&&(r=null),i||s===null?qg(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,i=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,i?e.setAttributeNS(i,t,r):e.setAttribute(t,r))))}var en=Xg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ha=Symbol.for("react.element"),ri=Symbol.for("react.portal"),ni=Symbol.for("react.fragment"),lu=Symbol.for("react.strict_mode"),al=Symbol.for("react.profiler"),cd=Symbol.for("react.provider"),dd=Symbol.for("react.context"),uu=Symbol.for("react.forward_ref"),ol=Symbol.for("react.suspense"),sl=Symbol.for("react.suspense_list"),fu=Symbol.for("react.memo"),nn=Symbol.for("react.lazy"),hd=Symbol.for("react.offscreen"),Ff=Symbol.iterator;function Ui(e){return e===null||typeof e!="object"?null:(e=Ff&&e[Ff]||e["@@iterator"],typeof e=="function"?e:null)}var Je=Object.assign,ks;function Yi(e){if(ks===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);ks=t&&t[1]||""}return`
`+ks+e}var Ds=!1;function Os(e,t){if(!e||Ds)return"";Ds=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(g){var i=g}Reflect.construct(e,[],t)}else{try{t.call()}catch(g){i=g}e.call(t.prototype)}else{try{throw Error()}catch(g){i=g}e()}}catch(g){if(g&&i&&typeof g.stack=="string"){for(var s=g.stack.split(`
`),f=i.stack.split(`
`),p=s.length-1,m=f.length-1;1<=p&&0<=m&&s[p]!==f[m];)m--;for(;1<=p&&0<=m;p--,m--)if(s[p]!==f[m]){if(p!==1||m!==1)do if(p--,m--,0>m||s[p]!==f[m]){var T=`
`+s[p].replace(" at new "," at ");return e.displayName&&T.includes("<anonymous>")&&(T=T.replace("<anonymous>",e.displayName)),T}while(1<=p&&0<=m);break}}}finally{Ds=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Yi(e):""}function ev(e){switch(e.tag){case 5:return Yi(e.type);case 16:return Yi("Lazy");case 13:return Yi("Suspense");case 19:return Yi("SuspenseList");case 0:case 2:case 15:return e=Os(e.type,!1),e;case 11:return e=Os(e.type.render,!1),e;case 1:return e=Os(e.type,!0),e;default:return""}}function ll(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ni:return"Fragment";case ri:return"Portal";case al:return"Profiler";case lu:return"StrictMode";case ol:return"Suspense";case sl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case dd:return(e.displayName||"Context")+".Consumer";case cd:return(e._context.displayName||"Context")+".Provider";case uu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case fu:return t=e.displayName||null,t!==null?t:ll(e.type)||"Memo";case nn:t=e._payload,e=e._init;try{return ll(e(t))}catch{}}return null}function tv(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ll(t);case 8:return t===lu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function yn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function pd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function rv(e){var t=pd(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,f=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(p){i=""+p,f.call(this,p)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(p){i=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Va(e){e._valueTracker||(e._valueTracker=rv(e))}function gd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),i="";return e&&(i=pd(e)?e.checked?"true":"false":e.value),e=i,e!==r?(t.setValue(e),!0):!1}function So(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ul(e,t){var r=t.checked;return Je({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function bf(e,t){var r=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;r=yn(t.value!=null?t.value:r),e._wrapperState={initialChecked:i,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function vd(e,t){t=t.checked,t!=null&&su(e,"checked",t,!1)}function fl(e,t){vd(e,t);var r=yn(t.value),i=t.type;if(r!=null)i==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?cl(e,t.type,r):t.hasOwnProperty("defaultValue")&&cl(e,t.type,yn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Mf(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function cl(e,t,r){(t!=="number"||So(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Xi=Array.isArray;function pi(e,t,r,i){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&i&&(e[r].defaultSelected=!0)}else{for(r=""+yn(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,i&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function dl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ie(91));return Je({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Nf(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ie(92));if(Xi(r)){if(1<r.length)throw Error(ie(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:yn(r)}}function md(e,t){var r=yn(t.value),i=yn(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),i!=null&&(e.defaultValue=""+i)}function Uf(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function yd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function hl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?yd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Wa,xd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,i,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,i,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Wa=Wa||document.createElement("div"),Wa.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Wa.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function fa(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ji={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nv=["Webkit","ms","Moz","O"];Object.keys(Ji).forEach(function(e){nv.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ji[t]=Ji[e]})});function Ed(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ji.hasOwnProperty(e)&&Ji[e]?(""+t).trim():t+"px"}function Sd(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var i=r.indexOf("--")===0,s=Ed(r,t[r],i);r==="float"&&(r="cssFloat"),i?e.setProperty(r,s):e[r]=s}}var iv=Je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pl(e,t){if(t){if(iv[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ie(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ie(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ie(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ie(62))}}function gl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vl=null;function cu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ml=null,gi=null,vi=null;function Bf(e){if(e=Da(e)){if(typeof ml!="function")throw Error(ie(280));var t=e.stateNode;t&&(t=Zo(t),ml(e.stateNode,e.type,t))}}function _d(e){gi?vi?vi.push(e):vi=[e]:gi=e}function Td(){if(gi){var e=gi,t=vi;if(vi=gi=null,Bf(e),t)for(e=0;e<t.length;e++)Bf(t[e])}}function wd(e,t){return e(t)}function Rd(){}var Cs=!1;function Ad(e,t,r){if(Cs)return e(t,r);Cs=!0;try{return wd(e,t,r)}finally{Cs=!1,(gi!==null||vi!==null)&&(Rd(),Td())}}function ca(e,t){var r=e.stateNode;if(r===null)return null;var i=Zo(r);if(i===null)return null;r=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ie(231,t,typeof r));return r}var yl=!1;if(Qr)try{var Bi={};Object.defineProperty(Bi,"passive",{get:function(){yl=!0}}),window.addEventListener("test",Bi,Bi),window.removeEventListener("test",Bi,Bi)}catch{yl=!1}function av(e,t,r,i,s,f,p,m,T){var g=Array.prototype.slice.call(arguments,3);try{t.apply(r,g)}catch(E){this.onError(E)}}var ea=!1,_o=null,To=!1,xl=null,ov={onError:function(e){ea=!0,_o=e}};function sv(e,t,r,i,s,f,p,m,T){ea=!1,_o=null,av.apply(ov,arguments)}function lv(e,t,r,i,s,f,p,m,T){if(sv.apply(this,arguments),ea){if(ea){var g=_o;ea=!1,_o=null}else throw Error(ie(198));To||(To=!0,xl=g)}}function Vn(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Ld(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function jf(e){if(Vn(e)!==e)throw Error(ie(188))}function uv(e){var t=e.alternate;if(!t){if(t=Vn(e),t===null)throw Error(ie(188));return t!==e?null:e}for(var r=e,i=t;;){var s=r.return;if(s===null)break;var f=s.alternate;if(f===null){if(i=s.return,i!==null){r=i;continue}break}if(s.child===f.child){for(f=s.child;f;){if(f===r)return jf(s),e;if(f===i)return jf(s),t;f=f.sibling}throw Error(ie(188))}if(r.return!==i.return)r=s,i=f;else{for(var p=!1,m=s.child;m;){if(m===r){p=!0,r=s,i=f;break}if(m===i){p=!0,i=s,r=f;break}m=m.sibling}if(!p){for(m=f.child;m;){if(m===r){p=!0,r=f,i=s;break}if(m===i){p=!0,i=f,r=s;break}m=m.sibling}if(!p)throw Error(ie(189))}}if(r.alternate!==i)throw Error(ie(190))}if(r.tag!==3)throw Error(ie(188));return r.stateNode.current===r?e:t}function Pd(e){return e=uv(e),e!==null?kd(e):null}function kd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=kd(e);if(t!==null)return t;e=e.sibling}return null}var Dd=ur.unstable_scheduleCallback,Gf=ur.unstable_cancelCallback,fv=ur.unstable_shouldYield,cv=ur.unstable_requestPaint,it=ur.unstable_now,dv=ur.unstable_getCurrentPriorityLevel,du=ur.unstable_ImmediatePriority,Od=ur.unstable_UserBlockingPriority,wo=ur.unstable_NormalPriority,hv=ur.unstable_LowPriority,Cd=ur.unstable_IdlePriority,Yo=null,Br=null;function pv(e){if(Br&&typeof Br.onCommitFiberRoot=="function")try{Br.onCommitFiberRoot(Yo,e,void 0,(e.current.flags&128)===128)}catch{}}var kr=Math.clz32?Math.clz32:mv,gv=Math.log,vv=Math.LN2;function mv(e){return e>>>=0,e===0?32:31-(gv(e)/vv|0)|0}var $a=64,Ya=4194304;function Qi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ro(e,t){var r=e.pendingLanes;if(r===0)return 0;var i=0,s=e.suspendedLanes,f=e.pingedLanes,p=r&268435455;if(p!==0){var m=p&~s;m!==0?i=Qi(m):(f&=p,f!==0&&(i=Qi(f)))}else p=r&~s,p!==0?i=Qi(p):f!==0&&(i=Qi(f));if(i===0)return 0;if(t!==0&&t!==i&&!(t&s)&&(s=i&-i,f=t&-t,s>=f||s===16&&(f&4194240)!==0))return t;if(i&4&&(i|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)r=31-kr(t),s=1<<r,i|=e[r],t&=~s;return i}function yv(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xv(e,t){for(var r=e.suspendedLanes,i=e.pingedLanes,s=e.expirationTimes,f=e.pendingLanes;0<f;){var p=31-kr(f),m=1<<p,T=s[p];T===-1?(!(m&r)||m&i)&&(s[p]=yv(m,t)):T<=t&&(e.expiredLanes|=m),f&=~m}}function El(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Id(){var e=$a;return $a<<=1,!($a&4194240)&&($a=64),e}function Is(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Pa(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-kr(t),e[t]=r}function Ev(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-kr(r),f=1<<s;t[s]=0,i[s]=-1,e[s]=-1,r&=~f}}function hu(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var i=31-kr(r),s=1<<i;s&t|e[i]&t&&(e[i]|=t),r&=~s}}var je=0;function Fd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var bd,pu,Md,Nd,Ud,Sl=!1,Xa=[],fn=null,cn=null,dn=null,da=new Map,ha=new Map,on=[],Sv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zf(e,t){switch(e){case"focusin":case"focusout":fn=null;break;case"dragenter":case"dragleave":cn=null;break;case"mouseover":case"mouseout":dn=null;break;case"pointerover":case"pointerout":da.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ha.delete(t.pointerId)}}function ji(e,t,r,i,s,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:r,eventSystemFlags:i,nativeEvent:f,targetContainers:[s]},t!==null&&(t=Da(t),t!==null&&pu(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function _v(e,t,r,i,s){switch(t){case"focusin":return fn=ji(fn,e,t,r,i,s),!0;case"dragenter":return cn=ji(cn,e,t,r,i,s),!0;case"mouseover":return dn=ji(dn,e,t,r,i,s),!0;case"pointerover":var f=s.pointerId;return da.set(f,ji(da.get(f)||null,e,t,r,i,s)),!0;case"gotpointercapture":return f=s.pointerId,ha.set(f,ji(ha.get(f)||null,e,t,r,i,s)),!0}return!1}function Bd(e){var t=Fn(e.target);if(t!==null){var r=Vn(t);if(r!==null){if(t=r.tag,t===13){if(t=Ld(r),t!==null){e.blockedOn=t,Ud(e.priority,function(){Md(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function uo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=_l(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var i=new r.constructor(r.type,r);vl=i,r.target.dispatchEvent(i),vl=null}else return t=Da(r),t!==null&&pu(t),e.blockedOn=r,!1;t.shift()}return!0}function Kf(e,t,r){uo(e)&&r.delete(t)}function Tv(){Sl=!1,fn!==null&&uo(fn)&&(fn=null),cn!==null&&uo(cn)&&(cn=null),dn!==null&&uo(dn)&&(dn=null),da.forEach(Kf),ha.forEach(Kf)}function Gi(e,t){e.blockedOn===t&&(e.blockedOn=null,Sl||(Sl=!0,ur.unstable_scheduleCallback(ur.unstable_NormalPriority,Tv)))}function pa(e){function t(s){return Gi(s,e)}if(0<Xa.length){Gi(Xa[0],e);for(var r=1;r<Xa.length;r++){var i=Xa[r];i.blockedOn===e&&(i.blockedOn=null)}}for(fn!==null&&Gi(fn,e),cn!==null&&Gi(cn,e),dn!==null&&Gi(dn,e),da.forEach(t),ha.forEach(t),r=0;r<on.length;r++)i=on[r],i.blockedOn===e&&(i.blockedOn=null);for(;0<on.length&&(r=on[0],r.blockedOn===null);)Bd(r),r.blockedOn===null&&on.shift()}var mi=en.ReactCurrentBatchConfig,Ao=!0;function wv(e,t,r,i){var s=je,f=mi.transition;mi.transition=null;try{je=1,gu(e,t,r,i)}finally{je=s,mi.transition=f}}function Rv(e,t,r,i){var s=je,f=mi.transition;mi.transition=null;try{je=4,gu(e,t,r,i)}finally{je=s,mi.transition=f}}function gu(e,t,r,i){if(Ao){var s=_l(e,t,r,i);if(s===null)Ks(e,t,i,Lo,r),zf(e,i);else if(_v(s,e,t,r,i))i.stopPropagation();else if(zf(e,i),t&4&&-1<Sv.indexOf(e)){for(;s!==null;){var f=Da(s);if(f!==null&&bd(f),f=_l(e,t,r,i),f===null&&Ks(e,t,i,Lo,r),f===s)break;s=f}s!==null&&i.stopPropagation()}else Ks(e,t,i,null,r)}}var Lo=null;function _l(e,t,r,i){if(Lo=null,e=cu(i),e=Fn(e),e!==null)if(t=Vn(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Ld(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Lo=e,null}function jd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dv()){case du:return 1;case Od:return 4;case wo:case hv:return 16;case Cd:return 536870912;default:return 16}default:return 16}}var ln=null,vu=null,fo=null;function Gd(){if(fo)return fo;var e,t=vu,r=t.length,i,s="value"in ln?ln.value:ln.textContent,f=s.length;for(e=0;e<r&&t[e]===s[e];e++);var p=r-e;for(i=1;i<=p&&t[r-i]===s[f-i];i++);return fo=s.slice(e,1<i?1-i:void 0)}function co(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Qa(){return!0}function Hf(){return!1}function cr(e){function t(r,i,s,f,p){this._reactName=r,this._targetInst=s,this.type=i,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var m in e)e.hasOwnProperty(m)&&(r=e[m],this[m]=r?r(f):f[m]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Qa:Hf,this.isPropagationStopped=Hf,this}return Je(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Qa)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Qa)},persist:function(){},isPersistent:Qa}),t}var ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mu=cr(ki),ka=Je({},ki,{view:0,detail:0}),Av=cr(ka),Fs,bs,zi,Xo=Je({},ka,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==zi&&(zi&&e.type==="mousemove"?(Fs=e.screenX-zi.screenX,bs=e.screenY-zi.screenY):bs=Fs=0,zi=e),Fs)},movementY:function(e){return"movementY"in e?e.movementY:bs}}),Vf=cr(Xo),Lv=Je({},Xo,{dataTransfer:0}),Pv=cr(Lv),kv=Je({},ka,{relatedTarget:0}),Ms=cr(kv),Dv=Je({},ki,{animationName:0,elapsedTime:0,pseudoElement:0}),Ov=cr(Dv),Cv=Je({},ki,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Iv=cr(Cv),Fv=Je({},ki,{data:0}),Wf=cr(Fv),bv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Uv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Nv[e])?!!t[e]:!1}function yu(){return Uv}var Bv=Je({},ka,{key:function(e){if(e.key){var t=bv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=co(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Mv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yu,charCode:function(e){return e.type==="keypress"?co(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?co(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),jv=cr(Bv),Gv=Je({},Xo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$f=cr(Gv),zv=Je({},ka,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yu}),Kv=cr(zv),Hv=Je({},ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vv=cr(Hv),Wv=Je({},Xo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$v=cr(Wv),Yv=[9,13,27,32],xu=Qr&&"CompositionEvent"in window,ta=null;Qr&&"documentMode"in document&&(ta=document.documentMode);var Xv=Qr&&"TextEvent"in window&&!ta,zd=Qr&&(!xu||ta&&8<ta&&11>=ta),Yf=" ",Xf=!1;function Kd(e,t){switch(e){case"keyup":return Yv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ii=!1;function Qv(e,t){switch(e){case"compositionend":return Hd(t);case"keypress":return t.which!==32?null:(Xf=!0,Yf);case"textInput":return e=t.data,e===Yf&&Xf?null:e;default:return null}}function qv(e,t){if(ii)return e==="compositionend"||!xu&&Kd(e,t)?(e=Gd(),fo=vu=ln=null,ii=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zd&&t.locale!=="ko"?null:t.data;default:return null}}var Zv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Zv[e.type]:t==="textarea"}function Vd(e,t,r,i){_d(i),t=Po(t,"onChange"),0<t.length&&(r=new mu("onChange","change",null,r,i),e.push({event:r,listeners:t}))}var ra=null,ga=null;function Jv(e){rh(e,0)}function Qo(e){var t=si(e);if(gd(t))return e}function em(e,t){if(e==="change")return t}var Wd=!1;if(Qr){var Ns;if(Qr){var Us="oninput"in document;if(!Us){var qf=document.createElement("div");qf.setAttribute("oninput","return;"),Us=typeof qf.oninput=="function"}Ns=Us}else Ns=!1;Wd=Ns&&(!document.documentMode||9<document.documentMode)}function Zf(){ra&&(ra.detachEvent("onpropertychange",$d),ga=ra=null)}function $d(e){if(e.propertyName==="value"&&Qo(ga)){var t=[];Vd(t,ga,e,cu(e)),Ad(Jv,t)}}function tm(e,t,r){e==="focusin"?(Zf(),ra=t,ga=r,ra.attachEvent("onpropertychange",$d)):e==="focusout"&&Zf()}function rm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Qo(ga)}function nm(e,t){if(e==="click")return Qo(t)}function im(e,t){if(e==="input"||e==="change")return Qo(t)}function am(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Or=typeof Object.is=="function"?Object.is:am;function va(e,t){if(Or(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++){var s=r[i];if(!il.call(t,s)||!Or(e[s],t[s]))return!1}return!0}function Jf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ec(e,t){var r=Jf(e);e=0;for(var i;r;){if(r.nodeType===3){if(i=e+r.textContent.length,e<=t&&i>=t)return{node:r,offset:t-e};e=i}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Jf(r)}}function Yd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Yd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Xd(){for(var e=window,t=So();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=So(e.document)}return t}function Eu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function om(e){var t=Xd(),r=e.focusedElem,i=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Yd(r.ownerDocument.documentElement,r)){if(i!==null&&Eu(r)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,f=Math.min(i.start,s);i=i.end===void 0?f:Math.min(i.end,s),!e.extend&&f>i&&(s=i,i=f,f=s),s=ec(r,f);var p=ec(r,i);s&&p&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==p.node||e.focusOffset!==p.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),f>i?(e.addRange(t),e.extend(p.node,p.offset)):(t.setEnd(p.node,p.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var sm=Qr&&"documentMode"in document&&11>=document.documentMode,ai=null,Tl=null,na=null,wl=!1;function tc(e,t,r){var i=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;wl||ai==null||ai!==So(i)||(i=ai,"selectionStart"in i&&Eu(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),na&&va(na,i)||(na=i,i=Po(Tl,"onSelect"),0<i.length&&(t=new mu("onSelect","select",null,t,r),e.push({event:t,listeners:i}),t.target=ai)))}function qa(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var oi={animationend:qa("Animation","AnimationEnd"),animationiteration:qa("Animation","AnimationIteration"),animationstart:qa("Animation","AnimationStart"),transitionend:qa("Transition","TransitionEnd")},Bs={},Qd={};Qr&&(Qd=document.createElement("div").style,"AnimationEvent"in window||(delete oi.animationend.animation,delete oi.animationiteration.animation,delete oi.animationstart.animation),"TransitionEvent"in window||delete oi.transitionend.transition);function qo(e){if(Bs[e])return Bs[e];if(!oi[e])return e;var t=oi[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Qd)return Bs[e]=t[r];return e}var qd=qo("animationend"),Zd=qo("animationiteration"),Jd=qo("animationstart"),eh=qo("transitionend"),th=new Map,rc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function En(e,t){th.set(e,t),Hn(t,[e])}for(var js=0;js<rc.length;js++){var Gs=rc[js],lm=Gs.toLowerCase(),um=Gs[0].toUpperCase()+Gs.slice(1);En(lm,"on"+um)}En(qd,"onAnimationEnd");En(Zd,"onAnimationIteration");En(Jd,"onAnimationStart");En("dblclick","onDoubleClick");En("focusin","onFocus");En("focusout","onBlur");En(eh,"onTransitionEnd");Ei("onMouseEnter",["mouseout","mouseover"]);Ei("onMouseLeave",["mouseout","mouseover"]);Ei("onPointerEnter",["pointerout","pointerover"]);Ei("onPointerLeave",["pointerout","pointerover"]);Hn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Hn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Hn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Hn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Hn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Hn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fm=new Set("cancel close invalid load scroll toggle".split(" ").concat(qi));function nc(e,t,r){var i=e.type||"unknown-event";e.currentTarget=r,lv(i,t,void 0,e),e.currentTarget=null}function rh(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var i=e[r],s=i.event;i=i.listeners;e:{var f=void 0;if(t)for(var p=i.length-1;0<=p;p--){var m=i[p],T=m.instance,g=m.currentTarget;if(m=m.listener,T!==f&&s.isPropagationStopped())break e;nc(s,m,g),f=T}else for(p=0;p<i.length;p++){if(m=i[p],T=m.instance,g=m.currentTarget,m=m.listener,T!==f&&s.isPropagationStopped())break e;nc(s,m,g),f=T}}}if(To)throw e=xl,To=!1,xl=null,e}function Ye(e,t){var r=t[kl];r===void 0&&(r=t[kl]=new Set);var i=e+"__bubble";r.has(i)||(nh(t,e,2,!1),r.add(i))}function zs(e,t,r){var i=0;t&&(i|=4),nh(r,e,i,t)}var Za="_reactListening"+Math.random().toString(36).slice(2);function ma(e){if(!e[Za]){e[Za]=!0,fd.forEach(function(r){r!=="selectionchange"&&(fm.has(r)||zs(r,!1,e),zs(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Za]||(t[Za]=!0,zs("selectionchange",!1,t))}}function nh(e,t,r,i){switch(jd(t)){case 1:var s=wv;break;case 4:s=Rv;break;default:s=gu}r=s.bind(null,t,r,e),s=void 0,!yl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),i?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Ks(e,t,r,i,s){var f=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var p=i.tag;if(p===3||p===4){var m=i.stateNode.containerInfo;if(m===s||m.nodeType===8&&m.parentNode===s)break;if(p===4)for(p=i.return;p!==null;){var T=p.tag;if((T===3||T===4)&&(T=p.stateNode.containerInfo,T===s||T.nodeType===8&&T.parentNode===s))return;p=p.return}for(;m!==null;){if(p=Fn(m),p===null)return;if(T=p.tag,T===5||T===6){i=f=p;continue e}m=m.parentNode}}i=i.return}Ad(function(){var g=f,E=cu(r),N=[];e:{var _=th.get(e);if(_!==void 0){var k=mu,b=e;switch(e){case"keypress":if(co(r)===0)break e;case"keydown":case"keyup":k=jv;break;case"focusin":b="focus",k=Ms;break;case"focusout":b="blur",k=Ms;break;case"beforeblur":case"afterblur":k=Ms;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=Vf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=Pv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=Kv;break;case qd:case Zd:case Jd:k=Ov;break;case eh:k=Vv;break;case"scroll":k=Av;break;case"wheel":k=$v;break;case"copy":case"cut":case"paste":k=Iv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=$f}var D=(t&4)!==0,K=!D&&e==="scroll",P=D?_!==null?_+"Capture":null:_;D=[];for(var w=g,F;w!==null;){F=w;var U=F.stateNode;if(F.tag===5&&U!==null&&(F=U,P!==null&&(U=ca(w,P),U!=null&&D.push(ya(w,U,F)))),K)break;w=w.return}0<D.length&&(_=new k(_,b,null,r,E),N.push({event:_,listeners:D}))}}if(!(t&7)){e:{if(_=e==="mouseover"||e==="pointerover",k=e==="mouseout"||e==="pointerout",_&&r!==vl&&(b=r.relatedTarget||r.fromElement)&&(Fn(b)||b[qr]))break e;if((k||_)&&(_=E.window===E?E:(_=E.ownerDocument)?_.defaultView||_.parentWindow:window,k?(b=r.relatedTarget||r.toElement,k=g,b=b?Fn(b):null,b!==null&&(K=Vn(b),b!==K||b.tag!==5&&b.tag!==6)&&(b=null)):(k=null,b=g),k!==b)){if(D=Vf,U="onMouseLeave",P="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(D=$f,U="onPointerLeave",P="onPointerEnter",w="pointer"),K=k==null?_:si(k),F=b==null?_:si(b),_=new D(U,w+"leave",k,r,E),_.target=K,_.relatedTarget=F,U=null,Fn(E)===g&&(D=new D(P,w+"enter",b,r,E),D.target=F,D.relatedTarget=K,U=D),K=U,k&&b)t:{for(D=k,P=b,w=0,F=D;F;F=Zn(F))w++;for(F=0,U=P;U;U=Zn(U))F++;for(;0<w-F;)D=Zn(D),w--;for(;0<F-w;)P=Zn(P),F--;for(;w--;){if(D===P||P!==null&&D===P.alternate)break t;D=Zn(D),P=Zn(P)}D=null}else D=null;k!==null&&ic(N,_,k,D,!1),b!==null&&K!==null&&ic(N,K,b,D,!0)}}e:{if(_=g?si(g):window,k=_.nodeName&&_.nodeName.toLowerCase(),k==="select"||k==="input"&&_.type==="file")var H=em;else if(Qf(_))if(Wd)H=im;else{H=rm;var $=tm}else(k=_.nodeName)&&k.toLowerCase()==="input"&&(_.type==="checkbox"||_.type==="radio")&&(H=nm);if(H&&(H=H(e,g))){Vd(N,H,r,E);break e}$&&$(e,_,g),e==="focusout"&&($=_._wrapperState)&&$.controlled&&_.type==="number"&&cl(_,"number",_.value)}switch($=g?si(g):window,e){case"focusin":(Qf($)||$.contentEditable==="true")&&(ai=$,Tl=g,na=null);break;case"focusout":na=Tl=ai=null;break;case"mousedown":wl=!0;break;case"contextmenu":case"mouseup":case"dragend":wl=!1,tc(N,r,E);break;case"selectionchange":if(sm)break;case"keydown":case"keyup":tc(N,r,E)}var Y;if(xu)e:{switch(e){case"compositionstart":var q="onCompositionStart";break e;case"compositionend":q="onCompositionEnd";break e;case"compositionupdate":q="onCompositionUpdate";break e}q=void 0}else ii?Kd(e,r)&&(q="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(q="onCompositionStart");q&&(zd&&r.locale!=="ko"&&(ii||q!=="onCompositionStart"?q==="onCompositionEnd"&&ii&&(Y=Gd()):(ln=E,vu="value"in ln?ln.value:ln.textContent,ii=!0)),$=Po(g,q),0<$.length&&(q=new Wf(q,e,null,r,E),N.push({event:q,listeners:$}),Y?q.data=Y:(Y=Hd(r),Y!==null&&(q.data=Y)))),(Y=Xv?Qv(e,r):qv(e,r))&&(g=Po(g,"onBeforeInput"),0<g.length&&(E=new Wf("onBeforeInput","beforeinput",null,r,E),N.push({event:E,listeners:g}),E.data=Y))}rh(N,t)})}function ya(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Po(e,t){for(var r=t+"Capture",i=[];e!==null;){var s=e,f=s.stateNode;s.tag===5&&f!==null&&(s=f,f=ca(e,r),f!=null&&i.unshift(ya(e,f,s)),f=ca(e,t),f!=null&&i.push(ya(e,f,s))),e=e.return}return i}function Zn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ic(e,t,r,i,s){for(var f=t._reactName,p=[];r!==null&&r!==i;){var m=r,T=m.alternate,g=m.stateNode;if(T!==null&&T===i)break;m.tag===5&&g!==null&&(m=g,s?(T=ca(r,f),T!=null&&p.unshift(ya(r,T,m))):s||(T=ca(r,f),T!=null&&p.push(ya(r,T,m)))),r=r.return}p.length!==0&&e.push({event:t,listeners:p})}var cm=/\r\n?/g,dm=/\u0000|\uFFFD/g;function ac(e){return(typeof e=="string"?e:""+e).replace(cm,`
`).replace(dm,"")}function Ja(e,t,r){if(t=ac(t),ac(e)!==t&&r)throw Error(ie(425))}function ko(){}var Rl=null,Al=null;function Ll(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Pl=typeof setTimeout=="function"?setTimeout:void 0,hm=typeof clearTimeout=="function"?clearTimeout:void 0,oc=typeof Promise=="function"?Promise:void 0,pm=typeof queueMicrotask=="function"?queueMicrotask:typeof oc<"u"?function(e){return oc.resolve(null).then(e).catch(gm)}:Pl;function gm(e){setTimeout(function(){throw e})}function Hs(e,t){var r=t,i=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(i===0){e.removeChild(s),pa(t);return}i--}else r!=="$"&&r!=="$?"&&r!=="$!"||i++;r=s}while(r);pa(t)}function hn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function sc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Di=Math.random().toString(36).slice(2),Nr="__reactFiber$"+Di,xa="__reactProps$"+Di,qr="__reactContainer$"+Di,kl="__reactEvents$"+Di,vm="__reactListeners$"+Di,mm="__reactHandles$"+Di;function Fn(e){var t=e[Nr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[qr]||r[Nr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=sc(e);e!==null;){if(r=e[Nr])return r;e=sc(e)}return t}e=r,r=e.parentNode}return null}function Da(e){return e=e[Nr]||e[qr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function si(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ie(33))}function Zo(e){return e[xa]||null}var Dl=[],li=-1;function Sn(e){return{current:e}}function Xe(e){0>li||(e.current=Dl[li],Dl[li]=null,li--)}function He(e,t){li++,Dl[li]=e.current,e.current=t}var xn={},bt=Sn(xn),Jt=Sn(!1),Bn=xn;function Si(e,t){var r=e.type.contextTypes;if(!r)return xn;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var s={},f;for(f in r)s[f]=t[f];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function er(e){return e=e.childContextTypes,e!=null}function Do(){Xe(Jt),Xe(bt)}function lc(e,t,r){if(bt.current!==xn)throw Error(ie(168));He(bt,t),He(Jt,r)}function ih(e,t,r){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return r;i=i.getChildContext();for(var s in i)if(!(s in t))throw Error(ie(108,tv(e)||"Unknown",s));return Je({},r,i)}function Oo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xn,Bn=bt.current,He(bt,e),He(Jt,Jt.current),!0}function uc(e,t,r){var i=e.stateNode;if(!i)throw Error(ie(169));r?(e=ih(e,t,Bn),i.__reactInternalMemoizedMergedChildContext=e,Xe(Jt),Xe(bt),He(bt,e)):Xe(Jt),He(Jt,r)}var Vr=null,Jo=!1,Vs=!1;function ah(e){Vr===null?Vr=[e]:Vr.push(e)}function ym(e){Jo=!0,ah(e)}function _n(){if(!Vs&&Vr!==null){Vs=!0;var e=0,t=je;try{var r=Vr;for(je=1;e<r.length;e++){var i=r[e];do i=i(!0);while(i!==null)}Vr=null,Jo=!1}catch(s){throw Vr!==null&&(Vr=Vr.slice(e+1)),Dd(du,_n),s}finally{je=t,Vs=!1}}return null}var ui=[],fi=0,Co=null,Io=0,hr=[],pr=0,jn=null,Wr=1,$r="";function Cn(e,t){ui[fi++]=Io,ui[fi++]=Co,Co=e,Io=t}function oh(e,t,r){hr[pr++]=Wr,hr[pr++]=$r,hr[pr++]=jn,jn=e;var i=Wr;e=$r;var s=32-kr(i)-1;i&=~(1<<s),r+=1;var f=32-kr(t)+s;if(30<f){var p=s-s%5;f=(i&(1<<p)-1).toString(32),i>>=p,s-=p,Wr=1<<32-kr(t)+s|r<<s|i,$r=f+e}else Wr=1<<f|r<<s|i,$r=e}function Su(e){e.return!==null&&(Cn(e,1),oh(e,1,0))}function _u(e){for(;e===Co;)Co=ui[--fi],ui[fi]=null,Io=ui[--fi],ui[fi]=null;for(;e===jn;)jn=hr[--pr],hr[pr]=null,$r=hr[--pr],hr[pr]=null,Wr=hr[--pr],hr[pr]=null}var lr=null,sr=null,Qe=!1,Lr=null;function sh(e,t){var r=gr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function fc(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,lr=e,sr=hn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,lr=e,sr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=jn!==null?{id:Wr,overflow:$r}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=gr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,lr=e,sr=null,!0):!1;default:return!1}}function Ol(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Cl(e){if(Qe){var t=sr;if(t){var r=t;if(!fc(e,t)){if(Ol(e))throw Error(ie(418));t=hn(r.nextSibling);var i=lr;t&&fc(e,t)?sh(i,r):(e.flags=e.flags&-4097|2,Qe=!1,lr=e)}}else{if(Ol(e))throw Error(ie(418));e.flags=e.flags&-4097|2,Qe=!1,lr=e}}}function cc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;lr=e}function eo(e){if(e!==lr)return!1;if(!Qe)return cc(e),Qe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ll(e.type,e.memoizedProps)),t&&(t=sr)){if(Ol(e))throw lh(),Error(ie(418));for(;t;)sh(e,t),t=hn(t.nextSibling)}if(cc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ie(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){sr=hn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}sr=null}}else sr=lr?hn(e.stateNode.nextSibling):null;return!0}function lh(){for(var e=sr;e;)e=hn(e.nextSibling)}function _i(){sr=lr=null,Qe=!1}function Tu(e){Lr===null?Lr=[e]:Lr.push(e)}var xm=en.ReactCurrentBatchConfig;function Ki(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ie(309));var i=r.stateNode}if(!i)throw Error(ie(147,e));var s=i,f=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===f?t.ref:(t=function(p){var m=s.refs;p===null?delete m[f]:m[f]=p},t._stringRef=f,t)}if(typeof e!="string")throw Error(ie(284));if(!r._owner)throw Error(ie(290,e))}return e}function to(e,t){throw e=Object.prototype.toString.call(t),Error(ie(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function dc(e){var t=e._init;return t(e._payload)}function uh(e){function t(P,w){if(e){var F=P.deletions;F===null?(P.deletions=[w],P.flags|=16):F.push(w)}}function r(P,w){if(!e)return null;for(;w!==null;)t(P,w),w=w.sibling;return null}function i(P,w){for(P=new Map;w!==null;)w.key!==null?P.set(w.key,w):P.set(w.index,w),w=w.sibling;return P}function s(P,w){return P=mn(P,w),P.index=0,P.sibling=null,P}function f(P,w,F){return P.index=F,e?(F=P.alternate,F!==null?(F=F.index,F<w?(P.flags|=2,w):F):(P.flags|=2,w)):(P.flags|=1048576,w)}function p(P){return e&&P.alternate===null&&(P.flags|=2),P}function m(P,w,F,U){return w===null||w.tag!==6?(w=Zs(F,P.mode,U),w.return=P,w):(w=s(w,F),w.return=P,w)}function T(P,w,F,U){var H=F.type;return H===ni?E(P,w,F.props.children,U,F.key):w!==null&&(w.elementType===H||typeof H=="object"&&H!==null&&H.$$typeof===nn&&dc(H)===w.type)?(U=s(w,F.props),U.ref=Ki(P,w,F),U.return=P,U):(U=xo(F.type,F.key,F.props,null,P.mode,U),U.ref=Ki(P,w,F),U.return=P,U)}function g(P,w,F,U){return w===null||w.tag!==4||w.stateNode.containerInfo!==F.containerInfo||w.stateNode.implementation!==F.implementation?(w=Js(F,P.mode,U),w.return=P,w):(w=s(w,F.children||[]),w.return=P,w)}function E(P,w,F,U,H){return w===null||w.tag!==7?(w=Un(F,P.mode,U,H),w.return=P,w):(w=s(w,F),w.return=P,w)}function N(P,w,F){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Zs(""+w,P.mode,F),w.return=P,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ha:return F=xo(w.type,w.key,w.props,null,P.mode,F),F.ref=Ki(P,null,w),F.return=P,F;case ri:return w=Js(w,P.mode,F),w.return=P,w;case nn:var U=w._init;return N(P,U(w._payload),F)}if(Xi(w)||Ui(w))return w=Un(w,P.mode,F,null),w.return=P,w;to(P,w)}return null}function _(P,w,F,U){var H=w!==null?w.key:null;if(typeof F=="string"&&F!==""||typeof F=="number")return H!==null?null:m(P,w,""+F,U);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case Ha:return F.key===H?T(P,w,F,U):null;case ri:return F.key===H?g(P,w,F,U):null;case nn:return H=F._init,_(P,w,H(F._payload),U)}if(Xi(F)||Ui(F))return H!==null?null:E(P,w,F,U,null);to(P,F)}return null}function k(P,w,F,U,H){if(typeof U=="string"&&U!==""||typeof U=="number")return P=P.get(F)||null,m(w,P,""+U,H);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case Ha:return P=P.get(U.key===null?F:U.key)||null,T(w,P,U,H);case ri:return P=P.get(U.key===null?F:U.key)||null,g(w,P,U,H);case nn:var $=U._init;return k(P,w,F,$(U._payload),H)}if(Xi(U)||Ui(U))return P=P.get(F)||null,E(w,P,U,H,null);to(w,U)}return null}function b(P,w,F,U){for(var H=null,$=null,Y=w,q=w=0,oe=null;Y!==null&&q<F.length;q++){Y.index>q?(oe=Y,Y=null):oe=Y.sibling;var se=_(P,Y,F[q],U);if(se===null){Y===null&&(Y=oe);break}e&&Y&&se.alternate===null&&t(P,Y),w=f(se,w,q),$===null?H=se:$.sibling=se,$=se,Y=oe}if(q===F.length)return r(P,Y),Qe&&Cn(P,q),H;if(Y===null){for(;q<F.length;q++)Y=N(P,F[q],U),Y!==null&&(w=f(Y,w,q),$===null?H=Y:$.sibling=Y,$=Y);return Qe&&Cn(P,q),H}for(Y=i(P,Y);q<F.length;q++)oe=k(Y,P,q,F[q],U),oe!==null&&(e&&oe.alternate!==null&&Y.delete(oe.key===null?q:oe.key),w=f(oe,w,q),$===null?H=oe:$.sibling=oe,$=oe);return e&&Y.forEach(function(Te){return t(P,Te)}),Qe&&Cn(P,q),H}function D(P,w,F,U){var H=Ui(F);if(typeof H!="function")throw Error(ie(150));if(F=H.call(F),F==null)throw Error(ie(151));for(var $=H=null,Y=w,q=w=0,oe=null,se=F.next();Y!==null&&!se.done;q++,se=F.next()){Y.index>q?(oe=Y,Y=null):oe=Y.sibling;var Te=_(P,Y,se.value,U);if(Te===null){Y===null&&(Y=oe);break}e&&Y&&Te.alternate===null&&t(P,Y),w=f(Te,w,q),$===null?H=Te:$.sibling=Te,$=Te,Y=oe}if(se.done)return r(P,Y),Qe&&Cn(P,q),H;if(Y===null){for(;!se.done;q++,se=F.next())se=N(P,se.value,U),se!==null&&(w=f(se,w,q),$===null?H=se:$.sibling=se,$=se);return Qe&&Cn(P,q),H}for(Y=i(P,Y);!se.done;q++,se=F.next())se=k(Y,P,q,se.value,U),se!==null&&(e&&se.alternate!==null&&Y.delete(se.key===null?q:se.key),w=f(se,w,q),$===null?H=se:$.sibling=se,$=se);return e&&Y.forEach(function(Ue){return t(P,Ue)}),Qe&&Cn(P,q),H}function K(P,w,F,U){if(typeof F=="object"&&F!==null&&F.type===ni&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case Ha:e:{for(var H=F.key,$=w;$!==null;){if($.key===H){if(H=F.type,H===ni){if($.tag===7){r(P,$.sibling),w=s($,F.props.children),w.return=P,P=w;break e}}else if($.elementType===H||typeof H=="object"&&H!==null&&H.$$typeof===nn&&dc(H)===$.type){r(P,$.sibling),w=s($,F.props),w.ref=Ki(P,$,F),w.return=P,P=w;break e}r(P,$);break}else t(P,$);$=$.sibling}F.type===ni?(w=Un(F.props.children,P.mode,U,F.key),w.return=P,P=w):(U=xo(F.type,F.key,F.props,null,P.mode,U),U.ref=Ki(P,w,F),U.return=P,P=U)}return p(P);case ri:e:{for($=F.key;w!==null;){if(w.key===$)if(w.tag===4&&w.stateNode.containerInfo===F.containerInfo&&w.stateNode.implementation===F.implementation){r(P,w.sibling),w=s(w,F.children||[]),w.return=P,P=w;break e}else{r(P,w);break}else t(P,w);w=w.sibling}w=Js(F,P.mode,U),w.return=P,P=w}return p(P);case nn:return $=F._init,K(P,w,$(F._payload),U)}if(Xi(F))return b(P,w,F,U);if(Ui(F))return D(P,w,F,U);to(P,F)}return typeof F=="string"&&F!==""||typeof F=="number"?(F=""+F,w!==null&&w.tag===6?(r(P,w.sibling),w=s(w,F),w.return=P,P=w):(r(P,w),w=Zs(F,P.mode,U),w.return=P,P=w),p(P)):r(P,w)}return K}var Ti=uh(!0),fh=uh(!1),Fo=Sn(null),bo=null,ci=null,wu=null;function Ru(){wu=ci=bo=null}function Au(e){var t=Fo.current;Xe(Fo),e._currentValue=t}function Il(e,t,r){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===r)break;e=e.return}}function yi(e,t){bo=e,wu=ci=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Zt=!0),e.firstContext=null)}function mr(e){var t=e._currentValue;if(wu!==e)if(e={context:e,memoizedValue:t,next:null},ci===null){if(bo===null)throw Error(ie(308));ci=e,bo.dependencies={lanes:0,firstContext:e}}else ci=ci.next=e;return t}var bn=null;function Lu(e){bn===null?bn=[e]:bn.push(e)}function ch(e,t,r,i){var s=t.interleaved;return s===null?(r.next=r,Lu(t)):(r.next=s.next,s.next=r),t.interleaved=r,Zr(e,i)}function Zr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var an=!1;function Pu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Yr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function pn(e,t,r){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,Fe&2){var s=i.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),i.pending=t,Zr(e,r)}return s=i.interleaved,s===null?(t.next=t,Lu(i)):(t.next=s.next,s.next=t),i.interleaved=t,Zr(e,r)}function ho(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,hu(e,r)}}function hc(e,t){var r=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,r===i)){var s=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var p={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};f===null?s=f=p:f=f.next=p,r=r.next}while(r!==null);f===null?s=f=t:f=f.next=t}else s=f=t;r={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:f,shared:i.shared,effects:i.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Mo(e,t,r,i){var s=e.updateQueue;an=!1;var f=s.firstBaseUpdate,p=s.lastBaseUpdate,m=s.shared.pending;if(m!==null){s.shared.pending=null;var T=m,g=T.next;T.next=null,p===null?f=g:p.next=g,p=T;var E=e.alternate;E!==null&&(E=E.updateQueue,m=E.lastBaseUpdate,m!==p&&(m===null?E.firstBaseUpdate=g:m.next=g,E.lastBaseUpdate=T))}if(f!==null){var N=s.baseState;p=0,E=g=T=null,m=f;do{var _=m.lane,k=m.eventTime;if((i&_)===_){E!==null&&(E=E.next={eventTime:k,lane:0,tag:m.tag,payload:m.payload,callback:m.callback,next:null});e:{var b=e,D=m;switch(_=t,k=r,D.tag){case 1:if(b=D.payload,typeof b=="function"){N=b.call(k,N,_);break e}N=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=D.payload,_=typeof b=="function"?b.call(k,N,_):b,_==null)break e;N=Je({},N,_);break e;case 2:an=!0}}m.callback!==null&&m.lane!==0&&(e.flags|=64,_=s.effects,_===null?s.effects=[m]:_.push(m))}else k={eventTime:k,lane:_,tag:m.tag,payload:m.payload,callback:m.callback,next:null},E===null?(g=E=k,T=N):E=E.next=k,p|=_;if(m=m.next,m===null){if(m=s.shared.pending,m===null)break;_=m,m=_.next,_.next=null,s.lastBaseUpdate=_,s.shared.pending=null}}while(!0);if(E===null&&(T=N),s.baseState=T,s.firstBaseUpdate=g,s.lastBaseUpdate=E,t=s.shared.interleaved,t!==null){s=t;do p|=s.lane,s=s.next;while(s!==t)}else f===null&&(s.shared.lanes=0);zn|=p,e.lanes=p,e.memoizedState=N}}function pc(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],s=i.callback;if(s!==null){if(i.callback=null,i=r,typeof s!="function")throw Error(ie(191,s));s.call(i)}}}var Oa={},jr=Sn(Oa),Ea=Sn(Oa),Sa=Sn(Oa);function Mn(e){if(e===Oa)throw Error(ie(174));return e}function ku(e,t){switch(He(Sa,t),He(Ea,e),He(jr,Oa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:hl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=hl(t,e)}Xe(jr),He(jr,t)}function wi(){Xe(jr),Xe(Ea),Xe(Sa)}function hh(e){Mn(Sa.current);var t=Mn(jr.current),r=hl(t,e.type);t!==r&&(He(Ea,e),He(jr,r))}function Du(e){Ea.current===e&&(Xe(jr),Xe(Ea))}var qe=Sn(0);function No(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ws=[];function Ou(){for(var e=0;e<Ws.length;e++)Ws[e]._workInProgressVersionPrimary=null;Ws.length=0}var po=en.ReactCurrentDispatcher,$s=en.ReactCurrentBatchConfig,Gn=0,Ze=null,dt=null,vt=null,Uo=!1,ia=!1,_a=0,Em=0;function Ot(){throw Error(ie(321))}function Cu(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Or(e[r],t[r]))return!1;return!0}function Iu(e,t,r,i,s,f){if(Gn=f,Ze=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,po.current=e===null||e.memoizedState===null?wm:Rm,e=r(i,s),ia){f=0;do{if(ia=!1,_a=0,25<=f)throw Error(ie(301));f+=1,vt=dt=null,t.updateQueue=null,po.current=Am,e=r(i,s)}while(ia)}if(po.current=Bo,t=dt!==null&&dt.next!==null,Gn=0,vt=dt=Ze=null,Uo=!1,t)throw Error(ie(300));return e}function Fu(){var e=_a!==0;return _a=0,e}function Mr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?Ze.memoizedState=vt=e:vt=vt.next=e,vt}function yr(){if(dt===null){var e=Ze.alternate;e=e!==null?e.memoizedState:null}else e=dt.next;var t=vt===null?Ze.memoizedState:vt.next;if(t!==null)vt=t,dt=e;else{if(e===null)throw Error(ie(310));dt=e,e={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},vt===null?Ze.memoizedState=vt=e:vt=vt.next=e}return vt}function Ta(e,t){return typeof t=="function"?t(e):t}function Ys(e){var t=yr(),r=t.queue;if(r===null)throw Error(ie(311));r.lastRenderedReducer=e;var i=dt,s=i.baseQueue,f=r.pending;if(f!==null){if(s!==null){var p=s.next;s.next=f.next,f.next=p}i.baseQueue=s=f,r.pending=null}if(s!==null){f=s.next,i=i.baseState;var m=p=null,T=null,g=f;do{var E=g.lane;if((Gn&E)===E)T!==null&&(T=T.next={lane:0,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null}),i=g.hasEagerState?g.eagerState:e(i,g.action);else{var N={lane:E,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null};T===null?(m=T=N,p=i):T=T.next=N,Ze.lanes|=E,zn|=E}g=g.next}while(g!==null&&g!==f);T===null?p=i:T.next=m,Or(i,t.memoizedState)||(Zt=!0),t.memoizedState=i,t.baseState=p,t.baseQueue=T,r.lastRenderedState=i}if(e=r.interleaved,e!==null){s=e;do f=s.lane,Ze.lanes|=f,zn|=f,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Xs(e){var t=yr(),r=t.queue;if(r===null)throw Error(ie(311));r.lastRenderedReducer=e;var i=r.dispatch,s=r.pending,f=t.memoizedState;if(s!==null){r.pending=null;var p=s=s.next;do f=e(f,p.action),p=p.next;while(p!==s);Or(f,t.memoizedState)||(Zt=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),r.lastRenderedState=f}return[f,i]}function ph(){}function gh(e,t){var r=Ze,i=yr(),s=t(),f=!Or(i.memoizedState,s);if(f&&(i.memoizedState=s,Zt=!0),i=i.queue,bu(yh.bind(null,r,i,e),[e]),i.getSnapshot!==t||f||vt!==null&&vt.memoizedState.tag&1){if(r.flags|=2048,wa(9,mh.bind(null,r,i,s,t),void 0,null),mt===null)throw Error(ie(349));Gn&30||vh(r,t,s)}return s}function vh(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ze.updateQueue,t===null?(t={lastEffect:null,stores:null},Ze.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function mh(e,t,r,i){t.value=r,t.getSnapshot=i,xh(t)&&Eh(e)}function yh(e,t,r){return r(function(){xh(t)&&Eh(e)})}function xh(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Or(e,r)}catch{return!0}}function Eh(e){var t=Zr(e,1);t!==null&&Dr(t,e,1,-1)}function gc(e){var t=Mr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:e},t.queue=e,e=e.dispatch=Tm.bind(null,Ze,e),[t.memoizedState,e]}function wa(e,t,r,i){return e={tag:e,create:t,destroy:r,deps:i,next:null},t=Ze.updateQueue,t===null?(t={lastEffect:null,stores:null},Ze.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(i=r.next,r.next=e,e.next=i,t.lastEffect=e)),e}function Sh(){return yr().memoizedState}function go(e,t,r,i){var s=Mr();Ze.flags|=e,s.memoizedState=wa(1|t,r,void 0,i===void 0?null:i)}function es(e,t,r,i){var s=yr();i=i===void 0?null:i;var f=void 0;if(dt!==null){var p=dt.memoizedState;if(f=p.destroy,i!==null&&Cu(i,p.deps)){s.memoizedState=wa(t,r,f,i);return}}Ze.flags|=e,s.memoizedState=wa(1|t,r,f,i)}function vc(e,t){return go(8390656,8,e,t)}function bu(e,t){return es(2048,8,e,t)}function _h(e,t){return es(4,2,e,t)}function Th(e,t){return es(4,4,e,t)}function wh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Rh(e,t,r){return r=r!=null?r.concat([e]):null,es(4,4,wh.bind(null,t,e),r)}function Mu(){}function Ah(e,t){var r=yr();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&Cu(t,i[1])?i[0]:(r.memoizedState=[e,t],e)}function Lh(e,t){var r=yr();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&Cu(t,i[1])?i[0]:(e=e(),r.memoizedState=[e,t],e)}function Ph(e,t,r){return Gn&21?(Or(r,t)||(r=Id(),Ze.lanes|=r,zn|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Zt=!0),e.memoizedState=r)}function Sm(e,t){var r=je;je=r!==0&&4>r?r:4,e(!0);var i=$s.transition;$s.transition={};try{e(!1),t()}finally{je=r,$s.transition=i}}function kh(){return yr().memoizedState}function _m(e,t,r){var i=vn(e);if(r={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null},Dh(e))Oh(t,r);else if(r=ch(e,t,r,i),r!==null){var s=zt();Dr(r,e,i,s),Ch(r,t,i)}}function Tm(e,t,r){var i=vn(e),s={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null};if(Dh(e))Oh(t,s);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var p=t.lastRenderedState,m=f(p,r);if(s.hasEagerState=!0,s.eagerState=m,Or(m,p)){var T=t.interleaved;T===null?(s.next=s,Lu(t)):(s.next=T.next,T.next=s),t.interleaved=s;return}}catch{}finally{}r=ch(e,t,s,i),r!==null&&(s=zt(),Dr(r,e,i,s),Ch(r,t,i))}}function Dh(e){var t=e.alternate;return e===Ze||t!==null&&t===Ze}function Oh(e,t){ia=Uo=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Ch(e,t,r){if(r&4194240){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,hu(e,r)}}var Bo={readContext:mr,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useInsertionEffect:Ot,useLayoutEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useMutableSource:Ot,useSyncExternalStore:Ot,useId:Ot,unstable_isNewReconciler:!1},wm={readContext:mr,useCallback:function(e,t){return Mr().memoizedState=[e,t===void 0?null:t],e},useContext:mr,useEffect:vc,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,go(4194308,4,wh.bind(null,t,e),r)},useLayoutEffect:function(e,t){return go(4194308,4,e,t)},useInsertionEffect:function(e,t){return go(4,2,e,t)},useMemo:function(e,t){var r=Mr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var i=Mr();return t=r!==void 0?r(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=_m.bind(null,Ze,e),[i.memoizedState,e]},useRef:function(e){var t=Mr();return e={current:e},t.memoizedState=e},useState:gc,useDebugValue:Mu,useDeferredValue:function(e){return Mr().memoizedState=e},useTransition:function(){var e=gc(!1),t=e[0];return e=Sm.bind(null,e[1]),Mr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var i=Ze,s=Mr();if(Qe){if(r===void 0)throw Error(ie(407));r=r()}else{if(r=t(),mt===null)throw Error(ie(349));Gn&30||vh(i,t,r)}s.memoizedState=r;var f={value:r,getSnapshot:t};return s.queue=f,vc(yh.bind(null,i,f,e),[e]),i.flags|=2048,wa(9,mh.bind(null,i,f,r,t),void 0,null),r},useId:function(){var e=Mr(),t=mt.identifierPrefix;if(Qe){var r=$r,i=Wr;r=(i&~(1<<32-kr(i)-1)).toString(32)+r,t=":"+t+"R"+r,r=_a++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Em++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Rm={readContext:mr,useCallback:Ah,useContext:mr,useEffect:bu,useImperativeHandle:Rh,useInsertionEffect:_h,useLayoutEffect:Th,useMemo:Lh,useReducer:Ys,useRef:Sh,useState:function(){return Ys(Ta)},useDebugValue:Mu,useDeferredValue:function(e){var t=yr();return Ph(t,dt.memoizedState,e)},useTransition:function(){var e=Ys(Ta)[0],t=yr().memoizedState;return[e,t]},useMutableSource:ph,useSyncExternalStore:gh,useId:kh,unstable_isNewReconciler:!1},Am={readContext:mr,useCallback:Ah,useContext:mr,useEffect:bu,useImperativeHandle:Rh,useInsertionEffect:_h,useLayoutEffect:Th,useMemo:Lh,useReducer:Xs,useRef:Sh,useState:function(){return Xs(Ta)},useDebugValue:Mu,useDeferredValue:function(e){var t=yr();return dt===null?t.memoizedState=e:Ph(t,dt.memoizedState,e)},useTransition:function(){var e=Xs(Ta)[0],t=yr().memoizedState;return[e,t]},useMutableSource:ph,useSyncExternalStore:gh,useId:kh,unstable_isNewReconciler:!1};function Rr(e,t){if(e&&e.defaultProps){t=Je({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Fl(e,t,r,i){t=e.memoizedState,r=r(i,t),r=r==null?t:Je({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ts={isMounted:function(e){return(e=e._reactInternals)?Vn(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var i=zt(),s=vn(e),f=Yr(i,s);f.payload=t,r!=null&&(f.callback=r),t=pn(e,f,s),t!==null&&(Dr(t,e,s,i),ho(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var i=zt(),s=vn(e),f=Yr(i,s);f.tag=1,f.payload=t,r!=null&&(f.callback=r),t=pn(e,f,s),t!==null&&(Dr(t,e,s,i),ho(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=zt(),i=vn(e),s=Yr(r,i);s.tag=2,t!=null&&(s.callback=t),t=pn(e,s,i),t!==null&&(Dr(t,e,i,r),ho(t,e,i))}};function mc(e,t,r,i,s,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,f,p):t.prototype&&t.prototype.isPureReactComponent?!va(r,i)||!va(s,f):!0}function Ih(e,t,r){var i=!1,s=xn,f=t.contextType;return typeof f=="object"&&f!==null?f=mr(f):(s=er(t)?Bn:bt.current,i=t.contextTypes,f=(i=i!=null)?Si(e,s):xn),t=new t(r,f),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ts,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=f),t}function yc(e,t,r,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,i),t.state!==e&&ts.enqueueReplaceState(t,t.state,null)}function bl(e,t,r,i){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Pu(e);var f=t.contextType;typeof f=="object"&&f!==null?s.context=mr(f):(f=er(t)?Bn:bt.current,s.context=Si(e,f)),s.state=e.memoizedState,f=t.getDerivedStateFromProps,typeof f=="function"&&(Fl(e,t,f,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&ts.enqueueReplaceState(s,s.state,null),Mo(e,r,s,i),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ri(e,t){try{var r="",i=t;do r+=ev(i),i=i.return;while(i);var s=r}catch(f){s=`
Error generating stack: `+f.message+`
`+f.stack}return{value:e,source:t,stack:s,digest:null}}function Qs(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Ml(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Lm=typeof WeakMap=="function"?WeakMap:Map;function Fh(e,t,r){r=Yr(-1,r),r.tag=3,r.payload={element:null};var i=t.value;return r.callback=function(){Go||(Go=!0,Wl=i),Ml(e,t)},r}function bh(e,t,r){r=Yr(-1,r),r.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var s=t.value;r.payload=function(){return i(s)},r.callback=function(){Ml(e,t)}}var f=e.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(r.callback=function(){Ml(e,t),typeof i!="function"&&(gn===null?gn=new Set([this]):gn.add(this));var p=t.stack;this.componentDidCatch(t.value,{componentStack:p!==null?p:""})}),r}function xc(e,t,r){var i=e.pingCache;if(i===null){i=e.pingCache=new Lm;var s=new Set;i.set(t,s)}else s=i.get(t),s===void 0&&(s=new Set,i.set(t,s));s.has(r)||(s.add(r),e=Gm.bind(null,e,t,r),t.then(e,e))}function Ec(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Sc(e,t,r,i,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Yr(-1,1),t.tag=2,pn(r,t,1))),r.lanes|=1),e)}var Pm=en.ReactCurrentOwner,Zt=!1;function Gt(e,t,r,i){t.child=e===null?fh(t,null,r,i):Ti(t,e.child,r,i)}function _c(e,t,r,i,s){r=r.render;var f=t.ref;return yi(t,s),i=Iu(e,t,r,i,f,s),r=Fu(),e!==null&&!Zt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Jr(e,t,s)):(Qe&&r&&Su(t),t.flags|=1,Gt(e,t,i,s),t.child)}function Tc(e,t,r,i,s){if(e===null){var f=r.type;return typeof f=="function"&&!Hu(f)&&f.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=f,Mh(e,t,f,i,s)):(e=xo(r.type,null,i,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,!(e.lanes&s)){var p=f.memoizedProps;if(r=r.compare,r=r!==null?r:va,r(p,i)&&e.ref===t.ref)return Jr(e,t,s)}return t.flags|=1,e=mn(f,i),e.ref=t.ref,e.return=t,t.child=e}function Mh(e,t,r,i,s){if(e!==null){var f=e.memoizedProps;if(va(f,i)&&e.ref===t.ref)if(Zt=!1,t.pendingProps=i=f,(e.lanes&s)!==0)e.flags&131072&&(Zt=!0);else return t.lanes=e.lanes,Jr(e,t,s)}return Nl(e,t,r,i,s)}function Nh(e,t,r){var i=t.pendingProps,s=i.children,f=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(hi,or),or|=r;else{if(!(r&1073741824))return e=f!==null?f.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,He(hi,or),or|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=f!==null?f.baseLanes:r,He(hi,or),or|=i}else f!==null?(i=f.baseLanes|r,t.memoizedState=null):i=r,He(hi,or),or|=i;return Gt(e,t,s,r),t.child}function Uh(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Nl(e,t,r,i,s){var f=er(r)?Bn:bt.current;return f=Si(t,f),yi(t,s),r=Iu(e,t,r,i,f,s),i=Fu(),e!==null&&!Zt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Jr(e,t,s)):(Qe&&i&&Su(t),t.flags|=1,Gt(e,t,r,s),t.child)}function wc(e,t,r,i,s){if(er(r)){var f=!0;Oo(t)}else f=!1;if(yi(t,s),t.stateNode===null)vo(e,t),Ih(t,r,i),bl(t,r,i,s),i=!0;else if(e===null){var p=t.stateNode,m=t.memoizedProps;p.props=m;var T=p.context,g=r.contextType;typeof g=="object"&&g!==null?g=mr(g):(g=er(r)?Bn:bt.current,g=Si(t,g));var E=r.getDerivedStateFromProps,N=typeof E=="function"||typeof p.getSnapshotBeforeUpdate=="function";N||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(m!==i||T!==g)&&yc(t,p,i,g),an=!1;var _=t.memoizedState;p.state=_,Mo(t,i,p,s),T=t.memoizedState,m!==i||_!==T||Jt.current||an?(typeof E=="function"&&(Fl(t,r,E,i),T=t.memoizedState),(m=an||mc(t,r,m,i,_,T,g))?(N||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(t.flags|=4194308)):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=T),p.props=i,p.state=T,p.context=g,i=m):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{p=t.stateNode,dh(e,t),m=t.memoizedProps,g=t.type===t.elementType?m:Rr(t.type,m),p.props=g,N=t.pendingProps,_=p.context,T=r.contextType,typeof T=="object"&&T!==null?T=mr(T):(T=er(r)?Bn:bt.current,T=Si(t,T));var k=r.getDerivedStateFromProps;(E=typeof k=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(m!==N||_!==T)&&yc(t,p,i,T),an=!1,_=t.memoizedState,p.state=_,Mo(t,i,p,s);var b=t.memoizedState;m!==N||_!==b||Jt.current||an?(typeof k=="function"&&(Fl(t,r,k,i),b=t.memoizedState),(g=an||mc(t,r,g,i,_,b,T)||!1)?(E||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(i,b,T),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(i,b,T)),typeof p.componentDidUpdate=="function"&&(t.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof p.componentDidUpdate!="function"||m===e.memoizedProps&&_===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&_===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=b),p.props=i,p.state=b,p.context=T,i=g):(typeof p.componentDidUpdate!="function"||m===e.memoizedProps&&_===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&_===e.memoizedState||(t.flags|=1024),i=!1)}return Ul(e,t,r,i,f,s)}function Ul(e,t,r,i,s,f){Uh(e,t);var p=(t.flags&128)!==0;if(!i&&!p)return s&&uc(t,r,!1),Jr(e,t,f);i=t.stateNode,Pm.current=t;var m=p&&typeof r.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&p?(t.child=Ti(t,e.child,null,f),t.child=Ti(t,null,m,f)):Gt(e,t,m,f),t.memoizedState=i.state,s&&uc(t,r,!0),t.child}function Bh(e){var t=e.stateNode;t.pendingContext?lc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&lc(e,t.context,!1),ku(e,t.containerInfo)}function Rc(e,t,r,i,s){return _i(),Tu(s),t.flags|=256,Gt(e,t,r,i),t.child}var Bl={dehydrated:null,treeContext:null,retryLane:0};function jl(e){return{baseLanes:e,cachePool:null,transitions:null}}function jh(e,t,r){var i=t.pendingProps,s=qe.current,f=!1,p=(t.flags&128)!==0,m;if((m=p)||(m=e!==null&&e.memoizedState===null?!1:(s&2)!==0),m?(f=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),He(qe,s&1),e===null)return Cl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(p=i.children,e=i.fallback,f?(i=t.mode,f=t.child,p={mode:"hidden",children:p},!(i&1)&&f!==null?(f.childLanes=0,f.pendingProps=p):f=is(p,i,0,null),e=Un(e,i,r,null),f.return=t,e.return=t,f.sibling=e,t.child=f,t.child.memoizedState=jl(r),t.memoizedState=Bl,e):Nu(t,p));if(s=e.memoizedState,s!==null&&(m=s.dehydrated,m!==null))return km(e,t,p,i,m,s,r);if(f){f=i.fallback,p=t.mode,s=e.child,m=s.sibling;var T={mode:"hidden",children:i.children};return!(p&1)&&t.child!==s?(i=t.child,i.childLanes=0,i.pendingProps=T,t.deletions=null):(i=mn(s,T),i.subtreeFlags=s.subtreeFlags&14680064),m!==null?f=mn(m,f):(f=Un(f,p,r,null),f.flags|=2),f.return=t,i.return=t,i.sibling=f,t.child=i,i=f,f=t.child,p=e.child.memoizedState,p=p===null?jl(r):{baseLanes:p.baseLanes|r,cachePool:null,transitions:p.transitions},f.memoizedState=p,f.childLanes=e.childLanes&~r,t.memoizedState=Bl,i}return f=e.child,e=f.sibling,i=mn(f,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=r),i.return=t,i.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=i,t.memoizedState=null,i}function Nu(e,t){return t=is({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ro(e,t,r,i){return i!==null&&Tu(i),Ti(t,e.child,null,r),e=Nu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function km(e,t,r,i,s,f,p){if(r)return t.flags&256?(t.flags&=-257,i=Qs(Error(ie(422))),ro(e,t,p,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(f=i.fallback,s=t.mode,i=is({mode:"visible",children:i.children},s,0,null),f=Un(f,s,p,null),f.flags|=2,i.return=t,f.return=t,i.sibling=f,t.child=i,t.mode&1&&Ti(t,e.child,null,p),t.child.memoizedState=jl(p),t.memoizedState=Bl,f);if(!(t.mode&1))return ro(e,t,p,null);if(s.data==="$!"){if(i=s.nextSibling&&s.nextSibling.dataset,i)var m=i.dgst;return i=m,f=Error(ie(419)),i=Qs(f,i,void 0),ro(e,t,p,i)}if(m=(p&e.childLanes)!==0,Zt||m){if(i=mt,i!==null){switch(p&-p){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(i.suspendedLanes|p)?0:s,s!==0&&s!==f.retryLane&&(f.retryLane=s,Zr(e,s),Dr(i,e,s,-1))}return Ku(),i=Qs(Error(ie(421))),ro(e,t,p,i)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=zm.bind(null,e),s._reactRetry=t,null):(e=f.treeContext,sr=hn(s.nextSibling),lr=t,Qe=!0,Lr=null,e!==null&&(hr[pr++]=Wr,hr[pr++]=$r,hr[pr++]=jn,Wr=e.id,$r=e.overflow,jn=t),t=Nu(t,i.children),t.flags|=4096,t)}function Ac(e,t,r){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Il(e.return,t,r)}function qs(e,t,r,i,s){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:s}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=i,f.tail=r,f.tailMode=s)}function Gh(e,t,r){var i=t.pendingProps,s=i.revealOrder,f=i.tail;if(Gt(e,t,i.children,r),i=qe.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ac(e,r,t);else if(e.tag===19)Ac(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(He(qe,i),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&No(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),qs(t,!1,s,r,f);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&No(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}qs(t,!0,r,null,f);break;case"together":qs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function vo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Jr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),zn|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ie(153));if(t.child!==null){for(e=t.child,r=mn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=mn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Dm(e,t,r){switch(t.tag){case 3:Bh(t),_i();break;case 5:hh(t);break;case 1:er(t.type)&&Oo(t);break;case 4:ku(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,s=t.memoizedProps.value;He(Fo,i._currentValue),i._currentValue=s;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(He(qe,qe.current&1),t.flags|=128,null):r&t.child.childLanes?jh(e,t,r):(He(qe,qe.current&1),e=Jr(e,t,r),e!==null?e.sibling:null);He(qe,qe.current&1);break;case 19:if(i=(r&t.childLanes)!==0,e.flags&128){if(i)return Gh(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),He(qe,qe.current),i)break;return null;case 22:case 23:return t.lanes=0,Nh(e,t,r)}return Jr(e,t,r)}var zh,Gl,Kh,Hh;zh=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Gl=function(){};Kh=function(e,t,r,i){var s=e.memoizedProps;if(s!==i){e=t.stateNode,Mn(jr.current);var f=null;switch(r){case"input":s=ul(e,s),i=ul(e,i),f=[];break;case"select":s=Je({},s,{value:void 0}),i=Je({},i,{value:void 0}),f=[];break;case"textarea":s=dl(e,s),i=dl(e,i),f=[];break;default:typeof s.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=ko)}pl(r,i);var p;r=null;for(g in s)if(!i.hasOwnProperty(g)&&s.hasOwnProperty(g)&&s[g]!=null)if(g==="style"){var m=s[g];for(p in m)m.hasOwnProperty(p)&&(r||(r={}),r[p]="")}else g!=="dangerouslySetInnerHTML"&&g!=="children"&&g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(ua.hasOwnProperty(g)?f||(f=[]):(f=f||[]).push(g,null));for(g in i){var T=i[g];if(m=s!=null?s[g]:void 0,i.hasOwnProperty(g)&&T!==m&&(T!=null||m!=null))if(g==="style")if(m){for(p in m)!m.hasOwnProperty(p)||T&&T.hasOwnProperty(p)||(r||(r={}),r[p]="");for(p in T)T.hasOwnProperty(p)&&m[p]!==T[p]&&(r||(r={}),r[p]=T[p])}else r||(f||(f=[]),f.push(g,r)),r=T;else g==="dangerouslySetInnerHTML"?(T=T?T.__html:void 0,m=m?m.__html:void 0,T!=null&&m!==T&&(f=f||[]).push(g,T)):g==="children"?typeof T!="string"&&typeof T!="number"||(f=f||[]).push(g,""+T):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&(ua.hasOwnProperty(g)?(T!=null&&g==="onScroll"&&Ye("scroll",e),f||m===T||(f=[])):(f=f||[]).push(g,T))}r&&(f=f||[]).push("style",r);var g=f;(t.updateQueue=g)&&(t.flags|=4)}};Hh=function(e,t,r,i){r!==i&&(t.flags|=4)};function Hi(e,t){if(!Qe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Ct(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,i=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,i|=s.subtreeFlags&14680064,i|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=i,e.childLanes=r,t}function Om(e,t,r){var i=t.pendingProps;switch(_u(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(t),null;case 1:return er(t.type)&&Do(),Ct(t),null;case 3:return i=t.stateNode,wi(),Xe(Jt),Xe(bt),Ou(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(eo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Lr!==null&&(Xl(Lr),Lr=null))),Gl(e,t),Ct(t),null;case 5:Du(t);var s=Mn(Sa.current);if(r=t.type,e!==null&&t.stateNode!=null)Kh(e,t,r,i,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(ie(166));return Ct(t),null}if(e=Mn(jr.current),eo(t)){i=t.stateNode,r=t.type;var f=t.memoizedProps;switch(i[Nr]=t,i[xa]=f,e=(t.mode&1)!==0,r){case"dialog":Ye("cancel",i),Ye("close",i);break;case"iframe":case"object":case"embed":Ye("load",i);break;case"video":case"audio":for(s=0;s<qi.length;s++)Ye(qi[s],i);break;case"source":Ye("error",i);break;case"img":case"image":case"link":Ye("error",i),Ye("load",i);break;case"details":Ye("toggle",i);break;case"input":bf(i,f),Ye("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!f.multiple},Ye("invalid",i);break;case"textarea":Nf(i,f),Ye("invalid",i)}pl(r,f),s=null;for(var p in f)if(f.hasOwnProperty(p)){var m=f[p];p==="children"?typeof m=="string"?i.textContent!==m&&(f.suppressHydrationWarning!==!0&&Ja(i.textContent,m,e),s=["children",m]):typeof m=="number"&&i.textContent!==""+m&&(f.suppressHydrationWarning!==!0&&Ja(i.textContent,m,e),s=["children",""+m]):ua.hasOwnProperty(p)&&m!=null&&p==="onScroll"&&Ye("scroll",i)}switch(r){case"input":Va(i),Mf(i,f,!0);break;case"textarea":Va(i),Uf(i);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(i.onclick=ko)}i=s,t.updateQueue=i,i!==null&&(t.flags|=4)}else{p=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=yd(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=p.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=p.createElement(r,{is:i.is}):(e=p.createElement(r),r==="select"&&(p=e,i.multiple?p.multiple=!0:i.size&&(p.size=i.size))):e=p.createElementNS(e,r),e[Nr]=t,e[xa]=i,zh(e,t,!1,!1),t.stateNode=e;e:{switch(p=gl(r,i),r){case"dialog":Ye("cancel",e),Ye("close",e),s=i;break;case"iframe":case"object":case"embed":Ye("load",e),s=i;break;case"video":case"audio":for(s=0;s<qi.length;s++)Ye(qi[s],e);s=i;break;case"source":Ye("error",e),s=i;break;case"img":case"image":case"link":Ye("error",e),Ye("load",e),s=i;break;case"details":Ye("toggle",e),s=i;break;case"input":bf(e,i),s=ul(e,i),Ye("invalid",e);break;case"option":s=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},s=Je({},i,{value:void 0}),Ye("invalid",e);break;case"textarea":Nf(e,i),s=dl(e,i),Ye("invalid",e);break;default:s=i}pl(r,s),m=s;for(f in m)if(m.hasOwnProperty(f)){var T=m[f];f==="style"?Sd(e,T):f==="dangerouslySetInnerHTML"?(T=T?T.__html:void 0,T!=null&&xd(e,T)):f==="children"?typeof T=="string"?(r!=="textarea"||T!=="")&&fa(e,T):typeof T=="number"&&fa(e,""+T):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(ua.hasOwnProperty(f)?T!=null&&f==="onScroll"&&Ye("scroll",e):T!=null&&su(e,f,T,p))}switch(r){case"input":Va(e),Mf(e,i,!1);break;case"textarea":Va(e),Uf(e);break;case"option":i.value!=null&&e.setAttribute("value",""+yn(i.value));break;case"select":e.multiple=!!i.multiple,f=i.value,f!=null?pi(e,!!i.multiple,f,!1):i.defaultValue!=null&&pi(e,!!i.multiple,i.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ko)}switch(r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ct(t),null;case 6:if(e&&t.stateNode!=null)Hh(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(ie(166));if(r=Mn(Sa.current),Mn(jr.current),eo(t)){if(i=t.stateNode,r=t.memoizedProps,i[Nr]=t,(f=i.nodeValue!==r)&&(e=lr,e!==null))switch(e.tag){case 3:Ja(i.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ja(i.nodeValue,r,(e.mode&1)!==0)}f&&(t.flags|=4)}else i=(r.nodeType===9?r:r.ownerDocument).createTextNode(i),i[Nr]=t,t.stateNode=i}return Ct(t),null;case 13:if(Xe(qe),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Qe&&sr!==null&&t.mode&1&&!(t.flags&128))lh(),_i(),t.flags|=98560,f=!1;else if(f=eo(t),i!==null&&i.dehydrated!==null){if(e===null){if(!f)throw Error(ie(318));if(f=t.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(ie(317));f[Nr]=t}else _i(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ct(t),f=!1}else Lr!==null&&(Xl(Lr),Lr=null),f=!0;if(!f)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(e===null||qe.current&1?ht===0&&(ht=3):Ku())),t.updateQueue!==null&&(t.flags|=4),Ct(t),null);case 4:return wi(),Gl(e,t),e===null&&ma(t.stateNode.containerInfo),Ct(t),null;case 10:return Au(t.type._context),Ct(t),null;case 17:return er(t.type)&&Do(),Ct(t),null;case 19:if(Xe(qe),f=t.memoizedState,f===null)return Ct(t),null;if(i=(t.flags&128)!==0,p=f.rendering,p===null)if(i)Hi(f,!1);else{if(ht!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(p=No(e),p!==null){for(t.flags|=128,Hi(f,!1),i=p.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=r,r=t.child;r!==null;)f=r,e=i,f.flags&=14680066,p=f.alternate,p===null?(f.childLanes=0,f.lanes=e,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=p.childLanes,f.lanes=p.lanes,f.child=p.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=p.memoizedProps,f.memoizedState=p.memoizedState,f.updateQueue=p.updateQueue,f.type=p.type,e=p.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return He(qe,qe.current&1|2),t.child}e=e.sibling}f.tail!==null&&it()>Ai&&(t.flags|=128,i=!0,Hi(f,!1),t.lanes=4194304)}else{if(!i)if(e=No(p),e!==null){if(t.flags|=128,i=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Hi(f,!0),f.tail===null&&f.tailMode==="hidden"&&!p.alternate&&!Qe)return Ct(t),null}else 2*it()-f.renderingStartTime>Ai&&r!==1073741824&&(t.flags|=128,i=!0,Hi(f,!1),t.lanes=4194304);f.isBackwards?(p.sibling=t.child,t.child=p):(r=f.last,r!==null?r.sibling=p:t.child=p,f.last=p)}return f.tail!==null?(t=f.tail,f.rendering=t,f.tail=t.sibling,f.renderingStartTime=it(),t.sibling=null,r=qe.current,He(qe,i?r&1|2:r&1),t):(Ct(t),null);case 22:case 23:return zu(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?or&1073741824&&(Ct(t),t.subtreeFlags&6&&(t.flags|=8192)):Ct(t),null;case 24:return null;case 25:return null}throw Error(ie(156,t.tag))}function Cm(e,t){switch(_u(t),t.tag){case 1:return er(t.type)&&Do(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return wi(),Xe(Jt),Xe(bt),Ou(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Du(t),null;case 13:if(Xe(qe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ie(340));_i()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Xe(qe),null;case 4:return wi(),null;case 10:return Au(t.type._context),null;case 22:case 23:return zu(),null;case 24:return null;default:return null}}var no=!1,Ft=!1,Im=typeof WeakSet=="function"?WeakSet:Set,ce=null;function di(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(i){tt(e,t,i)}else r.current=null}function zl(e,t,r){try{r()}catch(i){tt(e,t,i)}}var Lc=!1;function Fm(e,t){if(Rl=Ao,e=Xd(),Eu(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var i=r.getSelection&&r.getSelection();if(i&&i.rangeCount!==0){r=i.anchorNode;var s=i.anchorOffset,f=i.focusNode;i=i.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var p=0,m=-1,T=-1,g=0,E=0,N=e,_=null;t:for(;;){for(var k;N!==r||s!==0&&N.nodeType!==3||(m=p+s),N!==f||i!==0&&N.nodeType!==3||(T=p+i),N.nodeType===3&&(p+=N.nodeValue.length),(k=N.firstChild)!==null;)_=N,N=k;for(;;){if(N===e)break t;if(_===r&&++g===s&&(m=p),_===f&&++E===i&&(T=p),(k=N.nextSibling)!==null)break;N=_,_=N.parentNode}N=k}r=m===-1||T===-1?null:{start:m,end:T}}else r=null}r=r||{start:0,end:0}}else r=null;for(Al={focusedElem:e,selectionRange:r},Ao=!1,ce=t;ce!==null;)if(t=ce,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ce=e;else for(;ce!==null;){t=ce;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var D=b.memoizedProps,K=b.memoizedState,P=t.stateNode,w=P.getSnapshotBeforeUpdate(t.elementType===t.type?D:Rr(t.type,D),K);P.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var F=t.stateNode.containerInfo;F.nodeType===1?F.textContent="":F.nodeType===9&&F.documentElement&&F.removeChild(F.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ie(163))}}catch(U){tt(t,t.return,U)}if(e=t.sibling,e!==null){e.return=t.return,ce=e;break}ce=t.return}return b=Lc,Lc=!1,b}function aa(e,t,r){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&e)===e){var f=s.destroy;s.destroy=void 0,f!==void 0&&zl(t,r,f)}s=s.next}while(s!==i)}}function rs(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var i=r.create;r.destroy=i()}r=r.next}while(r!==t)}}function Kl(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Vh(e){var t=e.alternate;t!==null&&(e.alternate=null,Vh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Nr],delete t[xa],delete t[kl],delete t[vm],delete t[mm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Wh(e){return e.tag===5||e.tag===3||e.tag===4}function Pc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Wh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Hl(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ko));else if(i!==4&&(e=e.child,e!==null))for(Hl(e,t,r),e=e.sibling;e!==null;)Hl(e,t,r),e=e.sibling}function Vl(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(Vl(e,t,r),e=e.sibling;e!==null;)Vl(e,t,r),e=e.sibling}var Rt=null,Ar=!1;function tn(e,t,r){for(r=r.child;r!==null;)$h(e,t,r),r=r.sibling}function $h(e,t,r){if(Br&&typeof Br.onCommitFiberUnmount=="function")try{Br.onCommitFiberUnmount(Yo,r)}catch{}switch(r.tag){case 5:Ft||di(r,t);case 6:var i=Rt,s=Ar;Rt=null,tn(e,t,r),Rt=i,Ar=s,Rt!==null&&(Ar?(e=Rt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Rt.removeChild(r.stateNode));break;case 18:Rt!==null&&(Ar?(e=Rt,r=r.stateNode,e.nodeType===8?Hs(e.parentNode,r):e.nodeType===1&&Hs(e,r),pa(e)):Hs(Rt,r.stateNode));break;case 4:i=Rt,s=Ar,Rt=r.stateNode.containerInfo,Ar=!0,tn(e,t,r),Rt=i,Ar=s;break;case 0:case 11:case 14:case 15:if(!Ft&&(i=r.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){s=i=i.next;do{var f=s,p=f.destroy;f=f.tag,p!==void 0&&(f&2||f&4)&&zl(r,t,p),s=s.next}while(s!==i)}tn(e,t,r);break;case 1:if(!Ft&&(di(r,t),i=r.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=r.memoizedProps,i.state=r.memoizedState,i.componentWillUnmount()}catch(m){tt(r,t,m)}tn(e,t,r);break;case 21:tn(e,t,r);break;case 22:r.mode&1?(Ft=(i=Ft)||r.memoizedState!==null,tn(e,t,r),Ft=i):tn(e,t,r);break;default:tn(e,t,r)}}function kc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Im),t.forEach(function(i){var s=Km.bind(null,e,i);r.has(i)||(r.add(i),i.then(s,s))})}}function wr(e,t){var r=t.deletions;if(r!==null)for(var i=0;i<r.length;i++){var s=r[i];try{var f=e,p=t,m=p;e:for(;m!==null;){switch(m.tag){case 5:Rt=m.stateNode,Ar=!1;break e;case 3:Rt=m.stateNode.containerInfo,Ar=!0;break e;case 4:Rt=m.stateNode.containerInfo,Ar=!0;break e}m=m.return}if(Rt===null)throw Error(ie(160));$h(f,p,s),Rt=null,Ar=!1;var T=s.alternate;T!==null&&(T.return=null),s.return=null}catch(g){tt(s,t,g)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Yh(t,e),t=t.sibling}function Yh(e,t){var r=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(wr(t,e),br(e),i&4){try{aa(3,e,e.return),rs(3,e)}catch(D){tt(e,e.return,D)}try{aa(5,e,e.return)}catch(D){tt(e,e.return,D)}}break;case 1:wr(t,e),br(e),i&512&&r!==null&&di(r,r.return);break;case 5:if(wr(t,e),br(e),i&512&&r!==null&&di(r,r.return),e.flags&32){var s=e.stateNode;try{fa(s,"")}catch(D){tt(e,e.return,D)}}if(i&4&&(s=e.stateNode,s!=null)){var f=e.memoizedProps,p=r!==null?r.memoizedProps:f,m=e.type,T=e.updateQueue;if(e.updateQueue=null,T!==null)try{m==="input"&&f.type==="radio"&&f.name!=null&&vd(s,f),gl(m,p);var g=gl(m,f);for(p=0;p<T.length;p+=2){var E=T[p],N=T[p+1];E==="style"?Sd(s,N):E==="dangerouslySetInnerHTML"?xd(s,N):E==="children"?fa(s,N):su(s,E,N,g)}switch(m){case"input":fl(s,f);break;case"textarea":md(s,f);break;case"select":var _=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!f.multiple;var k=f.value;k!=null?pi(s,!!f.multiple,k,!1):_!==!!f.multiple&&(f.defaultValue!=null?pi(s,!!f.multiple,f.defaultValue,!0):pi(s,!!f.multiple,f.multiple?[]:"",!1))}s[xa]=f}catch(D){tt(e,e.return,D)}}break;case 6:if(wr(t,e),br(e),i&4){if(e.stateNode===null)throw Error(ie(162));s=e.stateNode,f=e.memoizedProps;try{s.nodeValue=f}catch(D){tt(e,e.return,D)}}break;case 3:if(wr(t,e),br(e),i&4&&r!==null&&r.memoizedState.isDehydrated)try{pa(t.containerInfo)}catch(D){tt(e,e.return,D)}break;case 4:wr(t,e),br(e);break;case 13:wr(t,e),br(e),s=e.child,s.flags&8192&&(f=s.memoizedState!==null,s.stateNode.isHidden=f,!f||s.alternate!==null&&s.alternate.memoizedState!==null||(ju=it())),i&4&&kc(e);break;case 22:if(E=r!==null&&r.memoizedState!==null,e.mode&1?(Ft=(g=Ft)||E,wr(t,e),Ft=g):wr(t,e),br(e),i&8192){if(g=e.memoizedState!==null,(e.stateNode.isHidden=g)&&!E&&e.mode&1)for(ce=e,E=e.child;E!==null;){for(N=ce=E;ce!==null;){switch(_=ce,k=_.child,_.tag){case 0:case 11:case 14:case 15:aa(4,_,_.return);break;case 1:di(_,_.return);var b=_.stateNode;if(typeof b.componentWillUnmount=="function"){i=_,r=_.return;try{t=i,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(D){tt(i,r,D)}}break;case 5:di(_,_.return);break;case 22:if(_.memoizedState!==null){Oc(N);continue}}k!==null?(k.return=_,ce=k):Oc(N)}E=E.sibling}e:for(E=null,N=e;;){if(N.tag===5){if(E===null){E=N;try{s=N.stateNode,g?(f=s.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(m=N.stateNode,T=N.memoizedProps.style,p=T!=null&&T.hasOwnProperty("display")?T.display:null,m.style.display=Ed("display",p))}catch(D){tt(e,e.return,D)}}}else if(N.tag===6){if(E===null)try{N.stateNode.nodeValue=g?"":N.memoizedProps}catch(D){tt(e,e.return,D)}}else if((N.tag!==22&&N.tag!==23||N.memoizedState===null||N===e)&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===e)break e;for(;N.sibling===null;){if(N.return===null||N.return===e)break e;E===N&&(E=null),N=N.return}E===N&&(E=null),N.sibling.return=N.return,N=N.sibling}}break;case 19:wr(t,e),br(e),i&4&&kc(e);break;case 21:break;default:wr(t,e),br(e)}}function br(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Wh(r)){var i=r;break e}r=r.return}throw Error(ie(160))}switch(i.tag){case 5:var s=i.stateNode;i.flags&32&&(fa(s,""),i.flags&=-33);var f=Pc(e);Vl(e,f,s);break;case 3:case 4:var p=i.stateNode.containerInfo,m=Pc(e);Hl(e,m,p);break;default:throw Error(ie(161))}}catch(T){tt(e,e.return,T)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function bm(e,t,r){ce=e,Xh(e)}function Xh(e,t,r){for(var i=(e.mode&1)!==0;ce!==null;){var s=ce,f=s.child;if(s.tag===22&&i){var p=s.memoizedState!==null||no;if(!p){var m=s.alternate,T=m!==null&&m.memoizedState!==null||Ft;m=no;var g=Ft;if(no=p,(Ft=T)&&!g)for(ce=s;ce!==null;)p=ce,T=p.child,p.tag===22&&p.memoizedState!==null?Cc(s):T!==null?(T.return=p,ce=T):Cc(s);for(;f!==null;)ce=f,Xh(f),f=f.sibling;ce=s,no=m,Ft=g}Dc(e)}else s.subtreeFlags&8772&&f!==null?(f.return=s,ce=f):Dc(e)}}function Dc(e){for(;ce!==null;){var t=ce;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ft||rs(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!Ft)if(r===null)i.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Rr(t.type,r.memoizedProps);i.componentDidUpdate(s,r.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var f=t.updateQueue;f!==null&&pc(t,f,i);break;case 3:var p=t.updateQueue;if(p!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}pc(t,p,r)}break;case 5:var m=t.stateNode;if(r===null&&t.flags&4){r=m;var T=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":T.autoFocus&&r.focus();break;case"img":T.src&&(r.src=T.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var g=t.alternate;if(g!==null){var E=g.memoizedState;if(E!==null){var N=E.dehydrated;N!==null&&pa(N)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ie(163))}Ft||t.flags&512&&Kl(t)}catch(_){tt(t,t.return,_)}}if(t===e){ce=null;break}if(r=t.sibling,r!==null){r.return=t.return,ce=r;break}ce=t.return}}function Oc(e){for(;ce!==null;){var t=ce;if(t===e){ce=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ce=r;break}ce=t.return}}function Cc(e){for(;ce!==null;){var t=ce;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{rs(4,t)}catch(T){tt(t,r,T)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var s=t.return;try{i.componentDidMount()}catch(T){tt(t,s,T)}}var f=t.return;try{Kl(t)}catch(T){tt(t,f,T)}break;case 5:var p=t.return;try{Kl(t)}catch(T){tt(t,p,T)}}}catch(T){tt(t,t.return,T)}if(t===e){ce=null;break}var m=t.sibling;if(m!==null){m.return=t.return,ce=m;break}ce=t.return}}var Mm=Math.ceil,jo=en.ReactCurrentDispatcher,Uu=en.ReactCurrentOwner,vr=en.ReactCurrentBatchConfig,Fe=0,mt=null,lt=null,At=0,or=0,hi=Sn(0),ht=0,Ra=null,zn=0,ns=0,Bu=0,oa=null,qt=null,ju=0,Ai=1/0,Hr=null,Go=!1,Wl=null,gn=null,io=!1,un=null,zo=0,sa=0,$l=null,mo=-1,yo=0;function zt(){return Fe&6?it():mo!==-1?mo:mo=it()}function vn(e){return e.mode&1?Fe&2&&At!==0?At&-At:xm.transition!==null?(yo===0&&(yo=Id()),yo):(e=je,e!==0||(e=window.event,e=e===void 0?16:jd(e.type)),e):1}function Dr(e,t,r,i){if(50<sa)throw sa=0,$l=null,Error(ie(185));Pa(e,r,i),(!(Fe&2)||e!==mt)&&(e===mt&&(!(Fe&2)&&(ns|=r),ht===4&&sn(e,At)),tr(e,i),r===1&&Fe===0&&!(t.mode&1)&&(Ai=it()+500,Jo&&_n()))}function tr(e,t){var r=e.callbackNode;xv(e,t);var i=Ro(e,e===mt?At:0);if(i===0)r!==null&&Gf(r),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(r!=null&&Gf(r),t===1)e.tag===0?ym(Ic.bind(null,e)):ah(Ic.bind(null,e)),pm(function(){!(Fe&6)&&_n()}),r=null;else{switch(Fd(i)){case 1:r=du;break;case 4:r=Od;break;case 16:r=wo;break;case 536870912:r=Cd;break;default:r=wo}r=np(r,Qh.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Qh(e,t){if(mo=-1,yo=0,Fe&6)throw Error(ie(327));var r=e.callbackNode;if(xi()&&e.callbackNode!==r)return null;var i=Ro(e,e===mt?At:0);if(i===0)return null;if(i&30||i&e.expiredLanes||t)t=Ko(e,i);else{t=i;var s=Fe;Fe|=2;var f=Zh();(mt!==e||At!==t)&&(Hr=null,Ai=it()+500,Nn(e,t));do try{Bm();break}catch(m){qh(e,m)}while(!0);Ru(),jo.current=f,Fe=s,lt!==null?t=0:(mt=null,At=0,t=ht)}if(t!==0){if(t===2&&(s=El(e),s!==0&&(i=s,t=Yl(e,s))),t===1)throw r=Ra,Nn(e,0),sn(e,i),tr(e,it()),r;if(t===6)sn(e,i);else{if(s=e.current.alternate,!(i&30)&&!Nm(s)&&(t=Ko(e,i),t===2&&(f=El(e),f!==0&&(i=f,t=Yl(e,f))),t===1))throw r=Ra,Nn(e,0),sn(e,i),tr(e,it()),r;switch(e.finishedWork=s,e.finishedLanes=i,t){case 0:case 1:throw Error(ie(345));case 2:In(e,qt,Hr);break;case 3:if(sn(e,i),(i&130023424)===i&&(t=ju+500-it(),10<t)){if(Ro(e,0)!==0)break;if(s=e.suspendedLanes,(s&i)!==i){zt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Pl(In.bind(null,e,qt,Hr),t);break}In(e,qt,Hr);break;case 4:if(sn(e,i),(i&4194240)===i)break;for(t=e.eventTimes,s=-1;0<i;){var p=31-kr(i);f=1<<p,p=t[p],p>s&&(s=p),i&=~f}if(i=s,i=it()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Mm(i/1960))-i,10<i){e.timeoutHandle=Pl(In.bind(null,e,qt,Hr),i);break}In(e,qt,Hr);break;case 5:In(e,qt,Hr);break;default:throw Error(ie(329))}}}return tr(e,it()),e.callbackNode===r?Qh.bind(null,e):null}function Yl(e,t){var r=oa;return e.current.memoizedState.isDehydrated&&(Nn(e,t).flags|=256),e=Ko(e,t),e!==2&&(t=qt,qt=r,t!==null&&Xl(t)),e}function Xl(e){qt===null?qt=e:qt.push.apply(qt,e)}function Nm(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var i=0;i<r.length;i++){var s=r[i],f=s.getSnapshot;s=s.value;try{if(!Or(f(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function sn(e,t){for(t&=~Bu,t&=~ns,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-kr(t),i=1<<r;e[r]=-1,t&=~i}}function Ic(e){if(Fe&6)throw Error(ie(327));xi();var t=Ro(e,0);if(!(t&1))return tr(e,it()),null;var r=Ko(e,t);if(e.tag!==0&&r===2){var i=El(e);i!==0&&(t=i,r=Yl(e,i))}if(r===1)throw r=Ra,Nn(e,0),sn(e,t),tr(e,it()),r;if(r===6)throw Error(ie(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,In(e,qt,Hr),tr(e,it()),null}function Gu(e,t){var r=Fe;Fe|=1;try{return e(t)}finally{Fe=r,Fe===0&&(Ai=it()+500,Jo&&_n())}}function Kn(e){un!==null&&un.tag===0&&!(Fe&6)&&xi();var t=Fe;Fe|=1;var r=vr.transition,i=je;try{if(vr.transition=null,je=1,e)return e()}finally{je=i,vr.transition=r,Fe=t,!(Fe&6)&&_n()}}function zu(){or=hi.current,Xe(hi)}function Nn(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,hm(r)),lt!==null)for(r=lt.return;r!==null;){var i=r;switch(_u(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Do();break;case 3:wi(),Xe(Jt),Xe(bt),Ou();break;case 5:Du(i);break;case 4:wi();break;case 13:Xe(qe);break;case 19:Xe(qe);break;case 10:Au(i.type._context);break;case 22:case 23:zu()}r=r.return}if(mt=e,lt=e=mn(e.current,null),At=or=t,ht=0,Ra=null,Bu=ns=zn=0,qt=oa=null,bn!==null){for(t=0;t<bn.length;t++)if(r=bn[t],i=r.interleaved,i!==null){r.interleaved=null;var s=i.next,f=r.pending;if(f!==null){var p=f.next;f.next=s,i.next=p}r.pending=i}bn=null}return e}function qh(e,t){do{var r=lt;try{if(Ru(),po.current=Bo,Uo){for(var i=Ze.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Uo=!1}if(Gn=0,vt=dt=Ze=null,ia=!1,_a=0,Uu.current=null,r===null||r.return===null){ht=1,Ra=t,lt=null;break}e:{var f=e,p=r.return,m=r,T=t;if(t=At,m.flags|=32768,T!==null&&typeof T=="object"&&typeof T.then=="function"){var g=T,E=m,N=E.tag;if(!(E.mode&1)&&(N===0||N===11||N===15)){var _=E.alternate;_?(E.updateQueue=_.updateQueue,E.memoizedState=_.memoizedState,E.lanes=_.lanes):(E.updateQueue=null,E.memoizedState=null)}var k=Ec(p);if(k!==null){k.flags&=-257,Sc(k,p,m,f,t),k.mode&1&&xc(f,g,t),t=k,T=g;var b=t.updateQueue;if(b===null){var D=new Set;D.add(T),t.updateQueue=D}else b.add(T);break e}else{if(!(t&1)){xc(f,g,t),Ku();break e}T=Error(ie(426))}}else if(Qe&&m.mode&1){var K=Ec(p);if(K!==null){!(K.flags&65536)&&(K.flags|=256),Sc(K,p,m,f,t),Tu(Ri(T,m));break e}}f=T=Ri(T,m),ht!==4&&(ht=2),oa===null?oa=[f]:oa.push(f),f=p;do{switch(f.tag){case 3:f.flags|=65536,t&=-t,f.lanes|=t;var P=Fh(f,T,t);hc(f,P);break e;case 1:m=T;var w=f.type,F=f.stateNode;if(!(f.flags&128)&&(typeof w.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(gn===null||!gn.has(F)))){f.flags|=65536,t&=-t,f.lanes|=t;var U=bh(f,m,t);hc(f,U);break e}}f=f.return}while(f!==null)}ep(r)}catch(H){t=H,lt===r&&r!==null&&(lt=r=r.return);continue}break}while(!0)}function Zh(){var e=jo.current;return jo.current=Bo,e===null?Bo:e}function Ku(){(ht===0||ht===3||ht===2)&&(ht=4),mt===null||!(zn&268435455)&&!(ns&268435455)||sn(mt,At)}function Ko(e,t){var r=Fe;Fe|=2;var i=Zh();(mt!==e||At!==t)&&(Hr=null,Nn(e,t));do try{Um();break}catch(s){qh(e,s)}while(!0);if(Ru(),Fe=r,jo.current=i,lt!==null)throw Error(ie(261));return mt=null,At=0,ht}function Um(){for(;lt!==null;)Jh(lt)}function Bm(){for(;lt!==null&&!fv();)Jh(lt)}function Jh(e){var t=rp(e.alternate,e,or);e.memoizedProps=e.pendingProps,t===null?ep(e):lt=t,Uu.current=null}function ep(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Cm(r,t),r!==null){r.flags&=32767,lt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ht=6,lt=null;return}}else if(r=Om(r,t,or),r!==null){lt=r;return}if(t=t.sibling,t!==null){lt=t;return}lt=t=e}while(t!==null);ht===0&&(ht=5)}function In(e,t,r){var i=je,s=vr.transition;try{vr.transition=null,je=1,jm(e,t,r,i)}finally{vr.transition=s,je=i}return null}function jm(e,t,r,i){do xi();while(un!==null);if(Fe&6)throw Error(ie(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ie(177));e.callbackNode=null,e.callbackPriority=0;var f=r.lanes|r.childLanes;if(Ev(e,f),e===mt&&(lt=mt=null,At=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||io||(io=!0,np(wo,function(){return xi(),null})),f=(r.flags&15990)!==0,r.subtreeFlags&15990||f){f=vr.transition,vr.transition=null;var p=je;je=1;var m=Fe;Fe|=4,Uu.current=null,Fm(e,r),Yh(r,e),om(Al),Ao=!!Rl,Al=Rl=null,e.current=r,bm(r),cv(),Fe=m,je=p,vr.transition=f}else e.current=r;if(io&&(io=!1,un=e,zo=s),f=e.pendingLanes,f===0&&(gn=null),pv(r.stateNode),tr(e,it()),t!==null)for(i=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],i(s.value,{componentStack:s.stack,digest:s.digest});if(Go)throw Go=!1,e=Wl,Wl=null,e;return zo&1&&e.tag!==0&&xi(),f=e.pendingLanes,f&1?e===$l?sa++:(sa=0,$l=e):sa=0,_n(),null}function xi(){if(un!==null){var e=Fd(zo),t=vr.transition,r=je;try{if(vr.transition=null,je=16>e?16:e,un===null)var i=!1;else{if(e=un,un=null,zo=0,Fe&6)throw Error(ie(331));var s=Fe;for(Fe|=4,ce=e.current;ce!==null;){var f=ce,p=f.child;if(ce.flags&16){var m=f.deletions;if(m!==null){for(var T=0;T<m.length;T++){var g=m[T];for(ce=g;ce!==null;){var E=ce;switch(E.tag){case 0:case 11:case 15:aa(8,E,f)}var N=E.child;if(N!==null)N.return=E,ce=N;else for(;ce!==null;){E=ce;var _=E.sibling,k=E.return;if(Vh(E),E===g){ce=null;break}if(_!==null){_.return=k,ce=_;break}ce=k}}}var b=f.alternate;if(b!==null){var D=b.child;if(D!==null){b.child=null;do{var K=D.sibling;D.sibling=null,D=K}while(D!==null)}}ce=f}}if(f.subtreeFlags&2064&&p!==null)p.return=f,ce=p;else e:for(;ce!==null;){if(f=ce,f.flags&2048)switch(f.tag){case 0:case 11:case 15:aa(9,f,f.return)}var P=f.sibling;if(P!==null){P.return=f.return,ce=P;break e}ce=f.return}}var w=e.current;for(ce=w;ce!==null;){p=ce;var F=p.child;if(p.subtreeFlags&2064&&F!==null)F.return=p,ce=F;else e:for(p=w;ce!==null;){if(m=ce,m.flags&2048)try{switch(m.tag){case 0:case 11:case 15:rs(9,m)}}catch(H){tt(m,m.return,H)}if(m===p){ce=null;break e}var U=m.sibling;if(U!==null){U.return=m.return,ce=U;break e}ce=m.return}}if(Fe=s,_n(),Br&&typeof Br.onPostCommitFiberRoot=="function")try{Br.onPostCommitFiberRoot(Yo,e)}catch{}i=!0}return i}finally{je=r,vr.transition=t}}return!1}function Fc(e,t,r){t=Ri(r,t),t=Fh(e,t,1),e=pn(e,t,1),t=zt(),e!==null&&(Pa(e,1,t),tr(e,t))}function tt(e,t,r){if(e.tag===3)Fc(e,e,r);else for(;t!==null;){if(t.tag===3){Fc(t,e,r);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(gn===null||!gn.has(i))){e=Ri(r,e),e=bh(t,e,1),t=pn(t,e,1),e=zt(),t!==null&&(Pa(t,1,e),tr(t,e));break}}t=t.return}}function Gm(e,t,r){var i=e.pingCache;i!==null&&i.delete(t),t=zt(),e.pingedLanes|=e.suspendedLanes&r,mt===e&&(At&r)===r&&(ht===4||ht===3&&(At&130023424)===At&&500>it()-ju?Nn(e,0):Bu|=r),tr(e,t)}function tp(e,t){t===0&&(e.mode&1?(t=Ya,Ya<<=1,!(Ya&130023424)&&(Ya=4194304)):t=1);var r=zt();e=Zr(e,t),e!==null&&(Pa(e,t,r),tr(e,r))}function zm(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),tp(e,r)}function Km(e,t){var r=0;switch(e.tag){case 13:var i=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(ie(314))}i!==null&&i.delete(t),tp(e,r)}var rp;rp=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Jt.current)Zt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Zt=!1,Dm(e,t,r);Zt=!!(e.flags&131072)}else Zt=!1,Qe&&t.flags&1048576&&oh(t,Io,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;vo(e,t),e=t.pendingProps;var s=Si(t,bt.current);yi(t,r),s=Iu(null,t,i,e,s,r);var f=Fu();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,er(i)?(f=!0,Oo(t)):f=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Pu(t),s.updater=ts,t.stateNode=s,s._reactInternals=t,bl(t,i,e,r),t=Ul(null,t,i,!0,f,r)):(t.tag=0,Qe&&f&&Su(t),Gt(null,t,s,r),t=t.child),t;case 16:i=t.elementType;e:{switch(vo(e,t),e=t.pendingProps,s=i._init,i=s(i._payload),t.type=i,s=t.tag=Vm(i),e=Rr(i,e),s){case 0:t=Nl(null,t,i,e,r);break e;case 1:t=wc(null,t,i,e,r);break e;case 11:t=_c(null,t,i,e,r);break e;case 14:t=Tc(null,t,i,Rr(i.type,e),r);break e}throw Error(ie(306,i,""))}return t;case 0:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:Rr(i,s),Nl(e,t,i,s,r);case 1:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:Rr(i,s),wc(e,t,i,s,r);case 3:e:{if(Bh(t),e===null)throw Error(ie(387));i=t.pendingProps,f=t.memoizedState,s=f.element,dh(e,t),Mo(t,i,null,r);var p=t.memoizedState;if(i=p.element,f.isDehydrated)if(f={element:i,isDehydrated:!1,cache:p.cache,pendingSuspenseBoundaries:p.pendingSuspenseBoundaries,transitions:p.transitions},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){s=Ri(Error(ie(423)),t),t=Rc(e,t,i,r,s);break e}else if(i!==s){s=Ri(Error(ie(424)),t),t=Rc(e,t,i,r,s);break e}else for(sr=hn(t.stateNode.containerInfo.firstChild),lr=t,Qe=!0,Lr=null,r=fh(t,null,i,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(_i(),i===s){t=Jr(e,t,r);break e}Gt(e,t,i,r)}t=t.child}return t;case 5:return hh(t),e===null&&Cl(t),i=t.type,s=t.pendingProps,f=e!==null?e.memoizedProps:null,p=s.children,Ll(i,s)?p=null:f!==null&&Ll(i,f)&&(t.flags|=32),Uh(e,t),Gt(e,t,p,r),t.child;case 6:return e===null&&Cl(t),null;case 13:return jh(e,t,r);case 4:return ku(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Ti(t,null,i,r):Gt(e,t,i,r),t.child;case 11:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:Rr(i,s),_c(e,t,i,s,r);case 7:return Gt(e,t,t.pendingProps,r),t.child;case 8:return Gt(e,t,t.pendingProps.children,r),t.child;case 12:return Gt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(i=t.type._context,s=t.pendingProps,f=t.memoizedProps,p=s.value,He(Fo,i._currentValue),i._currentValue=p,f!==null)if(Or(f.value,p)){if(f.children===s.children&&!Jt.current){t=Jr(e,t,r);break e}}else for(f=t.child,f!==null&&(f.return=t);f!==null;){var m=f.dependencies;if(m!==null){p=f.child;for(var T=m.firstContext;T!==null;){if(T.context===i){if(f.tag===1){T=Yr(-1,r&-r),T.tag=2;var g=f.updateQueue;if(g!==null){g=g.shared;var E=g.pending;E===null?T.next=T:(T.next=E.next,E.next=T),g.pending=T}}f.lanes|=r,T=f.alternate,T!==null&&(T.lanes|=r),Il(f.return,r,t),m.lanes|=r;break}T=T.next}}else if(f.tag===10)p=f.type===t.type?null:f.child;else if(f.tag===18){if(p=f.return,p===null)throw Error(ie(341));p.lanes|=r,m=p.alternate,m!==null&&(m.lanes|=r),Il(p,r,t),p=f.sibling}else p=f.child;if(p!==null)p.return=f;else for(p=f;p!==null;){if(p===t){p=null;break}if(f=p.sibling,f!==null){f.return=p.return,p=f;break}p=p.return}f=p}Gt(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,i=t.pendingProps.children,yi(t,r),s=mr(s),i=i(s),t.flags|=1,Gt(e,t,i,r),t.child;case 14:return i=t.type,s=Rr(i,t.pendingProps),s=Rr(i.type,s),Tc(e,t,i,s,r);case 15:return Mh(e,t,t.type,t.pendingProps,r);case 17:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:Rr(i,s),vo(e,t),t.tag=1,er(i)?(e=!0,Oo(t)):e=!1,yi(t,r),Ih(t,i,s),bl(t,i,s,r),Ul(null,t,i,!0,e,r);case 19:return Gh(e,t,r);case 22:return Nh(e,t,r)}throw Error(ie(156,t.tag))};function np(e,t){return Dd(e,t)}function Hm(e,t,r,i){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gr(e,t,r,i){return new Hm(e,t,r,i)}function Hu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Vm(e){if(typeof e=="function")return Hu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===uu)return 11;if(e===fu)return 14}return 2}function mn(e,t){var r=e.alternate;return r===null?(r=gr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function xo(e,t,r,i,s,f){var p=2;if(i=e,typeof e=="function")Hu(e)&&(p=1);else if(typeof e=="string")p=5;else e:switch(e){case ni:return Un(r.children,s,f,t);case lu:p=8,s|=8;break;case al:return e=gr(12,r,t,s|2),e.elementType=al,e.lanes=f,e;case ol:return e=gr(13,r,t,s),e.elementType=ol,e.lanes=f,e;case sl:return e=gr(19,r,t,s),e.elementType=sl,e.lanes=f,e;case hd:return is(r,s,f,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case cd:p=10;break e;case dd:p=9;break e;case uu:p=11;break e;case fu:p=14;break e;case nn:p=16,i=null;break e}throw Error(ie(130,e==null?e:typeof e,""))}return t=gr(p,r,t,s),t.elementType=e,t.type=i,t.lanes=f,t}function Un(e,t,r,i){return e=gr(7,e,i,t),e.lanes=r,e}function is(e,t,r,i){return e=gr(22,e,i,t),e.elementType=hd,e.lanes=r,e.stateNode={isHidden:!1},e}function Zs(e,t,r){return e=gr(6,e,null,t),e.lanes=r,e}function Js(e,t,r){return t=gr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Wm(e,t,r,i,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Is(0),this.expirationTimes=Is(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Is(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Vu(e,t,r,i,s,f,p,m,T){return e=new Wm(e,t,r,m,T),t===1?(t=1,f===!0&&(t|=8)):t=0,f=gr(3,null,null,t),e.current=f,f.stateNode=e,f.memoizedState={element:i,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pu(f),e}function $m(e,t,r){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ri,key:i==null?null:""+i,children:e,containerInfo:t,implementation:r}}function ip(e){if(!e)return xn;e=e._reactInternals;e:{if(Vn(e)!==e||e.tag!==1)throw Error(ie(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(er(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ie(171))}if(e.tag===1){var r=e.type;if(er(r))return ih(e,r,t)}return t}function ap(e,t,r,i,s,f,p,m,T){return e=Vu(r,i,!0,e,s,f,p,m,T),e.context=ip(null),r=e.current,i=zt(),s=vn(r),f=Yr(i,s),f.callback=t??null,pn(r,f,s),e.current.lanes=s,Pa(e,s,i),tr(e,i),e}function as(e,t,r,i){var s=t.current,f=zt(),p=vn(s);return r=ip(r),t.context===null?t.context=r:t.pendingContext=r,t=Yr(f,p),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=pn(s,t,p),e!==null&&(Dr(e,s,p,f),ho(e,s,p)),p}function Ho(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function bc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Wu(e,t){bc(e,t),(e=e.alternate)&&bc(e,t)}function Ym(){return null}var op=typeof reportError=="function"?reportError:function(e){console.error(e)};function $u(e){this._internalRoot=e}os.prototype.render=$u.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ie(409));as(e,t,null,null)};os.prototype.unmount=$u.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Kn(function(){as(null,e,null,null)}),t[qr]=null}};function os(e){this._internalRoot=e}os.prototype.unstable_scheduleHydration=function(e){if(e){var t=Nd();e={blockedOn:null,target:e,priority:t};for(var r=0;r<on.length&&t!==0&&t<on[r].priority;r++);on.splice(r,0,e),r===0&&Bd(e)}};function Yu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ss(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Mc(){}function Xm(e,t,r,i,s){if(s){if(typeof i=="function"){var f=i;i=function(){var g=Ho(p);f.call(g)}}var p=ap(t,i,e,0,null,!1,!1,"",Mc);return e._reactRootContainer=p,e[qr]=p.current,ma(e.nodeType===8?e.parentNode:e),Kn(),p}for(;s=e.lastChild;)e.removeChild(s);if(typeof i=="function"){var m=i;i=function(){var g=Ho(T);m.call(g)}}var T=Vu(e,0,!1,null,null,!1,!1,"",Mc);return e._reactRootContainer=T,e[qr]=T.current,ma(e.nodeType===8?e.parentNode:e),Kn(function(){as(t,T,r,i)}),T}function ls(e,t,r,i,s){var f=r._reactRootContainer;if(f){var p=f;if(typeof s=="function"){var m=s;s=function(){var T=Ho(p);m.call(T)}}as(t,p,e,s)}else p=Xm(r,t,e,s,i);return Ho(p)}bd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Qi(t.pendingLanes);r!==0&&(hu(t,r|1),tr(t,it()),!(Fe&6)&&(Ai=it()+500,_n()))}break;case 13:Kn(function(){var i=Zr(e,1);if(i!==null){var s=zt();Dr(i,e,1,s)}}),Wu(e,1)}};pu=function(e){if(e.tag===13){var t=Zr(e,134217728);if(t!==null){var r=zt();Dr(t,e,134217728,r)}Wu(e,134217728)}};Md=function(e){if(e.tag===13){var t=vn(e),r=Zr(e,t);if(r!==null){var i=zt();Dr(r,e,t,i)}Wu(e,t)}};Nd=function(){return je};Ud=function(e,t){var r=je;try{return je=e,t()}finally{je=r}};ml=function(e,t,r){switch(t){case"input":if(fl(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var i=r[t];if(i!==e&&i.form===e.form){var s=Zo(i);if(!s)throw Error(ie(90));gd(i),fl(i,s)}}}break;case"textarea":md(e,r);break;case"select":t=r.value,t!=null&&pi(e,!!r.multiple,t,!1)}};wd=Gu;Rd=Kn;var Qm={usingClientEntryPoint:!1,Events:[Da,si,Zo,_d,Td,Gu]},Vi={findFiberByHostInstance:Fn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qm={bundleType:Vi.bundleType,version:Vi.version,rendererPackageName:Vi.rendererPackageName,rendererConfig:Vi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:en.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Pd(e),e===null?null:e.stateNode},findFiberByHostInstance:Vi.findFiberByHostInstance||Ym,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ao=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ao.isDisabled&&ao.supportsFiber)try{Yo=ao.inject(qm),Br=ao}catch{}}fr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qm;fr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yu(t))throw Error(ie(200));return $m(e,t,null,r)};fr.createRoot=function(e,t){if(!Yu(e))throw Error(ie(299));var r=!1,i="",s=op;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Vu(e,1,!1,null,null,r,!1,i,s),e[qr]=t.current,ma(e.nodeType===8?e.parentNode:e),new $u(t)};fr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ie(188)):(e=Object.keys(e).join(","),Error(ie(268,e)));return e=Pd(t),e=e===null?null:e.stateNode,e};fr.flushSync=function(e){return Kn(e)};fr.hydrate=function(e,t,r){if(!ss(t))throw Error(ie(200));return ls(null,e,t,!0,r)};fr.hydrateRoot=function(e,t,r){if(!Yu(e))throw Error(ie(405));var i=r!=null&&r.hydratedSources||null,s=!1,f="",p=op;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(f=r.identifierPrefix),r.onRecoverableError!==void 0&&(p=r.onRecoverableError)),t=ap(t,null,e,1,r??null,s,!1,f,p),e[qr]=t.current,ma(e),i)for(e=0;e<i.length;e++)r=i[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new os(t)};fr.render=function(e,t,r){if(!ss(t))throw Error(ie(200));return ls(null,e,t,!1,r)};fr.unmountComponentAtNode=function(e){if(!ss(e))throw Error(ie(40));return e._reactRootContainer?(Kn(function(){ls(null,null,e,!1,function(){e._reactRootContainer=null,e[qr]=null})}),!0):!1};fr.unstable_batchedUpdates=Gu;fr.unstable_renderSubtreeIntoContainer=function(e,t,r,i){if(!ss(r))throw Error(ie(200));if(e==null||e._reactInternals===void 0)throw Error(ie(38));return ls(e,t,r,!1,i)};fr.version="18.3.1-next-f1338f8080-20240426";function sp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sp)}catch(e){console.error(e)}}sp(),sd.exports=fr;var Zm=sd.exports,Nc=Zm;nl.createRoot=Nc.createRoot,nl.hydrateRoot=Nc.hydrateRoot;const Uc=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],Xr=(()=>{if(typeof document>"u")return!1;const e=Uc[0],t={};for(const r of Uc)if((r==null?void 0:r[1])in document){for(const[s,f]of r.entries())t[e[s]]=f;return t}return!1})(),Bc={change:Xr.fullscreenchange,error:Xr.fullscreenerror};let ar={request(e=document.documentElement,t){return new Promise((r,i)=>{const s=()=>{ar.off("change",s),r()};ar.on("change",s);const f=e[Xr.requestFullscreen](t);f instanceof Promise&&f.then(s).catch(i)})},exit(){return new Promise((e,t)=>{if(!ar.isFullscreen){e();return}const r=()=>{ar.off("change",r),e()};ar.on("change",r);const i=document[Xr.exitFullscreen]();i instanceof Promise&&i.then(r).catch(t)})},toggle(e,t){return ar.isFullscreen?ar.exit():ar.request(e,t)},onchange(e){ar.on("change",e)},onerror(e){ar.on("error",e)},on(e,t){const r=Bc[e];r&&document.addEventListener(r,t,!1)},off(e,t){const r=Bc[e];r&&document.removeEventListener(r,t,!1)},raw:Xr};Object.defineProperties(ar,{isFullscreen:{get:()=>!!document[Xr.fullscreenElement]},element:{enumerable:!0,get:()=>document[Xr.fullscreenElement]??void 0},isEnabled:{enumerable:!0,get:()=>!!document[Xr.fullscreenEnabled]}});Xr||(ar={isEnabled:!1});const Jm=ar,ey="/live/assets/uno-C5rTL1cM.png";var lp={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},jc=Pr.createContext&&Pr.createContext(lp),ty=["attr","size","title"];function ry(e,t){if(e==null)return{};var r=ny(e,t),i,s;if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(e);for(s=0;s<f.length;s++)i=f[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}function ny(e,t){if(e==null)return{};var r={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;r[i]=e[i]}return r}function Vo(){return Vo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Vo.apply(this,arguments)}function Gc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,i)}return r}function Wo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gc(Object(r),!0).forEach(function(i){iy(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gc(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function iy(e,t,r){return t=ay(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ay(e){var t=oy(e,"string");return typeof t=="symbol"?t:t+""}function oy(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function up(e){return e&&e.map((t,r)=>Pr.createElement(t.tag,Wo({key:r},t.attr),up(t.child)))}function us(e){return t=>Pr.createElement(sy,Vo({attr:Wo({},e.attr)},t),up(e.child))}function sy(e){var t=r=>{var{attr:i,size:s,title:f}=e,p=ry(e,ty),m=s||r.size||"1em",T;return r.className&&(T=r.className),e.className&&(T=(T?T+" ":"")+e.className),Pr.createElement("svg",Vo({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,i,p,{className:T,style:Wo(Wo({color:e.color||r.color},r.style),e.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),f&&Pr.createElement("title",null,f),e.children)};return jc!==void 0?Pr.createElement(jc.Consumer,null,r=>t(r)):t(lp)}function ly(e){return us({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"},child:[]}]})(e)}function uy(e){return us({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M4 18h16c1.1 0 1.99-.9 1.99-2L22 5c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v11c0 1.1.9 2 2 2zM4 5h16v11H4V5zM1 19h22v2H1z"},child:[]},{tag:"path",attr:{d:"M13.97 7.53c-1.37-1.37-3.58-1.37-4.95 0s-1.37 3.58 0 4.95c1.18 1.18 3 1.34 4.36.47l2.09 2.09 1.06-1.06-2.09-2.09c.87-1.36.72-3.18-.47-4.36zm-1.06 3.88c-.78.78-2.05.78-2.83 0-.78-.78-.78-2.05 0-2.83s2.05-.78 2.83 0c.78.79.78 2.05 0 2.83z"},child:[]}]})(e)}var fp={exports:{}};(function(e,t){typeof window<"u"&&function(i,s){e.exports=s()}(oo,function(){return function(r){var i={};function s(f){if(i[f])return i[f].exports;var p=i[f]={i:f,l:!1,exports:{}};return r[f].call(p.exports,p,p.exports,s),p.l=!0,p.exports}return s.m=r,s.c=i,s.d=function(f,p,m){s.o(f,p)||Object.defineProperty(f,p,{enumerable:!0,get:m})},s.r=function(f){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(f,"__esModule",{value:!0})},s.t=function(f,p){if(p&1&&(f=s(f)),p&8||p&4&&typeof f=="object"&&f&&f.__esModule)return f;var m=Object.create(null);if(s.r(m),Object.defineProperty(m,"default",{enumerable:!0,value:f}),p&2&&typeof f!="string")for(var T in f)s.d(m,T,(function(g){return f[g]}).bind(null,T));return m},s.n=function(f){var p=f&&f.__esModule?function(){return f.default}:function(){return f};return s.d(p,"a",p),p},s.o=function(f,p){return Object.prototype.hasOwnProperty.call(f,p)},s.p="/dist/",s(s.s="./src/hls.ts")}({"./node_modules/eventemitter3/index.js":function(r,i,s){var f=Object.prototype.hasOwnProperty,p="~";function m(){}Object.create&&(m.prototype=Object.create(null),new m().__proto__||(p=!1));function T(_,k,b){this.fn=_,this.context=k,this.once=b||!1}function g(_,k,b,D,K){if(typeof b!="function")throw new TypeError("The listener must be a function");var P=new T(b,D||_,K),w=p?p+k:k;return _._events[w]?_._events[w].fn?_._events[w]=[_._events[w],P]:_._events[w].push(P):(_._events[w]=P,_._eventsCount++),_}function E(_,k){--_._eventsCount===0?_._events=new m:delete _._events[k]}function N(){this._events=new m,this._eventsCount=0}N.prototype.eventNames=function(){var k=[],b,D;if(this._eventsCount===0)return k;for(D in b=this._events)f.call(b,D)&&k.push(p?D.slice(1):D);return Object.getOwnPropertySymbols?k.concat(Object.getOwnPropertySymbols(b)):k},N.prototype.listeners=function(k){var b=p?p+k:k,D=this._events[b];if(!D)return[];if(D.fn)return[D.fn];for(var K=0,P=D.length,w=new Array(P);K<P;K++)w[K]=D[K].fn;return w},N.prototype.listenerCount=function(k){var b=p?p+k:k,D=this._events[b];return D?D.fn?1:D.length:0},N.prototype.emit=function(k,b,D,K,P,w){var F=p?p+k:k;if(!this._events[F])return!1;var U=this._events[F],H=arguments.length,$,Y;if(U.fn){switch(U.once&&this.removeListener(k,U.fn,void 0,!0),H){case 1:return U.fn.call(U.context),!0;case 2:return U.fn.call(U.context,b),!0;case 3:return U.fn.call(U.context,b,D),!0;case 4:return U.fn.call(U.context,b,D,K),!0;case 5:return U.fn.call(U.context,b,D,K,P),!0;case 6:return U.fn.call(U.context,b,D,K,P,w),!0}for(Y=1,$=new Array(H-1);Y<H;Y++)$[Y-1]=arguments[Y];U.fn.apply(U.context,$)}else{var q=U.length,oe;for(Y=0;Y<q;Y++)switch(U[Y].once&&this.removeListener(k,U[Y].fn,void 0,!0),H){case 1:U[Y].fn.call(U[Y].context);break;case 2:U[Y].fn.call(U[Y].context,b);break;case 3:U[Y].fn.call(U[Y].context,b,D);break;case 4:U[Y].fn.call(U[Y].context,b,D,K);break;default:if(!$)for(oe=1,$=new Array(H-1);oe<H;oe++)$[oe-1]=arguments[oe];U[Y].fn.apply(U[Y].context,$)}}return!0},N.prototype.on=function(k,b,D){return g(this,k,b,D,!1)},N.prototype.once=function(k,b,D){return g(this,k,b,D,!0)},N.prototype.removeListener=function(k,b,D,K){var P=p?p+k:k;if(!this._events[P])return this;if(!b)return E(this,P),this;var w=this._events[P];if(w.fn)w.fn===b&&(!K||w.once)&&(!D||w.context===D)&&E(this,P);else{for(var F=0,U=[],H=w.length;F<H;F++)(w[F].fn!==b||K&&!w[F].once||D&&w[F].context!==D)&&U.push(w[F]);U.length?this._events[P]=U.length===1?U[0]:U:E(this,P)}return this},N.prototype.removeAllListeners=function(k){var b;return k?(b=p?p+k:k,this._events[b]&&E(this,b)):(this._events=new m,this._eventsCount=0),this},N.prototype.off=N.prototype.removeListener,N.prototype.addListener=N.prototype.on,N.prefixed=p,N.EventEmitter=N,r.exports=N},"./node_modules/url-toolkit/src/url-toolkit.js":function(r,i,s){(function(f){var p=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/?#]*\/)*[^;?#]*)?(;[^?#]*)?(\?[^#]*)?(#.*)?$/,m=/^([^\/?#]*)(.*)$/,T=/(?:\/|^)\.(?=\/)/g,g=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,E={buildAbsoluteURL:function(N,_,k){if(k=k||{},N=N.trim(),_=_.trim(),!_){if(!k.alwaysNormalize)return N;var b=E.parseURL(N);if(!b)throw new Error("Error trying to parse base URL.");return b.path=E.normalizePath(b.path),E.buildURLFromParts(b)}var D=E.parseURL(_);if(!D)throw new Error("Error trying to parse relative URL.");if(D.scheme)return k.alwaysNormalize?(D.path=E.normalizePath(D.path),E.buildURLFromParts(D)):_;var K=E.parseURL(N);if(!K)throw new Error("Error trying to parse base URL.");if(!K.netLoc&&K.path&&K.path[0]!=="/"){var P=m.exec(K.path);K.netLoc=P[1],K.path=P[2]}K.netLoc&&!K.path&&(K.path="/");var w={scheme:K.scheme,netLoc:D.netLoc,path:null,params:D.params,query:D.query,fragment:D.fragment};if(!D.netLoc&&(w.netLoc=K.netLoc,D.path[0]!=="/"))if(!D.path)w.path=K.path,D.params||(w.params=K.params,D.query||(w.query=K.query));else{var F=K.path,U=F.substring(0,F.lastIndexOf("/")+1)+D.path;w.path=E.normalizePath(U)}return w.path===null&&(w.path=k.alwaysNormalize?E.normalizePath(D.path):D.path),E.buildURLFromParts(w)},parseURL:function(N){var _=p.exec(N);return _?{scheme:_[1]||"",netLoc:_[2]||"",path:_[3]||"",params:_[4]||"",query:_[5]||"",fragment:_[6]||""}:null},normalizePath:function(N){for(N=N.split("").reverse().join("").replace(T,"");N.length!==(N=N.replace(g,"")).length;);return N.split("").reverse().join("")},buildURLFromParts:function(N){return N.scheme+N.netLoc+N.path+N.params+N.query+N.fragment}};r.exports=E})()},"./node_modules/webworkify-webpack/index.js":function(r,i,s){function f(k){var b={};function D(P){if(b[P])return b[P].exports;var w=b[P]={i:P,l:!1,exports:{}};return k[P].call(w.exports,w,w.exports,D),w.l=!0,w.exports}D.m=k,D.c=b,D.i=function(P){return P},D.d=function(P,w,F){D.o(P,w)||Object.defineProperty(P,w,{configurable:!1,enumerable:!0,get:F})},D.r=function(P){Object.defineProperty(P,"__esModule",{value:!0})},D.n=function(P){var w=P&&P.__esModule?function(){return P.default}:function(){return P};return D.d(w,"a",w),w},D.o=function(P,w){return Object.prototype.hasOwnProperty.call(P,w)},D.p="/",D.oe=function(P){throw console.error(P),P};var K=D(D.s=ENTRY_MODULE);return K.default||K}var p="[\\.|\\-|\\+|\\w|/|@]+",m="\\(\\s*(/\\*.*?\\*/)?\\s*.*?("+p+").*?\\)";function T(k){return(k+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function g(k){return!isNaN(1*k)}function E(k,b,D){var K={};K[D]=[];var P=b.toString(),w=P.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!w)return K;for(var F=w[1],U=new RegExp("(\\\\n|\\W)"+T(F)+m,"g"),H;H=U.exec(P);)H[3]!=="dll-reference"&&K[D].push(H[3]);for(U=new RegExp("\\("+T(F)+'\\("(dll-reference\\s('+p+'))"\\)\\)'+m,"g");H=U.exec(P);)k[H[2]]||(K[D].push(H[1]),k[H[2]]=s(H[1]).m),K[H[2]]=K[H[2]]||[],K[H[2]].push(H[4]);for(var $=Object.keys(K),Y=0;Y<$.length;Y++)for(var q=0;q<K[$[Y]].length;q++)g(K[$[Y]][q])&&(K[$[Y]][q]=1*K[$[Y]][q]);return K}function N(k){var b=Object.keys(k);return b.reduce(function(D,K){return D||k[K].length>0},!1)}function _(k,b){for(var D={main:[b]},K={main:[]},P={main:{}};N(D);)for(var w=Object.keys(D),F=0;F<w.length;F++){var U=w[F],H=D[U],$=H.pop();if(P[U]=P[U]||{},!(P[U][$]||!k[U][$])){P[U][$]=!0,K[U]=K[U]||[],K[U].push($);for(var Y=E(k,k[U][$],U),q=Object.keys(Y),oe=0;oe<q.length;oe++)D[q[oe]]=D[q[oe]]||[],D[q[oe]]=D[q[oe]].concat(Y[q[oe]])}}return K}r.exports=function(k,b){b=b||{};var D={main:s.m},K=b.all?{main:Object.keys(D.main)}:_(D,k),P="";Object.keys(K).filter(function($){return $!=="main"}).forEach(function($){for(var Y=0;K[$][Y];)Y++;K[$].push(Y),D[$][Y]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",P=P+"var "+$+" = ("+f.toString().replace("ENTRY_MODULE",JSON.stringify(Y))+")({"+K[$].map(function(q){return""+JSON.stringify(q)+": "+D[$][q].toString()}).join(",")+`});
`}),P=P+"new (("+f.toString().replace("ENTRY_MODULE",JSON.stringify(k))+")({"+K.main.map(function($){return""+JSON.stringify($)+": "+D.main[$].toString()}).join(",")+"}))(self);";var w=new window.Blob([P],{type:"text/javascript"});if(b.bare)return w;var F=window.URL||window.webkitURL||window.mozURL||window.msURL,U=F.createObjectURL(w),H=new window.Worker(U);return H.objectURL=U,H}},"./src/crypt/decrypter.js":function(r,i,s){s.r(i);var f=function(){function P(F,U){this.subtle=F,this.aesIV=U}var w=P.prototype;return w.decrypt=function(U,H){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},H,U)},P}(),p=function(){function P(F,U){this.subtle=F,this.key=U}var w=P.prototype;return w.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},P}(),m=p;function T(P){var w=P.byteLength,F=w&&new DataView(P).getUint8(w-1);return F?P.slice(0,w-F):P}var g=function(){function P(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.initTable()}var w=P.prototype;return w.uint8ArrayToUint32Array_=function(U){for(var H=new DataView(U),$=new Uint32Array(4),Y=0;Y<4;Y++)$[Y]=H.getUint32(Y*4);return $},w.initTable=function(){var U=this.sBox,H=this.invSBox,$=this.subMix,Y=$[0],q=$[1],oe=$[2],se=$[3],Te=this.invSubMix,Ue=Te[0],Ge=Te[1],Ne=Te[2],Vt=Te[3],Be=new Uint32Array(256),Ke=0,le=0,pe=0;for(pe=0;pe<256;pe++)pe<128?Be[pe]=pe<<1:Be[pe]=pe<<1^283;for(pe=0;pe<256;pe++){var me=le^le<<1^le<<2^le<<3^le<<4;me=me>>>8^me&255^99,U[Ke]=me,H[me]=Ke;var we=Be[Ke],ge=Be[we],at=Be[ge],Pe=Be[me]*257^me*16843008;Y[Ke]=Pe<<24|Pe>>>8,q[Ke]=Pe<<16|Pe>>>16,oe[Ke]=Pe<<8|Pe>>>24,se[Ke]=Pe,Pe=at*16843009^ge*65537^we*257^Ke*16843008,Ue[me]=Pe<<24|Pe>>>8,Ge[me]=Pe<<16|Pe>>>16,Ne[me]=Pe<<8|Pe>>>24,Vt[me]=Pe,Ke?(Ke=we^Be[Be[Be[at^we]]],le^=Be[Be[le]]):Ke=le=1}},w.expandKey=function(U){for(var H=this.uint8ArrayToUint32Array_(U),$=!0,Y=0;Y<H.length&&$;)$=H[Y]===this.key[Y],Y++;if(!$){this.key=H;var q=this.keySize=H.length;if(q!==4&&q!==6&&q!==8)throw new Error("Invalid aes key size="+q);var oe=this.ksRows=(q+6+1)*4,se,Te,Ue=this.keySchedule=new Uint32Array(oe),Ge=this.invKeySchedule=new Uint32Array(oe),Ne=this.sBox,Vt=this.rcon,Be=this.invSubMix,Ke=Be[0],le=Be[1],pe=Be[2],me=Be[3],we,ge;for(se=0;se<oe;se++){if(se<q){we=Ue[se]=H[se];continue}ge=we,se%q===0?(ge=ge<<8|ge>>>24,ge=Ne[ge>>>24]<<24|Ne[ge>>>16&255]<<16|Ne[ge>>>8&255]<<8|Ne[ge&255],ge^=Vt[se/q|0]<<24):q>6&&se%q===4&&(ge=Ne[ge>>>24]<<24|Ne[ge>>>16&255]<<16|Ne[ge>>>8&255]<<8|Ne[ge&255]),Ue[se]=we=(Ue[se-q]^ge)>>>0}for(Te=0;Te<oe;Te++)se=oe-Te,Te&3?ge=Ue[se]:ge=Ue[se-4],Te<4||se<=4?Ge[Te]=ge:Ge[Te]=Ke[Ne[ge>>>24]]^le[Ne[ge>>>16&255]]^pe[Ne[ge>>>8&255]]^me[Ne[ge&255]],Ge[Te]=Ge[Te]>>>0}},w.networkToHostOrderSwap=function(U){return U<<24|(U&65280)<<8|(U&16711680)>>8|U>>>24},w.decrypt=function(U,H,$,Y){for(var q=this.keySize+6,oe=this.invKeySchedule,se=this.invSBox,Te=this.invSubMix,Ue=Te[0],Ge=Te[1],Ne=Te[2],Vt=Te[3],Be=this.uint8ArrayToUint32Array_($),Ke=Be[0],le=Be[1],pe=Be[2],me=Be[3],we=new Int32Array(U),ge=new Int32Array(we.length),at,Pe,rr,yt,ke,Pt,Mt,Wt,Cr,Tn,kt,Gr,xt,wn,$t=this.networkToHostOrderSwap;H<we.length;){for(Cr=$t(we[H]),Tn=$t(we[H+1]),kt=$t(we[H+2]),Gr=$t(we[H+3]),ke=Cr^oe[0],Pt=Gr^oe[1],Mt=kt^oe[2],Wt=Tn^oe[3],xt=4,wn=1;wn<q;wn++)at=Ue[ke>>>24]^Ge[Pt>>16&255]^Ne[Mt>>8&255]^Vt[Wt&255]^oe[xt],Pe=Ue[Pt>>>24]^Ge[Mt>>16&255]^Ne[Wt>>8&255]^Vt[ke&255]^oe[xt+1],rr=Ue[Mt>>>24]^Ge[Wt>>16&255]^Ne[ke>>8&255]^Vt[Pt&255]^oe[xt+2],yt=Ue[Wt>>>24]^Ge[ke>>16&255]^Ne[Pt>>8&255]^Vt[Mt&255]^oe[xt+3],ke=at,Pt=Pe,Mt=rr,Wt=yt,xt=xt+4;at=se[ke>>>24]<<24^se[Pt>>16&255]<<16^se[Mt>>8&255]<<8^se[Wt&255]^oe[xt],Pe=se[Pt>>>24]<<24^se[Mt>>16&255]<<16^se[Wt>>8&255]<<8^se[ke&255]^oe[xt+1],rr=se[Mt>>>24]<<24^se[Wt>>16&255]<<16^se[ke>>8&255]<<8^se[Pt&255]^oe[xt+2],yt=se[Wt>>>24]<<24^se[ke>>16&255]<<16^se[Pt>>8&255]<<8^se[Mt&255]^oe[xt+3],xt=xt+3,ge[H]=$t(at^Ke),ge[H+1]=$t(yt^le),ge[H+2]=$t(rr^pe),ge[H+3]=$t(Pe^me),Ke=Cr,le=Tn,pe=kt,me=Gr,H=H+4}return Y?T(ge.buffer):ge.buffer},w.destroy=function(){this.key=void 0,this.keySize=void 0,this.ksRows=void 0,this.sBox=void 0,this.invSBox=void 0,this.subMix=void 0,this.invSubMix=void 0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.rcon=void 0},P}(),E=g,N=s("./src/errors.ts"),_=s("./src/utils/logger.js"),k=s("./src/events.js"),b=s("./src/utils/get-self-scope.js"),D=Object(b.getSelfScope)(),K=function(){function P(F,U,H){var $=H===void 0?{}:H,Y=$.removePKCS7Padding,q=Y===void 0?!0:Y;if(this.logEnabled=!0,this.observer=F,this.config=U,this.removePKCS7Padding=q,q)try{var oe=D.crypto;oe&&(this.subtle=oe.subtle||oe.webkitSubtle)}catch{}this.disableWebCrypto=!this.subtle}var w=P.prototype;return w.isSync=function(){return this.disableWebCrypto&&this.config.enableSoftwareAES},w.decrypt=function(U,H,$,Y){var q=this;if(this.disableWebCrypto&&this.config.enableSoftwareAES){this.logEnabled&&(_.logger.log("JS AES decrypt"),this.logEnabled=!1);var oe=this.decryptor;oe||(this.decryptor=oe=new E),oe.expandKey(H),Y(oe.decrypt(U,0,$,this.removePKCS7Padding))}else{this.logEnabled&&(_.logger.log("WebCrypto AES decrypt"),this.logEnabled=!1);var se=this.subtle;this.key!==H&&(this.key=H,this.fastAesKey=new m(se,H)),this.fastAesKey.expandKey().then(function(Te){var Ue=new f(se,$);Ue.decrypt(U,Te).catch(function(Ge){q.onWebCryptoError(Ge,U,H,$,Y)}).then(function(Ge){Y(Ge)})}).catch(function(Te){q.onWebCryptoError(Te,U,H,$,Y)})}},w.onWebCryptoError=function(U,H,$,Y,q){this.config.enableSoftwareAES?(_.logger.log("WebCrypto Error, disable WebCrypto API"),this.disableWebCrypto=!0,this.logEnabled=!0,this.decrypt(H,$,Y,q)):(_.logger.error("decrypting error : "+U.message),this.observer.trigger(k.default.ERROR,{type:N.ErrorTypes.MEDIA_ERROR,details:N.ErrorDetails.FRAG_DECRYPT_ERROR,fatal:!0,reason:U.message}))},w.destroy=function(){var U=this.decryptor;U&&(U.destroy(),this.decryptor=void 0)},P}();i.default=K},"./src/demux/demuxer-inline.js":function(r,i,s){s.r(i);var f=s("./src/events.js"),p=s("./src/errors.ts"),m=s("./src/crypt/decrypter.js"),T=s("./src/polyfills/number.js"),g=s("./src/utils/logger.js"),E=s("./src/utils/get-self-scope.js");function N(I,z,C,x){var R,O,M,B,G,W=navigator.userAgent.toLowerCase(),Z=x,J=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];if(R=((z[C+2]&192)>>>6)+1,O=(z[C+2]&60)>>>2,O>J.length-1){I.trigger(f.default.ERROR,{type:p.ErrorTypes.MEDIA_ERROR,details:p.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+O});return}return B=(z[C+2]&1)<<2,B|=(z[C+3]&192)>>>6,g.logger.log("manifest codec:"+x+",ADTS data:type:"+R+",sampleingIndex:"+O+"["+J[O]+"Hz],channelConfig:"+B),/firefox/i.test(W)?O>=6?(R=5,G=new Array(4),M=O-3):(R=2,G=new Array(2),M=O):W.indexOf("android")!==-1?(R=2,G=new Array(2),M=O):(R=5,G=new Array(4),x&&(x.indexOf("mp4a.40.29")!==-1||x.indexOf("mp4a.40.5")!==-1)||!x&&O>=6?M=O-3:((x&&x.indexOf("mp4a.40.2")!==-1&&(O>=6&&B===1||/vivaldi/i.test(W))||!x&&B===1)&&(R=2,G=new Array(2)),M=O)),G[0]=R<<3,G[0]|=(O&14)>>1,G[1]|=(O&1)<<7,G[1]|=B<<3,R===5&&(G[1]|=(M&14)>>1,G[2]=(M&1)<<7,G[2]|=8,G[3]=0),{config:G,samplerate:J[O],channelCount:B,codec:"mp4a.40."+R,manifestCodec:Z}}function _(I,z){return I[z]===255&&(I[z+1]&246)===240}function k(I,z){return I[z+1]&1?7:9}function b(I,z){return(I[z+3]&3)<<11|I[z+4]<<3|(I[z+5]&224)>>>5}function D(I,z){return!!(z+1<I.length&&_(I,z))}function K(I,z){if(D(I,z)){var C=k(I,z);if(z+C>=I.length)return!1;var x=b(I,z);if(x<=C)return!1;var R=z+x;if(R===I.length||R+1<I.length&&_(I,R))return!0}return!1}function P(I,z,C,x,R){if(!I.samplerate){var O=N(z,C,x,R);I.config=O.config,I.samplerate=O.samplerate,I.channelCount=O.channelCount,I.codec=O.codec,I.manifestCodec=O.manifestCodec,g.logger.log("parsed codec:"+I.codec+",rate:"+O.samplerate+",nb channel:"+O.channelCount)}}function w(I){return 1024*9e4/I}function F(I,z,C,x,R){var O,M,B,G=I.length;if(O=k(I,z),M=b(I,z),M-=O,M>0&&z+O+M<=G)return B=C+x*R,{headerLength:O,frameLength:M,stamp:B}}function U(I,z,C,x,R){var O=w(I.samplerate),M=F(z,C,x,R,O);if(M){var B=M.stamp,G=M.headerLength,W=M.frameLength,Z={unit:z.subarray(C+G,C+G+W),pts:B,dts:B};return I.samples.push(Z),{sample:Z,length:W+G}}}var H=s("./src/demux/id3.js"),$=function(){function I(C,x,R){this.observer=C,this.config=R,this.remuxer=x}var z=I.prototype;return z.resetInitSegment=function(x,R,O,M){this._audioTrack={container:"audio/adts",type:"audio",id:0,sequenceNumber:0,isAAC:!0,samples:[],len:0,manifestCodec:R,duration:M,inputTimeScale:9e4}},z.resetTimeStamp=function(){},I.probe=function(x){if(!x)return!1;for(var R=H.default.getID3Data(x,0)||[],O=R.length,M=x.length;O<M;O++)if(K(x,O))return g.logger.log("ADTS sync word found !"),!0;return!1},z.append=function(x,R,O,M){for(var B=this._audioTrack,G=H.default.getID3Data(x,0)||[],W=H.default.getTimeStamp(G),Z=Object(T.isFiniteNumber)(W)?W*90:R*9e4,J=0,Q=Z,ne=x.length,te=G.length,ue=[{pts:Q,dts:Q,data:G}];te<ne-1;)if(D(x,te)&&te+5<ne){P(B,this.observer,x,te,B.manifestCodec);var re=U(B,x,te,Z,J);if(re)te+=re.length,Q=re.sample.pts,J++;else{g.logger.log("Unable to parse AAC frame");break}}else H.default.isHeader(x,te)?(G=H.default.getID3Data(x,te),ue.push({pts:Q,dts:Q,data:G}),te+=G.length):te++;this.remuxer.remux(B,{samples:[]},{samples:ue,inputTimeScale:9e4},{samples:[]},R,O,M)},z.destroy=function(){},I}(),Y=$,q=s("./src/demux/mp4demuxer.js"),oe={BitratesMap:[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],SamplingRateMap:[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],SamplesCoefficients:[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],BytesInSlot:[0,1,1,4],appendFrame:function(z,C,x,R,O){if(!(x+24>C.length)){var M=this.parseHeader(C,x);if(M&&x+M.frameLength<=C.length){var B=M.samplesPerFrame*9e4/M.sampleRate,G=R+O*B,W={unit:C.subarray(x,x+M.frameLength),pts:G,dts:G};return z.config=[],z.channelCount=M.channelCount,z.samplerate=M.sampleRate,z.samples.push(W),{sample:W,length:M.frameLength}}}},parseHeader:function(z,C){var x=z[C+1]>>3&3,R=z[C+1]>>1&3,O=z[C+2]>>4&15,M=z[C+2]>>2&3,B=z[C+2]>>1&1;if(x!==1&&O!==0&&O!==15&&M!==3){var G=x===3?3-R:R===3?3:4,W=oe.BitratesMap[G*14+O-1]*1e3,Z=x===3?0:x===2?1:2,J=oe.SamplingRateMap[Z*3+M],Q=z[C+3]>>6===3?1:2,ne=oe.SamplesCoefficients[x][R],te=oe.BytesInSlot[R],ue=ne*8*te,re=parseInt(ne*W/J+B,10)*te;return{sampleRate:J,channelCount:Q,frameLength:re,samplesPerFrame:ue}}},isHeaderPattern:function(z,C){return z[C]===255&&(z[C+1]&224)===224&&(z[C+1]&6)!==0},isHeader:function(z,C){return!!(C+1<z.length&&this.isHeaderPattern(z,C))},probe:function(z,C){if(C+1<z.length&&this.isHeaderPattern(z,C)){var x=4,R=this.parseHeader(z,C),O=x;R&&R.frameLength&&(O=R.frameLength);var M=C+O;if(M===z.length||M+1<z.length&&this.isHeaderPattern(z,M))return!0}return!1}},se=oe,Te=function(){function I(C){this.data=C,this.bytesAvailable=C.byteLength,this.word=0,this.bitsAvailable=0}var z=I.prototype;return z.loadWord=function(){var x=this.data,R=this.bytesAvailable,O=x.byteLength-R,M=new Uint8Array(4),B=Math.min(4,R);if(B===0)throw new Error("no bytes available");M.set(x.subarray(O,O+B)),this.word=new DataView(M.buffer).getUint32(0),this.bitsAvailable=B*8,this.bytesAvailable-=B},z.skipBits=function(x){var R;this.bitsAvailable>x?(this.word<<=x,this.bitsAvailable-=x):(x-=this.bitsAvailable,R=x>>3,x-=R>>3,this.bytesAvailable-=R,this.loadWord(),this.word<<=x,this.bitsAvailable-=x)},z.readBits=function(x){var R=Math.min(this.bitsAvailable,x),O=this.word>>>32-R;return x>32&&g.logger.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=R,this.bitsAvailable>0?this.word<<=R:this.bytesAvailable>0&&this.loadWord(),R=x-R,R>0&&this.bitsAvailable?O<<R|this.readBits(R):O},z.skipLZ=function(){var x;for(x=0;x<this.bitsAvailable;++x)if(this.word&2147483648>>>x)return this.word<<=x,this.bitsAvailable-=x,x;return this.loadWord(),x+this.skipLZ()},z.skipUEG=function(){this.skipBits(1+this.skipLZ())},z.skipEG=function(){this.skipBits(1+this.skipLZ())},z.readUEG=function(){var x=this.skipLZ();return this.readBits(x+1)-1},z.readEG=function(){var x=this.readUEG();return 1&x?1+x>>>1:-1*(x>>>1)},z.readBoolean=function(){return this.readBits(1)===1},z.readUByte=function(){return this.readBits(8)},z.readUShort=function(){return this.readBits(16)},z.readUInt=function(){return this.readBits(32)},z.skipScalingList=function(x){var R=8,O=8,M,B;for(M=0;M<x;M++)O!==0&&(B=this.readEG(),O=(R+B+256)%256),R=O===0?R:O},z.readSPS=function(){var x=0,R=0,O=0,M=0,B,G,W,Z,J,Q,ne,te=this.readUByte.bind(this),ue=this.readBits.bind(this),re=this.readUEG.bind(this),ve=this.readBoolean.bind(this),de=this.skipBits.bind(this),Se=this.skipEG.bind(this),Ie=this.skipUEG.bind(this),_e=this.skipScalingList.bind(this);if(te(),B=te(),ue(5),de(3),te(),Ie(),B===100||B===110||B===122||B===244||B===44||B===83||B===86||B===118||B===128){var Ve=re();if(Ve===3&&de(1),Ie(),Ie(),de(1),ve())for(Q=Ve!==3?8:12,ne=0;ne<Q;ne++)ve()&&(ne<6?_e(16):_e(64))}Ie();var Ce=re();if(Ce===0)re();else if(Ce===1)for(de(1),Se(),Se(),G=re(),ne=0;ne<G;ne++)Se();Ie(),de(1),W=re(),Z=re(),J=ue(1),J===0&&de(1),de(1),ve()&&(x=re(),R=re(),O=re(),M=re());var Ae=[1,1];if(ve()&&ve()){var be=te();switch(be){case 1:Ae=[1,1];break;case 2:Ae=[12,11];break;case 3:Ae=[10,11];break;case 4:Ae=[16,11];break;case 5:Ae=[40,33];break;case 6:Ae=[24,11];break;case 7:Ae=[20,11];break;case 8:Ae=[32,11];break;case 9:Ae=[80,33];break;case 10:Ae=[18,11];break;case 11:Ae=[15,11];break;case 12:Ae=[64,33];break;case 13:Ae=[160,99];break;case 14:Ae=[4,3];break;case 15:Ae=[3,2];break;case 16:Ae=[2,1];break;case 255:{Ae=[te()<<8|te(),te()<<8|te()];break}}}return{width:Math.ceil((W+1)*16-x*2-R*2),height:(2-J)*(Z+1)*16-(J?2:4)*(O+M),pixelRatio:Ae}},z.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},I}(),Ue=Te,Ge=function(){function I(C,x,R,O){this.decryptdata=R,this.discardEPB=O,this.decrypter=new m.default(C,x,{removePKCS7Padding:!1})}var z=I.prototype;return z.decryptBuffer=function(x,R){this.decrypter.decrypt(x,this.decryptdata.key.buffer,this.decryptdata.iv.buffer,R)},z.decryptAacSample=function(x,R,O,M){var B=x[R].unit,G=B.subarray(16,B.length-B.length%16),W=G.buffer.slice(G.byteOffset,G.byteOffset+G.length),Z=this;this.decryptBuffer(W,function(J){J=new Uint8Array(J),B.set(J,16),M||Z.decryptAacSamples(x,R+1,O)})},z.decryptAacSamples=function(x,R,O){for(;;R++){if(R>=x.length){O();return}if(!(x[R].unit.length<32)){var M=this.decrypter.isSync();if(this.decryptAacSample(x,R,O,M),!M)return}}},z.getAvcEncryptedData=function(x){for(var R=Math.floor((x.length-48)/160)*16+16,O=new Int8Array(R),M=0,B=32;B<=x.length-16;B+=160,M+=16)O.set(x.subarray(B,B+16),M);return O},z.getAvcDecryptedUnit=function(x,R){R=new Uint8Array(R);for(var O=0,M=32;M<=x.length-16;M+=160,O+=16)x.set(R.subarray(O,O+16),M);return x},z.decryptAvcSample=function(x,R,O,M,B,G){var W=this.discardEPB(B.data),Z=this.getAvcEncryptedData(W),J=this;this.decryptBuffer(Z.buffer,function(Q){B.data=J.getAvcDecryptedUnit(W,Q),G||J.decryptAvcSamples(x,R,O+1,M)})},z.decryptAvcSamples=function(x,R,O,M){for(;;R++,O=0){if(R>=x.length){M();return}for(var B=x[R].units;!(O>=B.length);O++){var G=B[O];if(!(G.data.length<=48||G.type!==1&&G.type!==5)){var W=this.decrypter.isSync();if(this.decryptAvcSample(x,R,O,M,G,W),!W)return}}}},I}(),Ne=Ge,Vt={video:1,audio:2,id3:3,text:4},Be=function(){function I(C,x,R,O){this.observer=C,this.config=R,this.typeSupported=O,this.remuxer=x,this.sampleAes=null,this.pmtUnknownTypes={}}var z=I.prototype;return z.setDecryptData=function(x){x!=null&&x.key!=null&&x.method==="SAMPLE-AES"?this.sampleAes=new Ne(this.observer,this.config,x,this.discardEPB):this.sampleAes=null},I.probe=function(x){var R=I._syncOffset(x);return R<0?!1:(R&&g.logger.warn("MPEG2-TS detected but first sync word found @ offset "+R+", junk ahead ?"),!0)},I._syncOffset=function(x){for(var R=Math.min(1e3,x.length-564),O=0;O<R;){if(x[O]===71&&x[O+188]===71&&x[O+2*188]===71)return O;O++}return-1},I.createTrack=function(x,R){return{container:x==="video"||x==="audio"?"video/mp2t":void 0,type:x,id:Vt[x],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:x==="video"?0:void 0,isAAC:x==="audio"?!0:void 0,duration:x==="audio"?R:void 0}},z.resetInitSegment=function(x,R,O,M){this.pmtParsed=!1,this._pmtId=-1,this.pmtUnknownTypes={},this._avcTrack=I.createTrack("video",M),this._audioTrack=I.createTrack("audio",M),this._id3Track=I.createTrack("id3",M),this._txtTrack=I.createTrack("text",M),this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.audioCodec=R,this.videoCodec=O,this._duration=M},z.resetTimeStamp=function(){},z.append=function(x,R,O,M){var B,G=x.length,W,Z,J,Q,ne,te=!1;this.pmtUnknownTypes={},this.contiguous=O;var ue=this.pmtParsed,re=this._avcTrack,ve=this._audioTrack,de=this._id3Track,Se=re.pid,Ie=ve.pid,_e=de.pid,Ve=this._pmtId,Ce=re.pesData,Ae=ve.pesData,be=de.pesData,ze=this._parsePAT,Et=this._parsePMT.bind(this),ut=this._parsePES,We=this._parseAVCPES.bind(this),Dt=this._parseAACPES.bind(this),ft=this._parseMPEGPES.bind(this),Nt=this._parseID3PES.bind(this),ot=I._syncOffset(x);for(G-=(G+ot)%188,B=ot;B<G;B+=188)if(x[B]===71){if(W=!!(x[B+1]&64),Z=((x[B+1]&31)<<8)+x[B+2],J=(x[B+3]&48)>>4,J>1){if(Q=B+5+x[B+4],Q===B+188)continue}else Q=B+4;switch(Z){case Se:W&&(Ce&&(ne=ut(Ce))&&We(ne,!1),Ce={data:[],size:0}),Ce&&(Ce.data.push(x.subarray(Q,B+188)),Ce.size+=B+188-Q);break;case Ie:W&&(Ae&&(ne=ut(Ae))&&(ve.isAAC?Dt(ne):ft(ne)),Ae={data:[],size:0}),Ae&&(Ae.data.push(x.subarray(Q,B+188)),Ae.size+=B+188-Q);break;case _e:W&&(be&&(ne=ut(be))&&Nt(ne),be={data:[],size:0}),be&&(be.data.push(x.subarray(Q,B+188)),be.size+=B+188-Q);break;case 0:W&&(Q+=x[Q]+1),Ve=this._pmtId=ze(x,Q);break;case Ve:W&&(Q+=x[Q]+1);var $e=Et(x,Q,this.typeSupported.mpeg===!0||this.typeSupported.mp3===!0,this.sampleAes!=null);Se=$e.avc,Se>0&&(re.pid=Se),Ie=$e.audio,Ie>0&&(ve.pid=Ie,ve.isAAC=$e.isAAC),_e=$e.id3,_e>0&&(de.pid=_e),te&&!ue&&(g.logger.log("reparse from beginning"),te=!1,B=ot-188),ue=this.pmtParsed=!0;break;case 17:case 8191:break;default:te=!0;break}}else this.observer.trigger(f.default.ERROR,{type:p.ErrorTypes.MEDIA_ERROR,details:p.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"TS packet did not start with 0x47"});Ce&&(ne=ut(Ce))?(We(ne,!0),re.pesData=null):re.pesData=Ce,Ae&&(ne=ut(Ae))?(ve.isAAC?Dt(ne):ft(ne),ve.pesData=null):(Ae&&Ae.size&&g.logger.log("last AAC PES packet truncated,might overlap between fragments"),ve.pesData=Ae),be&&(ne=ut(be))?(Nt(ne),de.pesData=null):de.pesData=be,this.sampleAes==null?this.remuxer.remux(ve,re,de,this._txtTrack,R,O,M):this.decryptAndRemux(ve,re,de,this._txtTrack,R,O,M)},z.decryptAndRemux=function(x,R,O,M,B,G,W){if(x.samples&&x.isAAC){var Z=this;this.sampleAes.decryptAacSamples(x.samples,0,function(){Z.decryptAndRemuxAvc(x,R,O,M,B,G,W)})}else this.decryptAndRemuxAvc(x,R,O,M,B,G,W)},z.decryptAndRemuxAvc=function(x,R,O,M,B,G,W){if(R.samples){var Z=this;this.sampleAes.decryptAvcSamples(R.samples,0,0,function(){Z.remuxer.remux(x,R,O,M,B,G,W)})}else this.remuxer.remux(x,R,O,M,B,G,W)},z.destroy=function(){this._initPTS=this._initDTS=void 0,this._duration=0},z._parsePAT=function(x,R){return(x[R+10]&31)<<8|x[R+11]},z._trackUnknownPmt=function(x,R,O){var M=this.pmtUnknownTypes[x]||0;return M===0&&(this.pmtUnknownTypes[x]=0,R.call(g.logger,O)),this.pmtUnknownTypes[x]++,M},z._parsePMT=function(x,R,O,M){var B,G,W,Z,J={audio:-1,avc:-1,id3:-1,isAAC:!0};for(B=(x[R+1]&15)<<8|x[R+2],G=R+3+B-4,W=(x[R+10]&15)<<8|x[R+11],R+=12+W;R<G;){switch(Z=(x[R+1]&31)<<8|x[R+2],x[R]){case 207:if(!M){this._trackUnknownPmt(x[R],g.logger.warn,"ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream");break}case 15:J.audio===-1&&(J.audio=Z);break;case 21:J.id3===-1&&(J.id3=Z);break;case 219:if(!M){this._trackUnknownPmt(x[R],g.logger.warn,"H.264 with AES-128-CBC slice encryption found in unencrypted stream");break}case 27:J.avc===-1&&(J.avc=Z);break;case 3:case 4:O?J.audio===-1&&(J.audio=Z,J.isAAC=!1):this._trackUnknownPmt(x[R],g.logger.warn,"MPEG audio found, not supported in this browser");break;case 36:this._trackUnknownPmt(x[R],g.logger.warn,"Unsupported HEVC stream type found");break;default:this._trackUnknownPmt(x[R],g.logger.log,"Unknown stream type:"+x[R]);break}R+=((x[R+3]&15)<<8|x[R+4])+5}return J},z._parsePES=function(x){var R=0,O,M,B,G,W,Z,J,Q,ne,te=x.data;if(!x||x.size===0)return null;for(;te[0].length<19&&te.length>1;){var ue=new Uint8Array(te[0].length+te[1].length);ue.set(te[0]),ue.set(te[1],te[0].length),te[0]=ue,te.splice(1,1)}if(O=te[0],B=(O[0]<<16)+(O[1]<<8)+O[2],B===1){if(G=(O[4]<<8)+O[5],G&&G>x.size-6||(M=O[7],M&192&&(J=(O[9]&14)*536870912+(O[10]&255)*4194304+(O[11]&254)*16384+(O[12]&255)*128+(O[13]&254)/2,M&64?(Q=(O[14]&14)*536870912+(O[15]&255)*4194304+(O[16]&254)*16384+(O[17]&255)*128+(O[18]&254)/2,J-Q>60*9e4&&(g.logger.warn(Math.round((J-Q)/9e4)+"s delta between PTS and DTS, align them"),J=Q)):Q=J),W=O[8],ne=W+9,x.size<=ne))return null;x.size-=ne,Z=new Uint8Array(x.size);for(var re=0,ve=te.length;re<ve;re++){O=te[re];var de=O.byteLength;if(ne)if(ne>de){ne-=de;continue}else O=O.subarray(ne),de-=ne,ne=0;Z.set(O,R),R+=de}return G&&(G-=W+3),{data:Z,pts:J,dts:Q,len:G}}else return null},z.pushAccesUnit=function(x,R){if(x.units.length&&x.frame){var O=R.samples,M=O.length;if(isNaN(x.pts))if(M){var B=O[M-1];x.pts=B.pts,x.dts=B.dts}else{R.dropped++;return}!this.config.forceKeyFrameOnDiscontinuity||x.key===!0||R.sps&&(M||this.contiguous)?(x.id=M,O.push(x)):R.dropped++}x.debug.length&&g.logger.log(x.pts+"/"+x.dts+":"+x.debug)},z._parseAVCPES=function(x,R){var O=this,M=this._avcTrack,B=this._parseAVCNALu(x.data),G,W=this.avcSample,Z,J=!1,Q,ne=this.pushAccesUnit.bind(this),te=function(re,ve,de,Se){return{key:re,pts:ve,dts:de,units:[],debug:Se}};x.data=null,W&&B.length&&!M.audFound&&(ne(W,M),W=this.avcSample=te(!1,x.pts,x.dts,"")),B.forEach(function(ue){switch(ue.type){case 1:Z=!0,W||(W=O.avcSample=te(!0,x.pts,x.dts,"")),W.frame=!0;var re=ue.data;if(J&&re.length>4){var ve=new Ue(re).readSliceType();(ve===2||ve===4||ve===7||ve===9)&&(W.key=!0)}break;case 5:Z=!0,W||(W=O.avcSample=te(!0,x.pts,x.dts,"")),W.key=!0,W.frame=!0;break;case 6:Z=!0,G=new Ue(O.discardEPB(ue.data)),G.readUByte();for(var de=0,Se=0,Ie=!1,_e=0;!Ie&&G.bytesAvailable>1;){de=0;do _e=G.readUByte(),de+=_e;while(_e===255);Se=0;do _e=G.readUByte(),Se+=_e;while(_e===255);if(de===4&&G.bytesAvailable!==0){Ie=!0;var Ve=G.readUByte();if(Ve===181){var Ce=G.readUShort();if(Ce===49){var Ae=G.readUInt();if(Ae===1195456820){var be=G.readUByte();if(be===3){var ze=G.readUByte(),Et=G.readUByte(),ut=31&ze,We=[ze,Et];for(Q=0;Q<ut;Q++)We.push(G.readUByte()),We.push(G.readUByte()),We.push(G.readUByte());O._insertSampleInOrder(O._txtTrack.samples,{type:3,pts:x.pts,bytes:We})}}}}}else if(de===5&&G.bytesAvailable!==0){if(Ie=!0,Se>16){var Dt=[];for(Q=0;Q<16;Q++)Dt.push(G.readUByte().toString(16)),(Q===3||Q===5||Q===7||Q===9)&&Dt.push("-");var ft=Se-16,Nt=new Uint8Array(ft);for(Q=0;Q<ft;Q++)Nt[Q]=G.readUByte();O._insertSampleInOrder(O._txtTrack.samples,{pts:x.pts,payloadType:de,uuid:Dt.join(""),userDataBytes:Nt,userData:Object(H.utf8ArrayToStr)(Nt.buffer)})}}else if(Se<G.bytesAvailable)for(Q=0;Q<Se;Q++)G.readUByte()}break;case 7:if(Z=!0,J=!0,!M.sps){G=new Ue(ue.data);var ot=G.readSPS();M.width=ot.width,M.height=ot.height,M.pixelRatio=ot.pixelRatio,M.sps=[ue.data],M.duration=O._duration;var $e=ue.data.subarray(1,4),xr="avc1.";for(Q=0;Q<3;Q++){var Er=$e[Q].toString(16);Er.length<2&&(Er="0"+Er),xr+=Er}M.codec=xr}break;case 8:Z=!0,M.pps||(M.pps=[ue.data]);break;case 9:Z=!1,M.audFound=!0,W&&ne(W,M),W=O.avcSample=te(!1,x.pts,x.dts,"");break;case 12:Z=!1;break;default:Z=!1,W&&(W.debug+="unknown NAL "+ue.type+" ");break}if(W&&Z){var Yt=W.units;Yt.push(ue)}}),R&&W&&(ne(W,M),this.avcSample=null)},z._insertSampleInOrder=function(x,R){var O=x.length;if(O>0){if(R.pts>=x[O-1].pts)x.push(R);else for(var M=O-1;M>=0;M--)if(R.pts<x[M].pts){x.splice(M,0,R);break}}else x.push(R)},z._getLastNalUnit=function(){var x=this.avcSample,R;if(!x||x.units.length===0){var O=this._avcTrack,M=O.samples;x=M[M.length-1]}if(x){var B=x.units;R=B[B.length-1]}return R},z._parseAVCNALu=function(x){var R=0,O=x.byteLength,M,B,G=this._avcTrack,W=G.naluState||0,Z=W,J=[],Q,ne,te=-1,ue;for(W===-1&&(te=0,ue=x[0]&31,W=0,R=1);R<O;){if(M=x[R++],!W){W=M?0:1;continue}if(W===1){W=M?0:2;continue}if(!M)W=3;else if(M===1){if(te>=0)Q={data:x.subarray(te,R-W-1),type:ue},J.push(Q);else{var re=this._getLastNalUnit();if(re&&(Z&&R<=4-Z&&re.state&&(re.data=re.data.subarray(0,re.data.byteLength-Z)),B=R-W-1,B>0)){var ve=new Uint8Array(re.data.byteLength+B);ve.set(re.data,0),ve.set(x.subarray(0,B),re.data.byteLength),re.data=ve}}R<O?(ne=x[R]&31,te=R,ue=ne,W=0):W=-1}else W=0}if(te>=0&&W>=0&&(Q={data:x.subarray(te,O),type:ue,state:W},J.push(Q)),J.length===0){var de=this._getLastNalUnit();if(de){var Se=new Uint8Array(de.data.byteLength+x.byteLength);Se.set(de.data,0),Se.set(x,de.data.byteLength),de.data=Se}}return G.naluState=W,J},z.discardEPB=function(x){for(var R=x.byteLength,O=[],M=1,B,G;M<R-2;)x[M]===0&&x[M+1]===0&&x[M+2]===3?(O.push(M+2),M+=2):M++;if(O.length===0)return x;B=R-O.length,G=new Uint8Array(B);var W=0;for(M=0;M<B;W++,M++)W===O[0]&&(W++,O.shift()),G[M]=x[W];return G},z._parseAACPES=function(x){var R=this._audioTrack,O=x.data,M=x.pts,B=0,G=this.aacOverFlow,W=this.aacLastPTS,Z,J,Q,ne,te;if(G){var ue=new Uint8Array(G.byteLength+O.byteLength);ue.set(G,0),ue.set(O,G.byteLength),O=ue}for(Q=B,te=O.length;Q<te-1&&!D(O,Q);Q++);if(Q){var re,ve;if(Q<te-1?(re="AAC PES did not start with ADTS header,offset:"+Q,ve=!1):(re="no ADTS header found in AAC PES",ve=!0),g.logger.warn("parsing error:"+re),this.observer.trigger(f.default.ERROR,{type:p.ErrorTypes.MEDIA_ERROR,details:p.ErrorDetails.FRAG_PARSING_ERROR,fatal:ve,reason:re}),ve)return}if(P(R,this.observer,O,Q,this.audioCodec),J=0,Z=w(R.samplerate),G&&W){var de=W+Z;Math.abs(de-M)>1&&(g.logger.log("AAC: align PTS for overlapping frames by "+Math.round((de-M)/90)),M=de)}for(;Q<te;)if(D(O,Q)){if(Q+5<te){var Se=U(R,O,Q,M,J);if(Se){Q+=Se.length,ne=Se.sample.pts,J++;continue}}break}else Q++;Q<te?G=O.subarray(Q,te):G=null,this.aacOverFlow=G,this.aacLastPTS=ne},z._parseMPEGPES=function(x){for(var R=x.data,O=R.length,M=0,B=0,G=x.pts;B<O;)if(se.isHeader(R,B)){var W=se.appendFrame(this._audioTrack,R,B,G,M);if(W)B+=W.length,M++;else break}else B++},z._parseID3PES=function(x){this._id3Track.samples.push(x)},I}(),Ke=Be,le=function(){function I(C,x,R){this.observer=C,this.config=R,this.remuxer=x}var z=I.prototype;return z.resetInitSegment=function(x,R,O,M){this._audioTrack={container:"audio/mpeg",type:"audio",id:-1,sequenceNumber:0,isAAC:!1,samples:[],len:0,manifestCodec:R,duration:M,inputTimeScale:9e4}},z.resetTimeStamp=function(){},I.probe=function(x){var R,O,M=H.default.getID3Data(x,0);if(M&&H.default.getTimeStamp(M)!==void 0){for(R=M.length,O=Math.min(x.length-1,R+100);R<O;R++)if(se.probe(x,R))return g.logger.log("MPEG Audio sync word found !"),!0}return!1},z.append=function(x,R,O,M){for(var B=H.default.getID3Data(x,0)||[],G=H.default.getTimeStamp(B),W=G!==void 0?90*G:R*9e4,Z=B.length,J=x.length,Q=0,ne=0,te=this._audioTrack,ue=[{pts:W,dts:W,data:B}];Z<J;)if(se.isHeader(x,Z)){var re=se.appendFrame(te,x,Z,W,Q);if(re)Z+=re.length,ne=re.sample.pts,Q++;else break}else H.default.isHeader(x,Z)?(B=H.default.getID3Data(x,Z),ue.push({pts:ne,dts:ne,data:B}),Z+=B.length):Z++;this.remuxer.remux(te,{samples:[]},{samples:ue,inputTimeScale:9e4},{samples:[]},R,O,M)},z.destroy=function(){},I}(),pe=le,me=function(){function I(){}return I.getSilentFrame=function(C,x){switch(C){case"mp4a.40.2":if(x===1)return new Uint8Array([0,200,0,128,35,128]);if(x===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(x===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(x===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(x===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(x===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(x===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(x===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(x===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);break}return null},I}(),we=me,ge=Math.pow(2,32)-1,at=function(){function I(){}return I.init=function(){I.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]};var C;for(C in I.types)I.types.hasOwnProperty(C)&&(I.types[C]=[C.charCodeAt(0),C.charCodeAt(1),C.charCodeAt(2),C.charCodeAt(3)]);var x=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),R=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);I.HDLR_TYPES={video:x,audio:R};var O=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),M=new Uint8Array([0,0,0,0,0,0,0,0]);I.STTS=I.STSC=I.STCO=M,I.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),I.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),I.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),I.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var B=new Uint8Array([105,115,111,109]),G=new Uint8Array([97,118,99,49]),W=new Uint8Array([0,0,0,1]);I.FTYP=I.box(I.types.ftyp,B,W,B,G),I.DINF=I.box(I.types.dinf,I.box(I.types.dref,O))},I.box=function(C){for(var x=Array.prototype.slice.call(arguments,1),R=8,O=x.length,M=O,B;O--;)R+=x[O].byteLength;for(B=new Uint8Array(R),B[0]=R>>24&255,B[1]=R>>16&255,B[2]=R>>8&255,B[3]=R&255,B.set(C,4),O=0,R=8;O<M;O++)B.set(x[O],R),R+=x[O].byteLength;return B},I.hdlr=function(C){return I.box(I.types.hdlr,I.HDLR_TYPES[C])},I.mdat=function(C){return I.box(I.types.mdat,C)},I.mdhd=function(C,x){x*=C;var R=Math.floor(x/(ge+1)),O=Math.floor(x%(ge+1));return I.box(I.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,C>>24&255,C>>16&255,C>>8&255,C&255,R>>24,R>>16&255,R>>8&255,R&255,O>>24,O>>16&255,O>>8&255,O&255,85,196,0,0]))},I.mdia=function(C){return I.box(I.types.mdia,I.mdhd(C.timescale,C.duration),I.hdlr(C.type),I.minf(C))},I.mfhd=function(C){return I.box(I.types.mfhd,new Uint8Array([0,0,0,0,C>>24,C>>16&255,C>>8&255,C&255]))},I.minf=function(C){return C.type==="audio"?I.box(I.types.minf,I.box(I.types.smhd,I.SMHD),I.DINF,I.stbl(C)):I.box(I.types.minf,I.box(I.types.vmhd,I.VMHD),I.DINF,I.stbl(C))},I.moof=function(C,x,R){return I.box(I.types.moof,I.mfhd(C),I.traf(R,x))},I.moov=function(C){for(var x=C.length,R=[];x--;)R[x]=I.trak(C[x]);return I.box.apply(null,[I.types.moov,I.mvhd(C[0].timescale,C[0].duration)].concat(R).concat(I.mvex(C)))},I.mvex=function(C){for(var x=C.length,R=[];x--;)R[x]=I.trex(C[x]);return I.box.apply(null,[I.types.mvex].concat(R))},I.mvhd=function(C,x){x*=C;var R=Math.floor(x/(ge+1)),O=Math.floor(x%(ge+1)),M=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,C>>24&255,C>>16&255,C>>8&255,C&255,R>>24,R>>16&255,R>>8&255,R&255,O>>24,O>>16&255,O>>8&255,O&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return I.box(I.types.mvhd,M)},I.sdtp=function(C){var x=C.samples||[],R=new Uint8Array(4+x.length),O,M;for(M=0;M<x.length;M++)O=x[M].flags,R[M+4]=O.dependsOn<<4|O.isDependedOn<<2|O.hasRedundancy;return I.box(I.types.sdtp,R)},I.stbl=function(C){return I.box(I.types.stbl,I.stsd(C),I.box(I.types.stts,I.STTS),I.box(I.types.stsc,I.STSC),I.box(I.types.stsz,I.STSZ),I.box(I.types.stco,I.STCO))},I.avc1=function(C){var x=[],R=[],O,M,B;for(O=0;O<C.sps.length;O++)M=C.sps[O],B=M.byteLength,x.push(B>>>8&255),x.push(B&255),x=x.concat(Array.prototype.slice.call(M));for(O=0;O<C.pps.length;O++)M=C.pps[O],B=M.byteLength,R.push(B>>>8&255),R.push(B&255),R=R.concat(Array.prototype.slice.call(M));var G=I.box(I.types.avcC,new Uint8Array([1,x[3],x[4],x[5],255,224|C.sps.length].concat(x).concat([C.pps.length]).concat(R))),W=C.width,Z=C.height,J=C.pixelRatio[0],Q=C.pixelRatio[1];return I.box(I.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,W>>8&255,W&255,Z>>8&255,Z&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),G,I.box(I.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),I.box(I.types.pasp,new Uint8Array([J>>24,J>>16&255,J>>8&255,J&255,Q>>24,Q>>16&255,Q>>8&255,Q&255])))},I.esds=function(C){var x=C.config.length;return new Uint8Array([0,0,0,0,3,23+x,0,1,0,4,15+x,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([x]).concat(C.config).concat([6,1,2]))},I.mp4a=function(C){var x=C.samplerate;return I.box(I.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,C.channelCount,0,16,0,0,0,0,x>>8&255,x&255,0,0]),I.box(I.types.esds,I.esds(C)))},I.mp3=function(C){var x=C.samplerate;return I.box(I.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,C.channelCount,0,16,0,0,0,0,x>>8&255,x&255,0,0]))},I.stsd=function(C){return C.type==="audio"?!C.isAAC&&C.codec==="mp3"?I.box(I.types.stsd,I.STSD,I.mp3(C)):I.box(I.types.stsd,I.STSD,I.mp4a(C)):I.box(I.types.stsd,I.STSD,I.avc1(C))},I.tkhd=function(C){var x=C.id,R=C.duration*C.timescale,O=C.width,M=C.height,B=Math.floor(R/(ge+1)),G=Math.floor(R%(ge+1));return I.box(I.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,x>>24&255,x>>16&255,x>>8&255,x&255,0,0,0,0,B>>24,B>>16&255,B>>8&255,B&255,G>>24,G>>16&255,G>>8&255,G&255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,O>>8&255,O&255,0,0,M>>8&255,M&255,0,0]))},I.traf=function(C,x){var R=I.sdtp(C),O=C.id,M=Math.floor(x/(ge+1)),B=Math.floor(x%(ge+1));return I.box(I.types.traf,I.box(I.types.tfhd,new Uint8Array([0,0,0,0,O>>24,O>>16&255,O>>8&255,O&255])),I.box(I.types.tfdt,new Uint8Array([1,0,0,0,M>>24,M>>16&255,M>>8&255,M&255,B>>24,B>>16&255,B>>8&255,B&255])),I.trun(C,R.length+16+20+8+16+8+8),R)},I.trak=function(C){return C.duration=C.duration||4294967295,I.box(I.types.trak,I.tkhd(C),I.mdia(C))},I.trex=function(C){var x=C.id;return I.box(I.types.trex,new Uint8Array([0,0,0,0,x>>24,x>>16&255,x>>8&255,x&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},I.trun=function(C,x){var R=C.samples||[],O=R.length,M=12+16*O,B=new Uint8Array(M),G,W,Z,J,Q,ne;for(x+=8+M,B.set([0,0,15,1,O>>>24&255,O>>>16&255,O>>>8&255,O&255,x>>>24&255,x>>>16&255,x>>>8&255,x&255],0),G=0;G<O;G++)W=R[G],Z=W.duration,J=W.size,Q=W.flags,ne=W.cts,B.set([Z>>>24&255,Z>>>16&255,Z>>>8&255,Z&255,J>>>24&255,J>>>16&255,J>>>8&255,J&255,Q.isLeading<<2|Q.dependsOn,Q.isDependedOn<<6|Q.hasRedundancy<<4|Q.paddingValue<<1|Q.isNonSync,Q.degradPrio&61440,Q.degradPrio&15,ne>>>24&255,ne>>>16&255,ne>>>8&255,ne&255],12+16*G);return I.box(I.types.trun,B)},I.initSegment=function(C){I.types||I.init();var x=I.moov(C),R;return R=new Uint8Array(I.FTYP.byteLength+x.byteLength),R.set(I.FTYP),R.set(x,I.FTYP.byteLength),R},I}(),Pe=at,rr=9e4;function yt(I,z,C,x){C===void 0&&(C=1),x===void 0&&(x=!1);var R=I*z*C;return x?Math.round(R):R}function ke(I,z){return z===void 0&&(z=!1),yt(I,1e3,1/rr,z)}function Pt(I,z){return z===void 0&&(z=1),yt(I,rr,1/z)}var Mt=Pt(10),Wt=Pt(.2),Cr=null,Tn=function(){function I(C,x,R,O){if(this.observer=C,this.config=x,this.typeSupported=R,this.ISGenerated=!1,Cr===null){var M=navigator.userAgent.match(/Chrome\/(\d+)/i);Cr=M?parseInt(M[1]):0}}var z=I.prototype;return z.destroy=function(){},z.resetTimeStamp=function(x){this._initPTS=this._initDTS=x},z.resetInitSegment=function(){this.ISGenerated=!1},z.getVideoStartPts=function(x){var R=!1,O=x.reduce(function(M,B){var G=B.pts-M;return G<-4294967296?(R=!0,kt(M,B.pts)):G>0?M:B.pts},x[0].pts);return R&&g.logger.debug("PTS rollover detected"),O},z.remux=function(x,R,O,M,B,G,W){if(this.ISGenerated||this.generateIS(x,R,B),this.ISGenerated){var Z=x.samples.length,J=R.samples.length,Q=B,ne=B;if(Z&&J){var te=this.getVideoStartPts(R.samples),ue=kt(x.samples[0].pts,te)-te,re=ue/R.inputTimeScale;Q+=Math.max(0,re),ne+=Math.max(0,-re)}if(Z){x.timescale||(g.logger.warn("regenerate InitSegment as audio detected"),this.generateIS(x,R,B));var ve=this.remuxAudio(x,Q,G,W);if(J){var de;ve&&(de=ve.endPTS-ve.startPTS),R.timescale||(g.logger.warn("regenerate InitSegment as video detected"),this.generateIS(x,R,B)),this.remuxVideo(R,ne,G,de)}}else if(J){var Se=this.remuxVideo(R,ne,G,0,W);Se&&x.codec&&this.remuxEmptyAudio(x,Q,G,Se)}}O.samples.length&&this.remuxID3(O,B),M.samples.length&&this.remuxText(M,B),this.observer.trigger(f.default.FRAG_PARSED)},z.generateIS=function(x,R,O){var M=this.observer,B=x.samples,G=R.samples,W=this.typeSupported,Z="audio/mp4",J={},Q={tracks:J},ne=this._initPTS===void 0,te,ue;if(ne&&(te=ue=1/0),x.config&&B.length&&(x.timescale=x.samplerate,g.logger.log("audio sampling rate : "+x.samplerate),x.isAAC||(W.mpeg?(Z="audio/mpeg",x.codec=""):W.mp3&&(x.codec="mp3")),J.audio={container:Z,codec:x.codec,initSegment:!x.isAAC&&W.mpeg?new Uint8Array:Pe.initSegment([x]),metadata:{channelCount:x.channelCount}},ne&&(te=ue=B[0].pts-Math.round(x.inputTimeScale*O))),R.sps&&R.pps&&G.length){var re=R.inputTimeScale;if(R.timescale=re,J.video={container:"video/mp4",codec:R.codec,initSegment:Pe.initSegment([R]),metadata:{width:R.width,height:R.height}},ne){var ve=this.getVideoStartPts(G),de=Math.round(re*O);ue=Math.min(ue,kt(G[0].dts,ve)-de),te=Math.min(te,ve-de),this.observer.trigger(f.default.INIT_PTS_FOUND,{initPTS:te})}}else ne&&J.audio&&this.observer.trigger(f.default.INIT_PTS_FOUND,{initPTS:te});Object.keys(J).length?(M.trigger(f.default.FRAG_PARSING_INIT_SEGMENT,Q),this.ISGenerated=!0,ne&&(this._initPTS=te,this._initDTS=ue)):M.trigger(f.default.ERROR,{type:p.ErrorTypes.MEDIA_ERROR,details:p.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"no audio/video samples found"})},z.remuxVideo=function(x,R,O,M){var B=x.timescale,G=x.samples,W=[],Z=G.length,J=this._initPTS,Q=8,ne,te,ue,re,ve,de=Number.POSITIVE_INFINITY,Se=Number.NEGATIVE_INFINITY,Ie=0,_e=!1,Ve=this.nextAvcDts;if(Z!==0){if(!O){var Ce=R*B,Ae=G[0].pts-kt(G[0].dts,G[0].pts);Ve=Ce-Ae}for(var be=0;be<Z;be++){var ze=G[be];ze.pts=kt(ze.pts-J,Ve),ze.dts=kt(ze.dts-J,Ve),ze.dts>ze.pts&&(Ie=Math.max(Math.min(Ie,ze.pts-ze.dts),-1*Wt)),ze.dts<G[be>0?be-1:be].dts&&(_e=!0)}_e&&G.sort(function($n,Fi){var xs=$n.dts-Fi.dts,Es=$n.pts-Fi.pts;return xs||Es||$n.id-Fi.id}),re=G[0].dts,ve=G[Z-1].dts;var Et=Math.round((ve-re)/(Z-1));if(Ie<0){if(Ie<Et*-2){g.logger.warn("PTS < DTS detected in video samples, offsetting DTS from PTS by "+ke(-Et,!0)+" ms");for(var ut=Ie,We=0;We<Z;We++)G[We].dts=ut=Math.max(ut,G[We].pts-Et),G[We].pts=Math.max(ut,G[We].pts)}else{g.logger.warn("PTS < DTS detected in video samples, shifting DTS by "+ke(Ie,!0)+" ms to overcome this issue");for(var Dt=0;Dt<Z;Dt++)G[Dt].dts=G[Dt].dts+Ie}re=G[0].dts,ve=G[Z-1].dts}if(O){var ft=re-Ve,Nt=ft>Et,ot=ft<-1;if(Nt||ot){Nt?g.logger.warn("AVC: "+ke(ft,!0)+" ms ("+ft+"dts) hole between fragments detected, filling it"):g.logger.warn("AVC: "+ke(-ft,!0)+" ms ("+ft+"dts) overlapping between fragments detected"),re=Ve;var $e=G[0].pts-ft;G[0].dts=re,G[0].pts=$e,g.logger.log("Video: First PTS/DTS adjusted: "+ke($e,!0)+"/"+ke(re,!0)+", delta: "+ke(ft,!0)+" ms")}}Cr&&Cr<75&&(re=Math.max(0,re));for(var xr=0,Er=0,Yt=0;Yt<Z;Yt++){for(var St=G[Yt],dr=St.units,Sr=dr.length,Ir=0,Rn=0;Rn<Sr;Rn++)Ir+=dr[Rn].data.length;Er+=Ir,xr+=Sr,St.length=Ir,St.dts=Math.max(St.dts,re),St.pts=Math.max(St.pts,St.dts,0),de=Math.min(St.pts,de),Se=Math.max(St.pts,Se)}ve=G[Z-1].dts;var Fr=Er+4*xr+8;try{te=new Uint8Array(Fr)}catch{this.observer.trigger(f.default.ERROR,{type:p.ErrorTypes.MUX_ERROR,details:p.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:Fr,reason:"fail allocating video mdat "+Fr});return}var An=new DataView(te.buffer);An.setUint32(0,Fr),te.set(Pe.types.mdat,4);for(var X=0;X<Z;X++){for(var Ut=G[X],Ln=Ut.units,Pn=0,_r=void 0,Oi=0,vs=Ln.length;Oi<vs;Oi++){var ba=Ln[Oi],ms=ba.data,Ci=ba.data.byteLength;An.setUint32(Q,Ci),Q+=4,te.set(ms,Q),Q+=Ci,Pn+=4+Ci}if(X<Z-1)ne=G[X+1].dts-Ut.dts;else{var Ma=this.config,kn=Ut.dts-G[X>0?X-1:X].dts;if(Ma.stretchShortVideoTrack){var ys=Ma.maxBufferHole,Ii=Math.floor(ys*B),Wn=(M?de+M*B:this.nextAudioPts)-Ut.pts;Wn>Ii?(ne=Wn-kn,ne<0&&(ne=kn),g.logger.log("It is approximately "+ke(Wn,!1)+" ms to the next segment; using duration "+ke(ne,!1)+" ms for the last video frame.")):ne=kn}else ne=kn}_r=Math.round(Ut.pts-Ut.dts),W.push({size:Pn,duration:ne,cts:_r,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:Ut.key?2:1,isNonSync:Ut.key?0:1}})}this.nextAvcDts=ve+ne;var Dn=x.dropped;if(x.nbNalu=0,x.dropped=0,W.length&&navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var Na=W[0].flags;Na.dependsOn=2,Na.isNonSync=0}x.samples=W,ue=Pe.moof(x.sequenceNumber++,re,x),x.samples=[];var Ua={data1:ue,data2:te,startPTS:de/B,endPTS:(Se+ne)/B,startDTS:re/B,endDTS:this.nextAvcDts/B,type:"video",hasAudio:!1,hasVideo:!0,nb:W.length,dropped:Dn};return this.observer.trigger(f.default.FRAG_PARSING_DATA,Ua),Ua}},z.remuxAudio=function(x,R,O,M){var B=x.inputTimeScale,G=x.timescale,W=B/G,Z=x.isAAC?1024:1152,J=Z*W,Q=this._initPTS,ne=!x.isAAC&&this.typeSupported.mpeg,te,ue,re,ve,de,Se,Ie=ne?0:8,_e=x.samples,Ve=[],Ce=this.nextAudioPts;if(O|=_e.length&&Ce&&(M&&Math.abs(R-Ce/B)<.1||Math.abs(_e[0].pts-Ce-Q)<20*J),_e.forEach(function(_r){_r.pts=_r.dts=kt(_r.pts-Q,R*B)}),_e=_e.filter(function(_r){return _r.pts>=0}),_e.length!==0){if(O||(M?Ce=Math.max(0,R*B):Ce=_e[0].pts),x.isAAC)for(var Ae=this.config.maxAudioFramesDrift,be=0,ze=Ce;be<_e.length;){var Et=_e[be],ut=Et.pts,We=ut-ze;if(We<=-Ae*J)O||be>0?(g.logger.warn("Dropping 1 audio frame @ "+ke(ze,!0)/1e3+"s due to "+ke(We,!0)+" ms overlap."),_e.splice(be,1)):(g.logger.warn("Audio frame @ "+ke(ut,!0)/1e3+"s overlaps nextAudioPts by "+ke(We,!0)+" ms."),ze=ut+J,be++);else if(We>=Ae*J&&We<Mt&&ze){var Dt=Math.round(We/J);g.logger.warn("Injecting "+Dt+" audio frames @ "+ke(ze,!0)/1e3+"s due to "+ke(We,!0)+" ms gap.");for(var ft=0;ft<Dt;ft++){var Nt=Math.max(ze,0);ue=we.getSilentFrame(x.manifestCodec||x.codec,x.channelCount),ue||(g.logger.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),ue=Et.unit.subarray()),_e.splice(be,0,{unit:ue,pts:Nt,dts:Nt}),ze+=J,be++}Et.pts=Et.dts=ze,ze+=J,be++}else Et.pts=Et.dts=ze,ze+=J,be++}for(var ot=_e.length,$e=0;ot--;)$e+=_e[ot].unit.byteLength;for(var xr=0,Er=_e.length;xr<Er;xr++){var Yt=_e[xr],St=Yt.unit,dr=Yt.pts;if(Se!==void 0&&te)te.duration=Math.round((dr-Se)/W);else{var Sr=dr-Ce,Ir=0;if(O&&x.isAAC&&Sr){if(Sr>0&&Sr<Mt)Ir=Math.round((dr-Ce)/J),g.logger.log(ke(Sr,!0)+" ms hole between AAC samples detected,filling it"),Ir>0&&(ue=we.getSilentFrame(x.manifestCodec||x.codec,x.channelCount),ue||(ue=St.subarray()),$e+=Ir*ue.length);else if(Sr<-12){g.logger.log("drop overlapping AAC sample, expected/parsed/delta: "+ke(Ce,!0)+" ms / "+ke(dr,!0)+" ms / "+ke(-Sr,!0)+" ms"),$e-=St.byteLength;continue}dr=Ce}if(de=dr,$e>0){$e+=Ie;try{re=new Uint8Array($e)}catch{this.observer.trigger(f.default.ERROR,{type:p.ErrorTypes.MUX_ERROR,details:p.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:$e,reason:"fail allocating audio mdat "+$e});return}if(!ne){var Rn=new DataView(re.buffer);Rn.setUint32(0,$e),re.set(Pe.types.mdat,4)}}else return;for(var Fr=0;Fr<Ir;Fr++)ue=we.getSilentFrame(x.manifestCodec||x.codec,x.channelCount),ue||(g.logger.log("Unable to get silent frame for given audio codec; duplicating this frame instead."),ue=St.subarray()),re.set(ue,Ie),Ie+=ue.byteLength,te={size:ue.byteLength,cts:0,duration:1024,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},Ve.push(te)}re.set(St,Ie);var An=St.byteLength;Ie+=An,te={size:An,cts:0,duration:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},Ve.push(te),Se=dr}var X=0;if(ot=Ve.length,ot>=2&&(X=Ve[ot-2].duration,te.duration=X),ot){this.nextAudioPts=Ce=Se+W*X,x.samples=Ve,ne?ve=new Uint8Array:ve=Pe.moof(x.sequenceNumber++,de/W,x),x.samples=[];var Ut=de/B,Ln=Ce/B,Pn={data1:ve,data2:re,startPTS:Ut,endPTS:Ln,startDTS:Ut,endDTS:Ln,type:"audio",hasAudio:!0,hasVideo:!1,nb:ot};return this.observer.trigger(f.default.FRAG_PARSING_DATA,Pn),Pn}return null}},z.remuxEmptyAudio=function(x,R,O,M){var B=x.inputTimeScale,G=x.samplerate?x.samplerate:B,W=B/G,Z=this.nextAudioPts,J=(Z!==void 0?Z:M.startDTS*B)+this._initDTS,Q=M.endDTS*B+this._initDTS,ne=1024,te=W*ne,ue=Math.ceil((Q-J)/te),re=we.getSilentFrame(x.manifestCodec||x.codec,x.channelCount);if(g.logger.warn("remux empty Audio"),!re){g.logger.trace("Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec!");return}for(var ve=[],de=0;de<ue;de++){var Se=J+de*te;ve.push({unit:re,pts:Se,dts:Se})}x.samples=ve,this.remuxAudio(x,R,O)},z.remuxID3=function(x,R){var O=x.samples.length;if(O){for(var M=x.inputTimeScale,B=this._initPTS,G=this._initDTS,W=0;W<O;W++){var Z=x.samples[W];Z.pts=kt(Z.pts-B,R*M)/M,Z.dts=kt(Z.dts-G,R*M)/M}this.observer.trigger(f.default.FRAG_PARSING_METADATA,{samples:x.samples}),x.samples=[]}},z.remuxText=function(x,R){var O=x.samples.length,M=x.inputTimeScale,B=this._initPTS;if(O){for(var G=0;G<O;G++){var W=x.samples[G];W.pts=kt(W.pts-B,R*M)/M}x.samples.sort(function(Z,J){return Z.pts-J.pts}),this.observer.trigger(f.default.FRAG_PARSING_USERDATA,{samples:x.samples})}x.samples=[]},I}();function kt(I,z){var C;if(z===void 0)return I;for(z<I?C=-8589934592:C=8589934592;Math.abs(I-z)>4294967296;)I+=C;return I}var Gr=Tn,xt=function(){function I(C){this.observer=C}var z=I.prototype;return z.destroy=function(){},z.resetTimeStamp=function(){},z.resetInitSegment=function(){},z.remux=function(x,R,O,M,B,G,W,Z){var J=this.observer,Q="";x&&(Q+="audio"),R&&(Q+="video"),J.trigger(f.default.FRAG_PARSING_DATA,{data1:Z,startPTS:B,startDTS:B,type:Q,hasAudio:!!x,hasVideo:!!R,nb:1,dropped:0}),J.trigger(f.default.FRAG_PARSED)},I}(),wn=xt,$t=Object(E.getSelfScope)(),pt;try{pt=$t.performance.now.bind($t.performance)}catch{g.logger.debug("Unable to use Performance API on this environment"),pt=$t.Date.now}var gs=function(){function I(C,x,R,O){this.observer=C,this.typeSupported=x,this.config=R,this.vendor=O}var z=I.prototype;return z.destroy=function(){var x=this.demuxer;x&&x.destroy()},z.push=function(x,R,O,M,B,G,W,Z,J,Q,ne,te){var ue=this;if(x.byteLength>0&&R!=null&&R.key!=null&&R.method==="AES-128"){var re=this.decrypter;re==null&&(re=this.decrypter=new m.default(this.observer,this.config));var ve=pt();re.decrypt(x,R.key.buffer,R.iv.buffer,function(de){var Se=pt();ue.observer.trigger(f.default.FRAG_DECRYPTED,{stats:{tstart:ve,tdecrypt:Se}}),ue.pushDecrypted(new Uint8Array(de),R,new Uint8Array(O),M,B,G,W,Z,J,Q,ne,te)})}else this.pushDecrypted(new Uint8Array(x),R,new Uint8Array(O),M,B,G,W,Z,J,Q,ne,te)},z.pushDecrypted=function(x,R,O,M,B,G,W,Z,J,Q,ne,te){var ue=this.demuxer,re=this.remuxer;if(!ue||W||Z){for(var ve=this.observer,de=this.typeSupported,Se=this.config,Ie=[{demux:Ke,remux:Gr},{demux:q.default,remux:wn},{demux:Y,remux:Gr},{demux:pe,remux:Gr}],_e,Ve=0,Ce=Ie.length;Ve<Ce&&(_e=Ie[Ve],!_e.demux.probe(x));Ve++);if(!_e){ve.trigger(f.default.ERROR,{type:p.ErrorTypes.MEDIA_ERROR,details:p.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"});return}(!re||!(re instanceof _e.remux))&&(re=new _e.remux(ve,Se,de,this.vendor)),(!ue||!(ue instanceof _e.demux))&&(ue=new _e.demux(ve,re,Se,de),this.probe=_e.demux.probe),this.demuxer=ue,this.remuxer=re}(W||Z)&&(ue.resetInitSegment(O,M,B,Q),re.resetInitSegment()),W&&(ue.resetTimeStamp(te),re.resetTimeStamp(te)),typeof ue.setDecryptData=="function"&&ue.setDecryptData(R),ue.append(x,G,J,ne)},I}();i.default=gs},"./src/demux/demuxer-worker.js":function(r,i,s){s.r(i);var f=s("./src/demux/demuxer-inline.js"),p=s("./src/events.js"),m=s("./src/utils/logger.js"),T=s("./node_modules/eventemitter3/index.js"),g=function(N){var _=new T.EventEmitter;_.trigger=function(D){for(var K=arguments.length,P=new Array(K>1?K-1:0),w=1;w<K;w++)P[w-1]=arguments[w];_.emit.apply(_,[D,D].concat(P))},_.off=function(D){for(var K=arguments.length,P=new Array(K>1?K-1:0),w=1;w<K;w++)P[w-1]=arguments[w];_.removeListener.apply(_,[D].concat(P))};var k=function(D,K){N.postMessage({event:D,data:K})};N.addEventListener("message",function(b){var D=b.data;switch(D.cmd){case"init":var K=JSON.parse(D.config);N.demuxer=new f.default(_,D.typeSupported,K,D.vendor),Object(m.enableLogs)(K.debug),k("init",null);break;case"demux":N.demuxer.push(D.data,D.decryptdata,D.initSegment,D.audioCodec,D.videoCodec,D.timeOffset,D.discontinuity,D.trackSwitch,D.contiguous,D.duration,D.accurateTimeOffset,D.defaultInitPTS);break}}),_.on(p.default.FRAG_DECRYPTED,k),_.on(p.default.FRAG_PARSING_INIT_SEGMENT,k),_.on(p.default.FRAG_PARSED,k),_.on(p.default.ERROR,k),_.on(p.default.FRAG_PARSING_METADATA,k),_.on(p.default.FRAG_PARSING_USERDATA,k),_.on(p.default.INIT_PTS_FOUND,k),_.on(p.default.FRAG_PARSING_DATA,function(b,D){var K=[],P={event:b,data:D};D.data1&&(P.data1=D.data1.buffer,K.push(D.data1.buffer),delete D.data1),D.data2&&(P.data2=D.data2.buffer,K.push(D.data2.buffer),delete D.data2),N.postMessage(P,K)})};i.default=g},"./src/demux/id3.js":function(r,i,s){s.r(i),s.d(i,"utf8ArrayToStr",function(){return g});var f=s("./src/utils/get-self-scope.js"),p=function(){function E(){}return E.isHeader=function(_,k){return k+10<=_.length&&_[k]===73&&_[k+1]===68&&_[k+2]===51&&_[k+3]<255&&_[k+4]<255&&_[k+6]<128&&_[k+7]<128&&_[k+8]<128&&_[k+9]<128},E.isFooter=function(_,k){return k+10<=_.length&&_[k]===51&&_[k+1]===68&&_[k+2]===73&&_[k+3]<255&&_[k+4]<255&&_[k+6]<128&&_[k+7]<128&&_[k+8]<128&&_[k+9]<128},E.getID3Data=function(_,k){for(var b=k,D=0;E.isHeader(_,k);){D+=10;var K=E._readSize(_,k+6);D+=K,E.isFooter(_,k+10)&&(D+=10),k+=D}if(D>0)return _.subarray(b,b+D)},E._readSize=function(_,k){var b=0;return b=(_[k]&127)<<21,b|=(_[k+1]&127)<<14,b|=(_[k+2]&127)<<7,b|=_[k+3]&127,b},E.getTimeStamp=function(_){for(var k=E.getID3Frames(_),b=0;b<k.length;b++){var D=k[b];if(E.isTimeStampFrame(D))return E._readTimeStamp(D)}},E.isTimeStampFrame=function(_){return _&&_.key==="PRIV"&&_.info==="com.apple.streaming.transportStreamTimestamp"},E._getFrameData=function(_){var k=String.fromCharCode(_[0],_[1],_[2],_[3]),b=E._readSize(_,4),D=10;return{type:k,size:b,data:_.subarray(D,D+b)}},E.getID3Frames=function(_){for(var k=0,b=[];E.isHeader(_,k);){var D=E._readSize(_,k+6);k+=10;for(var K=k+D;k+8<K;){var P=E._getFrameData(_.subarray(k)),w=E._decodeFrame(P);w&&b.push(w),k+=P.size+10}E.isFooter(_,k)&&(k+=10)}return b},E._decodeFrame=function(_){return _.type==="PRIV"?E._decodePrivFrame(_):_.type[0]==="W"?E._decodeURLFrame(_):E._decodeTextFrame(_)},E._readTimeStamp=function(_){if(_.data.byteLength===8){var k=new Uint8Array(_.data),b=k[3]&1,D=(k[4]<<23)+(k[5]<<15)+(k[6]<<7)+k[7];return D/=45,b&&(D+=4772185884e-2),Math.round(D)}},E._decodePrivFrame=function(_){if(!(_.size<2)){var k=E._utf8ArrayToStr(_.data,!0),b=new Uint8Array(_.data.subarray(k.length+1));return{key:_.type,info:k,data:b.buffer}}},E._decodeTextFrame=function(_){if(!(_.size<2))if(_.type==="TXXX"){var k=1,b=E._utf8ArrayToStr(_.data.subarray(k),!0);k+=b.length+1;var D=E._utf8ArrayToStr(_.data.subarray(k));return{key:_.type,info:b,data:D}}else{var K=E._utf8ArrayToStr(_.data.subarray(1));return{key:_.type,data:K}}},E._decodeURLFrame=function(_){if(_.type==="WXXX"){if(_.size<2)return;var k=1,b=E._utf8ArrayToStr(_.data.subarray(k),!0);k+=b.length+1;var D=E._utf8ArrayToStr(_.data.subarray(k));return{key:_.type,info:b,data:D}}else{var K=E._utf8ArrayToStr(_.data);return{key:_.type,data:K}}},E._utf8ArrayToStr=function(_,k){k===void 0&&(k=!1);var b=T();if(b){var D=b.decode(_);if(k){var K=D.indexOf("\0");return K!==-1?D.substring(0,K):D}return D.replace(/\0/g,"")}for(var P=_.length,w,F,U,H="",$=0;$<P;){if(w=_[$++],w===0&&k)return H;if(w===0||w===3)continue;switch(w>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:H+=String.fromCharCode(w);break;case 12:case 13:F=_[$++],H+=String.fromCharCode((w&31)<<6|F&63);break;case 14:F=_[$++],U=_[$++],H+=String.fromCharCode((w&15)<<12|(F&63)<<6|(U&63)<<0);break}}return H},E}(),m;function T(){var E=Object(f.getSelfScope)();return!m&&typeof E.TextDecoder<"u"&&(m=new E.TextDecoder("utf-8")),m}var g=p._utf8ArrayToStr;i.default=p},"./src/demux/mp4demuxer.js":function(r,i,s){s.r(i);var f=s("./src/utils/logger.js"),p=s("./src/events.js"),m=Math.pow(2,32)-1,T=function(){function g(N,_){this.observer=N,this.remuxer=_}var E=g.prototype;return E.resetTimeStamp=function(_){this.initPTS=_},E.resetInitSegment=function(_,k,b,D){if(_&&_.byteLength){var K=this.initData=g.parseInitSegment(_);k==null&&(k="mp4a.40.5"),b==null&&(b="avc1.42e01e");var P={};K.audio&&K.video?P.audiovideo={container:"video/mp4",codec:k+","+b,initSegment:D?_:null}:(K.audio&&(P.audio={container:"audio/mp4",codec:k,initSegment:D?_:null}),K.video&&(P.video={container:"video/mp4",codec:b,initSegment:D?_:null})),this.observer.trigger(p.default.FRAG_PARSING_INIT_SEGMENT,{tracks:P})}else k&&(this.audioCodec=k),b&&(this.videoCodec=b)},g.probe=function(_){return g.findBox({data:_,start:0,end:Math.min(_.length,16384)},["moof"]).length>0},g.bin2str=function(_){return String.fromCharCode.apply(null,_)},g.readUint16=function(_,k){_.data&&(k+=_.start,_=_.data);var b=_[k]<<8|_[k+1];return b<0?65536+b:b},g.readUint32=function(_,k){_.data&&(k+=_.start,_=_.data);var b=_[k]<<24|_[k+1]<<16|_[k+2]<<8|_[k+3];return b<0?4294967296+b:b},g.writeUint32=function(_,k,b){_.data&&(k+=_.start,_=_.data),_[k]=b>>24,_[k+1]=b>>16&255,_[k+2]=b>>8&255,_[k+3]=b&255},g.findBox=function(_,k){var b=[],D,K,P,w,F,U,H;if(_.data?(U=_.start,w=_.end,_=_.data):(U=0,w=_.byteLength),!k.length)return null;for(D=U;D<w;)K=g.readUint32(_,D),P=g.bin2str(_.subarray(D+4,D+8)),H=K>1?D+K:w,P===k[0]&&(k.length===1?b.push({data:_,start:D+8,end:H}):(F=g.findBox({data:_,start:D+8,end:H},k.slice(1)),F.length&&(b=b.concat(F)))),D=H;return b},g.parseSegmentIndex=function(_){var k=g.findBox(_,["moov"])[0],b=k?k.end:null,D=0,K=g.findBox(_,["sidx"]),P;if(!K||!K[0])return null;P=[],K=K[0];var w=K.data[0];D=w===0?8:16;var F=g.readUint32(K,D);D+=4;var U=0,H=0;w===0?D+=8:D+=16,D+=2;var $=K.end+H,Y=g.readUint16(K,D);D+=2;for(var q=0;q<Y;q++){var oe=D,se=g.readUint32(K,oe);oe+=4;var Te=se&2147483647,Ue=(se&2147483648)>>>31;if(Ue===1){console.warn("SIDX has hierarchical references (not supported)");return}var Ge=g.readUint32(K,oe);oe+=4,P.push({referenceSize:Te,subsegmentDuration:Ge,info:{duration:Ge/F,start:$,end:$+Te-1}}),$+=Te,oe+=4,D=oe}return{earliestPresentationTime:U,timescale:F,version:w,referencesCount:Y,references:P,moovEndOffset:b}},g.parseInitSegment=function(_){var k=[],b=g.findBox(_,["moov","trak"]);return b.forEach(function(D){var K=g.findBox(D,["tkhd"])[0];if(K){var P=K.data[K.start],w=P===0?12:20,F=g.readUint32(K,w),U=g.findBox(D,["mdia","mdhd"])[0];if(U){P=U.data[U.start],w=P===0?12:20;var H=g.readUint32(U,w),$=g.findBox(D,["mdia","hdlr"])[0];if($){var Y=g.bin2str($.data.subarray($.start+8,$.start+12)),q={soun:"audio",vide:"video"}[Y];if(q){var oe=g.findBox(D,["mdia","minf","stbl","stsd"]);if(oe.length){oe=oe[0];var se=g.bin2str(oe.data.subarray(oe.start+12,oe.start+16));f.logger.log("MP4Demuxer:"+q+":"+se+" found")}k[F]={timescale:H,type:q},k[q]={timescale:H,id:F}}}}}}),k},g.getStartDTS=function(_,k){var b,D,K;return b=g.findBox(k,["moof","traf"]),D=[].concat.apply([],b.map(function(P){return g.findBox(P,["tfhd"]).map(function(w){var F,U,H;return F=g.readUint32(w,4),U=_[F].timescale||9e4,H=g.findBox(P,["tfdt"]).map(function($){var Y,q;return Y=$.data[$.start],q=g.readUint32($,4),Y===1&&(q*=Math.pow(2,32),q+=g.readUint32($,8)),q})[0],H/U})})),K=Math.min.apply(null,D),isFinite(K)?K:0},g.offsetStartDTS=function(_,k,b){g.findBox(k,["moof","traf"]).map(function(D){return g.findBox(D,["tfhd"]).map(function(K){var P=g.readUint32(K,4),w=_[P].timescale||9e4;g.findBox(D,["tfdt"]).map(function(F){var U=F.data[F.start],H=g.readUint32(F,4);if(U===0)g.writeUint32(F,4,H-b*w);else{H*=Math.pow(2,32),H+=g.readUint32(F,8),H-=b*w,H=Math.max(H,0);var $=Math.floor(H/(m+1)),Y=Math.floor(H%(m+1));g.writeUint32(F,4,$),g.writeUint32(F,8,Y)}})})})},E.append=function(_,k,b,D){var K=this.initData;K||(this.resetInitSegment(_,this.audioCodec,this.videoCodec,!1),K=this.initData);var P,w=this.initPTS;if(w===void 0){var F=g.getStartDTS(K,_);this.initPTS=w=F-k,this.observer.trigger(p.default.INIT_PTS_FOUND,{initPTS:w})}g.offsetStartDTS(K,_,w),P=g.getStartDTS(K,_),this.remuxer.remux(K.audio,K.video,null,null,P,b,D,_)},E.destroy=function(){},g}();i.default=T},"./src/errors.ts":function(r,i,s){s.r(i),s.d(i,"ErrorTypes",function(){return f}),s.d(i,"ErrorDetails",function(){return p});var f;(function(m){m.NETWORK_ERROR="networkError",m.MEDIA_ERROR="mediaError",m.KEY_SYSTEM_ERROR="keySystemError",m.MUX_ERROR="muxError",m.OTHER_ERROR="otherError"})(f||(f={}));var p;(function(m){m.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",m.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",m.KEY_SYSTEM_NO_SESSION="keySystemNoSession",m.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",m.KEY_SYSTEM_NO_INIT_DATA="keySystemNoInitData",m.MANIFEST_LOAD_ERROR="manifestLoadError",m.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",m.MANIFEST_PARSING_ERROR="manifestParsingError",m.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",m.LEVEL_EMPTY_ERROR="levelEmptyError",m.LEVEL_LOAD_ERROR="levelLoadError",m.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",m.LEVEL_SWITCH_ERROR="levelSwitchError",m.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",m.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",m.FRAG_LOAD_ERROR="fragLoadError",m.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",m.FRAG_DECRYPT_ERROR="fragDecryptError",m.FRAG_PARSING_ERROR="fragParsingError",m.REMUX_ALLOC_ERROR="remuxAllocError",m.KEY_LOAD_ERROR="keyLoadError",m.KEY_LOAD_TIMEOUT="keyLoadTimeOut",m.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",m.BUFFER_APPEND_ERROR="bufferAppendError",m.BUFFER_APPENDING_ERROR="bufferAppendingError",m.BUFFER_STALLED_ERROR="bufferStalledError",m.BUFFER_FULL_ERROR="bufferFullError",m.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",m.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",m.INTERNAL_EXCEPTION="internalException"})(p||(p={}))},"./src/events.js":function(r,i,s){s.r(i);var f={MEDIA_ATTACHING:"hlsMediaAttaching",MEDIA_ATTACHED:"hlsMediaAttached",MEDIA_DETACHING:"hlsMediaDetaching",MEDIA_DETACHED:"hlsMediaDetached",BUFFER_RESET:"hlsBufferReset",BUFFER_CODECS:"hlsBufferCodecs",BUFFER_CREATED:"hlsBufferCreated",BUFFER_APPENDING:"hlsBufferAppending",BUFFER_APPENDED:"hlsBufferAppended",BUFFER_EOS:"hlsBufferEos",BUFFER_FLUSHING:"hlsBufferFlushing",BUFFER_FLUSHED:"hlsBufferFlushed",MANIFEST_LOADING:"hlsManifestLoading",MANIFEST_LOADED:"hlsManifestLoaded",MANIFEST_PARSED:"hlsManifestParsed",LEVEL_SWITCHING:"hlsLevelSwitching",LEVEL_SWITCHED:"hlsLevelSwitched",LEVEL_LOADING:"hlsLevelLoading",LEVEL_LOADED:"hlsLevelLoaded",LEVEL_UPDATED:"hlsLevelUpdated",LEVEL_PTS_UPDATED:"hlsLevelPtsUpdated",LEVELS_UPDATED:"hlsLevelsUpdated",AUDIO_TRACKS_UPDATED:"hlsAudioTracksUpdated",AUDIO_TRACK_SWITCHING:"hlsAudioTrackSwitching",AUDIO_TRACK_SWITCHED:"hlsAudioTrackSwitched",AUDIO_TRACK_LOADING:"hlsAudioTrackLoading",AUDIO_TRACK_LOADED:"hlsAudioTrackLoaded",SUBTITLE_TRACKS_UPDATED:"hlsSubtitleTracksUpdated",SUBTITLE_TRACK_SWITCH:"hlsSubtitleTrackSwitch",SUBTITLE_TRACK_LOADING:"hlsSubtitleTrackLoading",SUBTITLE_TRACK_LOADED:"hlsSubtitleTrackLoaded",SUBTITLE_FRAG_PROCESSED:"hlsSubtitleFragProcessed",CUES_PARSED:"hlsCuesParsed",NON_NATIVE_TEXT_TRACKS_FOUND:"hlsNonNativeTextTracksFound",INIT_PTS_FOUND:"hlsInitPtsFound",FRAG_LOADING:"hlsFragLoading",FRAG_LOAD_PROGRESS:"hlsFragLoadProgress",FRAG_LOAD_EMERGENCY_ABORTED:"hlsFragLoadEmergencyAborted",FRAG_LOADED:"hlsFragLoaded",FRAG_DECRYPTED:"hlsFragDecrypted",FRAG_PARSING_INIT_SEGMENT:"hlsFragParsingInitSegment",FRAG_PARSING_USERDATA:"hlsFragParsingUserdata",FRAG_PARSING_METADATA:"hlsFragParsingMetadata",FRAG_PARSING_DATA:"hlsFragParsingData",FRAG_PARSED:"hlsFragParsed",FRAG_BUFFERED:"hlsFragBuffered",FRAG_CHANGED:"hlsFragChanged",FPS_DROP:"hlsFpsDrop",FPS_DROP_LEVEL_CAPPING:"hlsFpsDropLevelCapping",ERROR:"hlsError",DESTROYING:"hlsDestroying",KEY_LOADING:"hlsKeyLoading",KEY_LOADED:"hlsKeyLoaded",STREAM_STATE_TRANSITION:"hlsStreamStateTransition",LIVE_BACK_BUFFER_REACHED:"hlsLiveBackBufferReached"};i.default=f},"./src/hls.ts":function(r,i,s){s.r(i),s.d(i,"default",function(){return Lf});var f={};s.r(f),s.d(f,"newCue",function(){return b0});var p=s("./node_modules/url-toolkit/src/url-toolkit.js"),m=s("./src/errors.ts"),T=s("./src/polyfills/number.js"),g=s("./src/events.js"),E=s("./src/utils/logger.js"),N={hlsEventGeneric:!0,hlsHandlerDestroying:!0,hlsHandlerDestroyed:!0},_=function(){function h(l){this.hls=void 0,this.handledEvents=void 0,this.useGenericHandler=void 0,this.hls=l,this.onEvent=this.onEvent.bind(this);for(var o=arguments.length,n=new Array(o>1?o-1:0),a=1;a<o;a++)n[a-1]=arguments[a];this.handledEvents=n,this.useGenericHandler=!0,this.registerListeners()}var c=h.prototype;return c.destroy=function(){this.onHandlerDestroying(),this.unregisterListeners(),this.onHandlerDestroyed()},c.onHandlerDestroying=function(){},c.onHandlerDestroyed=function(){},c.isEventHandler=function(){return typeof this.handledEvents=="object"&&this.handledEvents.length&&typeof this.onEvent=="function"},c.registerListeners=function(){this.isEventHandler()&&this.handledEvents.forEach(function(o){if(N[o])throw new Error("Forbidden event-name: "+o);this.hls.on(o,this.onEvent)},this)},c.unregisterListeners=function(){this.isEventHandler()&&this.handledEvents.forEach(function(o){this.hls.off(o,this.onEvent)},this)},c.onEvent=function(o,n){this.onEventGeneric(o,n)},c.onEventGeneric=function(o,n){var a=function(d,v){var y="on"+d.replace("hls","");if(typeof this[y]!="function")throw new Error("Event "+d+" has no generic handler in this "+this.constructor.name+" class (tried "+y+")");return this[y].bind(this,v)};try{a.call(this,o,n).call()}catch(u){E.logger.error("An internal error happened while handling event "+o+'. Error message: "'+u.message+'". Here is a stacktrace:',u),this.hls.trigger(g.default.ERROR,{type:m.ErrorTypes.OTHER_ERROR,details:m.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:o,err:u})}},h}(),k=_,b;(function(h){h.MANIFEST="manifest",h.LEVEL="level",h.AUDIO_TRACK="audioTrack",h.SUBTITLE_TRACK="subtitleTrack"})(b||(b={}));var D;(function(h){h.MAIN="main",h.AUDIO="audio",h.SUBTITLE="subtitle"})(D||(D={}));var K=s("./src/demux/mp4demuxer.js");function P(h,c){for(var l=0;l<c.length;l++){var o=c[l];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(h,o.key,o)}}function w(h,c,l){return c&&P(h.prototype,c),h}var F=function(){function h(c,l){this._uri=null,this.baseuri=void 0,this.reluri=void 0,this.method=null,this.key=null,this.iv=null,this.baseuri=c,this.reluri=l}return w(h,[{key:"uri",get:function(){return!this._uri&&this.reluri&&(this._uri=Object(p.buildAbsoluteURL)(this.baseuri,this.reluri,{alwaysNormalize:!0})),this._uri}}]),h}();function U(h,c){for(var l=0;l<c.length;l++){var o=c[l];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(h,o.key,o)}}function H(h,c,l){return c&&U(h.prototype,c),h}var $;(function(h){h.AUDIO="audio",h.VIDEO="video"})($||($={}));var Y=function(){function h(){var l;this._url=null,this._byteRange=null,this._decryptdata=null,this._elementaryStreams=(l={},l[$.AUDIO]=!1,l[$.VIDEO]=!1,l),this.deltaPTS=0,this.rawProgramDateTime=null,this.programDateTime=null,this.title=null,this.tagList=[],this.cc=void 0,this.type=void 0,this.relurl=void 0,this.baseurl=void 0,this.duration=void 0,this.start=void 0,this.sn=0,this.urlId=0,this.level=0,this.levelkey=void 0,this.loader=void 0}var c=h.prototype;return c.setByteRange=function(o,n){var a=o.split("@",2),u=[];a.length===1?u[0]=n?n.byteRangeEndOffset:0:u[0]=parseInt(a[1]),u[1]=parseInt(a[0])+u[0],this._byteRange=u},c.addElementaryStream=function(o){this._elementaryStreams[o]=!0},c.hasElementaryStream=function(o){return this._elementaryStreams[o]===!0},c.createInitializationVector=function(o){for(var n=new Uint8Array(16),a=12;a<16;a++)n[a]=o>>8*(15-a)&255;return n},c.setDecryptDataFromLevelKey=function(o,n){var a=o;return o!=null&&o.method&&o.uri&&!o.iv&&(a=new F(o.baseuri,o.reluri),a.method=o.method,a.iv=this.createInitializationVector(n)),a},H(h,[{key:"url",get:function(){return!this._url&&this.relurl&&(this._url=Object(p.buildAbsoluteURL)(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url},set:function(o){this._url=o}},{key:"byteRange",get:function(){return this._byteRange?this._byteRange:[]}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"decryptdata",get:function(){if(!this.levelkey&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkey){var o=this.sn;typeof o!="number"&&(this.levelkey&&this.levelkey.method==="AES-128"&&!this.levelkey.iv&&E.logger.warn('missing IV for initialization segment with method="'+this.levelkey.method+'" - compliance issue'),o=0),this._decryptdata=this.setDecryptDataFromLevelKey(this.levelkey,o)}return this._decryptdata}},{key:"endProgramDateTime",get:function(){if(this.programDateTime===null||!Object(T.isFiniteNumber)(this.programDateTime))return null;var o=Object(T.isFiniteNumber)(this.duration)?this.duration:0;return this.programDateTime+o*1e3}},{key:"encrypted",get:function(){return!!(this.decryptdata&&this.decryptdata.uri!==null&&this.decryptdata.key===null)}}]),h}();function q(h,c){for(var l=0;l<c.length;l++){var o=c[l];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(h,o.key,o)}}function oe(h,c,l){return c&&q(h.prototype,c),h}var se=function(){function h(c){this.endCC=0,this.endSN=0,this.fragments=[],this.initSegment=null,this.live=!0,this.needSidxRanges=!1,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=c,this.version=null}return oe(h,[{key:"hasProgramDateTime",get:function(){return!!(this.fragments[0]&&Object(T.isFiniteNumber)(this.fragments[0].programDateTime))}}]),h}(),Te=/^(\d+)x(\d+)$/,Ue=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,Ge=function(){function h(l){typeof l=="string"&&(l=h.parseAttrList(l));for(var o in l)l.hasOwnProperty(o)&&(this[o]=l[o])}var c=h.prototype;return c.decimalInteger=function(o){var n=parseInt(this[o],10);return n>Number.MAX_SAFE_INTEGER?1/0:n},c.hexadecimalInteger=function(o){if(this[o]){var n=(this[o]||"0x").slice(2);n=(n.length&1?"0":"")+n;for(var a=new Uint8Array(n.length/2),u=0;u<n.length/2;u++)a[u]=parseInt(n.slice(u*2,u*2+2),16);return a}else return null},c.hexadecimalIntegerAsNumber=function(o){var n=parseInt(this[o],16);return n>Number.MAX_SAFE_INTEGER?1/0:n},c.decimalFloatingPoint=function(o){return parseFloat(this[o])},c.enumeratedString=function(o){return this[o]},c.decimalResolution=function(o){var n=Te.exec(this[o]);if(n!==null)return{width:parseInt(n[1],10),height:parseInt(n[2],10)}},h.parseAttrList=function(o){var n,a={};for(Ue.lastIndex=0;(n=Ue.exec(o))!==null;){var u=n[2],d='"';u.indexOf(d)===0&&u.lastIndexOf(d)===u.length-1&&(u=u.slice(1,-1)),a[n[1]]=u}return a},h}(),Ne=Ge,Vt={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,drac:!0,dvav:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0}};function Be(h,c){var l=Vt[c];return!!l&&l[h.slice(0,4)]===!0}function Ke(h,c){return MediaSource.isTypeSupported((c||"video")+'/mp4;codecs="'+h+'"')}var le=/(?:#EXT-X-STREAM-INF:([^\n\r]*)[\r\n]+([^\r\n]+)|#EXT-X-SESSION-DATA:([^\n\r]*)[\r\n]+)/g,pe=/#EXT-X-MEDIA:(.*)/g,me=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/|(?!#)([\S+ ?]+)/.source,/|#EXT-X-BYTERANGE:*(.+)/.source,/|#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/|#.*/.source].join(""),"g"),we=/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(VERSION):(\d+))|(?:#EXT-X-(MAP):(.+))|(?:(#)([^:]*):(.*))|(?:(#)(.*))(?:.*)\r?\n?/,ge=/\.(mp4|m4s|m4v|m4a)$/i,at=function(){function h(){}return h.findGroup=function(l,o){for(var n=0;n<l.length;n++){var a=l[n];if(a.id===o)return a}},h.convertAVC1ToAVCOTI=function(l){var o=l.split("."),n;return o.length>2?(n=o.shift()+".",n+=parseInt(o.shift()).toString(16),n+=("000"+parseInt(o.shift()).toString(16)).substr(-4)):n=l,n},h.resolve=function(l,o){return p.buildAbsoluteURL(o,l,{alwaysNormalize:!0})},h.parseMasterPlaylist=function(l,o){var n=[],a={},u=!1;le.lastIndex=0;function d(j,V){["video","audio"].forEach(function(ee){var ae=j.filter(function(fe){return Be(fe,ee)});if(ae.length){var he=ae.filter(function(fe){return fe.lastIndexOf("avc1",0)===0||fe.lastIndexOf("mp4a",0)===0});V[ee+"Codec"]=he.length>0?he[0]:ae[0],j=j.filter(function(fe){return ae.indexOf(fe)===-1})}}),V.unknownCodecs=j}for(var v;(v=le.exec(l))!=null;)if(v[1]){var y={},S=y.attrs=new Ne(v[1]);y.url=h.resolve(v[2],o);var A=S.decimalResolution("RESOLUTION");A&&(y.width=A.width,y.height=A.height),y.bitrate=S.decimalInteger("AVERAGE-BANDWIDTH")||S.decimalInteger("BANDWIDTH"),y.name=S.NAME,d([].concat((S.CODECS||"").split(/[ ,]+/)),y),y.videoCodec&&y.videoCodec.indexOf("avc1")!==-1&&(y.videoCodec=h.convertAVC1ToAVCOTI(y.videoCodec)),n.push(y)}else if(v[3]){var L=new Ne(v[3]);L["DATA-ID"]&&(u=!0,a[L["DATA-ID"]]=L)}return{levels:n,sessionData:u?a:null}},h.parseMasterPlaylistMedia=function(l,o,n,a){a===void 0&&(a=[]);var u,d=[],v=0;for(pe.lastIndex=0;(u=pe.exec(l))!==null;){var y=new Ne(u[1]);if(y.TYPE===n){var S={attrs:y,id:v++,groupId:y["GROUP-ID"],instreamId:y["INSTREAM-ID"],name:y.NAME||y.LANGUAGE,type:n,default:y.DEFAULT==="YES",autoselect:y.AUTOSELECT==="YES",forced:y.FORCED==="YES",lang:y.LANGUAGE};if(y.URI&&(S.url=h.resolve(y.URI,o)),a.length){var A=h.findGroup(a,S.groupId);S.audioCodec=A?A.codec:a[0].codec}d.push(S)}}return d},h.parseLevelPlaylist=function(l,o,n,a,u){var d=0,v=0,y=new se(o),S=0,A=null,L=new Y,j,V,ee,ae=null;for(me.lastIndex=0;(j=me.exec(l))!==null;){var he=j[1];if(he){L.duration=parseFloat(he);var fe=(" "+j[2]).slice(1);L.title=fe||null,L.tagList.push(fe?["INF",he,fe]:["INF",he])}else if(j[3]){if(Object(T.isFiniteNumber)(L.duration)){var xe=d++;L.type=a,L.start=v,ee&&(L.levelkey=ee),L.sn=xe,L.level=n,L.cc=S,L.urlId=u,L.baseurl=o,L.relurl=(" "+j[3]).slice(1),rr(L,A),y.fragments.push(L),A=L,v+=L.duration,L=new Y}}else if(j[4]){var Ee=(" "+j[4]).slice(1);A?L.setByteRange(Ee,A):L.setByteRange(Ee)}else if(j[5])L.rawProgramDateTime=(" "+j[5]).slice(1),L.tagList.push(["PROGRAM-DATE-TIME",L.rawProgramDateTime]),ae===null&&(ae=y.fragments.length);else{if(j=j[0].match(we),!j){E.logger.warn("No matches on slow regex match for level playlist!");continue}for(V=1;V<j.length&&!(typeof j[V]<"u");V++);var Oe=(" "+j[V+1]).slice(1),et=(" "+j[V+2]).slice(1);switch(j[V]){case"#":L.tagList.push(et?[Oe,et]:[Oe]);break;case"PLAYLIST-TYPE":y.type=Oe.toUpperCase();break;case"MEDIA-SEQUENCE":d=y.startSN=parseInt(Oe);break;case"TARGETDURATION":y.targetduration=parseFloat(Oe);break;case"VERSION":y.version=parseInt(Oe);break;case"EXTM3U":break;case"ENDLIST":y.live=!1;break;case"DIS":S++,L.tagList.push(["DIS"]);break;case"DISCONTINUITY-SEQ":S=parseInt(Oe);break;case"KEY":{var nr=Oe,_t=new Ne(nr),Kr=_t.enumeratedString("METHOD"),ye=_t.URI,Re=_t.hexadecimalInteger("IV"),st=_t.KEYFORMAT||"identity";if(st==="com.apple.streamingkeydelivery"){E.logger.warn("Keyformat com.apple.streamingkeydelivery is not supported");continue}Kr&&(ee=new F(o,ye),ye&&["AES-128","SAMPLE-AES","SAMPLE-AES-CENC"].indexOf(Kr)>=0&&(ee.method=Kr,ee.key=null,ee.iv=Re));break}case"START":{var Qn=new Ne(Oe),qn=Qn.decimalFloatingPoint("TIME-OFFSET");Object(T.isFiniteNumber)(qn)&&(y.startTimeOffset=qn);break}case"MAP":{var Mi=new Ne(Oe);L.relurl=Mi.URI,Mi.BYTERANGE&&L.setByteRange(Mi.BYTERANGE),L.baseurl=o,L.level=n,L.type=a,L.sn="initSegment",y.initSegment=L,L=new Y,L.rawProgramDateTime=y.initSegment.rawProgramDateTime;break}default:E.logger.warn("line parsed but not handled: "+j);break}}}return L=A,L&&!L.relurl&&(y.fragments.pop(),v-=L.duration),y.totalduration=v,y.averagetargetduration=v/y.fragments.length,y.endSN=d-1,y.startCC=y.fragments[0]?y.fragments[0].cc:0,y.endCC=S,!y.initSegment&&y.fragments.length&&y.fragments.every(function(za){return ge.test(za.relurl)})&&(E.logger.warn("MP4 fragments found but no init segment (probably no MAP, incomplete M3U8), trying to fetch SIDX"),L=new Y,L.relurl=y.fragments[0].relurl,L.baseurl=o,L.level=n,L.type=a,L.sn="initSegment",y.initSegment=L,y.needSidxRanges=!0),ae&&Pe(y.fragments,ae),y},h}();function Pe(h,c){for(var l=h[c],o=c-1;o>=0;o--){var n=h[o];n.programDateTime=l.programDateTime-n.duration*1e3,l=n}}function rr(h,c){h.rawProgramDateTime?h.programDateTime=Date.parse(h.rawProgramDateTime):c!=null&&c.programDateTime&&(h.programDateTime=c.endProgramDateTime),Object(T.isFiniteNumber)(h.programDateTime)||(h.programDateTime=null,h.rawProgramDateTime=null)}function yt(h,c){h.prototype=Object.create(c.prototype),h.prototype.constructor=h,h.__proto__=c}var ke=window,Pt=ke.performance,Mt=function(h){yt(c,h);function c(o){var n;return n=h.call(this,o,g.default.MANIFEST_LOADING,g.default.LEVEL_LOADING,g.default.AUDIO_TRACK_LOADING,g.default.SUBTITLE_TRACK_LOADING)||this,n.loaders={},n}c.canHaveQualityLevels=function(n){return n!==b.AUDIO_TRACK&&n!==b.SUBTITLE_TRACK},c.mapContextToLevelType=function(n){var a=n.type;switch(a){case b.AUDIO_TRACK:return D.AUDIO;case b.SUBTITLE_TRACK:return D.SUBTITLE;default:return D.MAIN}},c.getResponseUrl=function(n,a){var u=n.url;return(u===void 0||u.indexOf("data:")===0)&&(u=a.url),u};var l=c.prototype;return l.createInternalLoader=function(n){var a=this.hls.config,u=a.pLoader,d=a.loader,v=u||d,y=new v(a);return n.loader=y,this.loaders[n.type]=y,y},l.getInternalLoader=function(n){return this.loaders[n.type]},l.resetInternalLoader=function(n){this.loaders[n]&&delete this.loaders[n]},l.destroyInternalLoaders=function(){for(var n in this.loaders){var a=this.loaders[n];a&&a.destroy(),this.resetInternalLoader(n)}},l.destroy=function(){this.destroyInternalLoaders(),h.prototype.destroy.call(this)},l.onManifestLoading=function(n){this.load({url:n.url,type:b.MANIFEST,level:0,id:null,responseType:"text"})},l.onLevelLoading=function(n){this.load({url:n.url,type:b.LEVEL,level:n.level,id:n.id,responseType:"text"})},l.onAudioTrackLoading=function(n){this.load({url:n.url,type:b.AUDIO_TRACK,level:null,id:n.id,responseType:"text"})},l.onSubtitleTrackLoading=function(n){this.load({url:n.url,type:b.SUBTITLE_TRACK,level:null,id:n.id,responseType:"text"})},l.load=function(n){var a=this.hls.config;E.logger.debug("Loading playlist of type "+n.type+", level: "+n.level+", id: "+n.id);var u=this.getInternalLoader(n);if(u){var d=u.context;if(d&&d.url===n.url)return E.logger.trace("playlist request ongoing"),!1;E.logger.warn("aborting previous loader for type: "+n.type),u.abort()}var v,y,S,A;switch(n.type){case b.MANIFEST:v=a.manifestLoadingMaxRetry,y=a.manifestLoadingTimeOut,S=a.manifestLoadingRetryDelay,A=a.manifestLoadingMaxRetryTimeout;break;case b.LEVEL:v=0,A=0,S=0,y=a.levelLoadingTimeOut;break;default:v=a.levelLoadingMaxRetry,y=a.levelLoadingTimeOut,S=a.levelLoadingRetryDelay,A=a.levelLoadingMaxRetryTimeout;break}u=this.createInternalLoader(n);var L={timeout:y,maxRetry:v,retryDelay:S,maxRetryDelay:A},j={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};return E.logger.debug("Calling internal loader delegate for URL: "+n.url),u.load(n,L,j),!0},l.loadsuccess=function(n,a,u,d){if(d===void 0&&(d=null),u.isSidxRequest){this._handleSidxRequest(n,u),this._handlePlaylistLoaded(n,a,u,d);return}if(this.resetInternalLoader(u.type),typeof n.data!="string")throw new Error('expected responseType of "text" for PlaylistLoader');var v=n.data;if(a.tload=Pt.now(),v.indexOf("#EXTM3U")!==0){this._handleManifestParsingError(n,u,"no EXTM3U delimiter",d);return}v.indexOf("#EXTINF:")>0||v.indexOf("#EXT-X-TARGETDURATION:")>0?this._handleTrackOrLevelPlaylist(n,a,u,d):this._handleMasterPlaylist(n,a,u,d)},l.loaderror=function(n,a,u){u===void 0&&(u=null),this._handleNetworkError(a,u,!1,n)},l.loadtimeout=function(n,a,u){u===void 0&&(u=null),this._handleNetworkError(a,u,!0)},l._handleMasterPlaylist=function(n,a,u,d){var v=this.hls,y=n.data,S=c.getResponseUrl(n,u),A=at.parseMasterPlaylist(y,S),L=A.levels,j=A.sessionData;if(!L.length){this._handleManifestParsingError(n,u,"no level found in manifest",d);return}var V=L.map(function(xe){return{id:xe.attrs.AUDIO,codec:xe.audioCodec}}),ee=at.parseMasterPlaylistMedia(y,S,"AUDIO",V),ae=at.parseMasterPlaylistMedia(y,S,"SUBTITLES"),he=at.parseMasterPlaylistMedia(y,S,"CLOSED-CAPTIONS");if(ee.length){var fe=!1;ee.forEach(function(xe){xe.url||(fe=!0)}),fe===!1&&L[0].audioCodec&&!L[0].attrs.AUDIO&&(E.logger.log("audio codec signaled in quality level, but no embedded audio track signaled, create one"),ee.unshift({type:"main",name:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:{},url:""}))}v.trigger(g.default.MANIFEST_LOADED,{levels:L,audioTracks:ee,subtitles:ae,captions:he,url:S,stats:a,networkDetails:d,sessionData:j})},l._handleTrackOrLevelPlaylist=function(n,a,u,d){var v=this.hls,y=u.id,S=u.level,A=u.type,L=c.getResponseUrl(n,u),j=Object(T.isFiniteNumber)(y)?y:0,V=Object(T.isFiniteNumber)(S)?S:j,ee=c.mapContextToLevelType(u),ae=at.parseLevelPlaylist(n.data,L,V,ee,j);if(ae.tload=a.tload,!ae.fragments.length){v.trigger(g.default.ERROR,{type:m.ErrorTypes.NETWORK_ERROR,details:m.ErrorDetails.LEVEL_EMPTY_ERROR,fatal:!1,url:L,reason:"no fragments found in level",level:typeof u.level=="number"?u.level:void 0});return}if(A===b.MANIFEST){var he={url:L,details:ae};v.trigger(g.default.MANIFEST_LOADED,{levels:[he],audioTracks:[],url:L,stats:a,networkDetails:d,sessionData:null})}if(a.tparsed=Pt.now(),ae.needSidxRanges){var fe=ae.initSegment.url;this.load({url:fe,isSidxRequest:!0,type:A,level:S,levelDetails:ae,id:y,rangeStart:0,rangeEnd:2048,responseType:"arraybuffer"});return}u.levelDetails=ae,this._handlePlaylistLoaded(n,a,u,d)},l._handleSidxRequest=function(n,a){if(typeof n.data=="string")throw new Error("sidx request must be made with responseType of array buffer");var u=K.default.parseSegmentIndex(new Uint8Array(n.data));if(u){var d=u.references,v=a.levelDetails;d.forEach(function(y,S){var A=y.info;if(v){var L=v.fragments[S];L.byteRange.length===0&&L.setByteRange(String(1+A.end-A.start)+"@"+String(A.start))}}),v&&v.initSegment.setByteRange(String(u.moovEndOffset)+"@0")}},l._handleManifestParsingError=function(n,a,u,d){this.hls.trigger(g.default.ERROR,{type:m.ErrorTypes.NETWORK_ERROR,details:m.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:!0,url:n.url,reason:u,networkDetails:d})},l._handleNetworkError=function(n,a,u,d){u===void 0&&(u=!1),d===void 0&&(d=null),E.logger.info("A network error occured while loading a "+n.type+"-type playlist");var v,y,S=this.getInternalLoader(n);switch(n.type){case b.MANIFEST:v=u?m.ErrorDetails.MANIFEST_LOAD_TIMEOUT:m.ErrorDetails.MANIFEST_LOAD_ERROR,y=!0;break;case b.LEVEL:v=u?m.ErrorDetails.LEVEL_LOAD_TIMEOUT:m.ErrorDetails.LEVEL_LOAD_ERROR,y=!1;break;case b.AUDIO_TRACK:v=u?m.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:m.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,y=!1;break;default:y=!1}S&&(S.abort(),this.resetInternalLoader(n.type));var A={type:m.ErrorTypes.NETWORK_ERROR,details:v,fatal:y,url:n.url,loader:S,context:n,networkDetails:a};d&&(A.response=d),this.hls.trigger(g.default.ERROR,A)},l._handlePlaylistLoaded=function(n,a,u,d){var v=u.type,y=u.level,S=u.id,A=u.levelDetails;if(!A||!A.targetduration){this._handleManifestParsingError(n,u,"invalid target duration",d);return}var L=c.canHaveQualityLevels(u.type);if(L)this.hls.trigger(g.default.LEVEL_LOADED,{details:A,level:y||0,id:S||0,stats:a,networkDetails:d});else switch(v){case b.AUDIO_TRACK:this.hls.trigger(g.default.AUDIO_TRACK_LOADED,{details:A,id:S,stats:a,networkDetails:d});break;case b.SUBTITLE_TRACK:this.hls.trigger(g.default.SUBTITLE_TRACK_LOADED,{details:A,id:S,stats:a,networkDetails:d});break}},c}(k),Wt=Mt;function Cr(h,c){h.prototype=Object.create(c.prototype),h.prototype.constructor=h,h.__proto__=c}var Tn=function(h){Cr(c,h);function c(o){var n;return n=h.call(this,o,g.default.FRAG_LOADING)||this,n.loaders={},n}var l=c.prototype;return l.destroy=function(){var n=this.loaders;for(var a in n){var u=n[a];u&&u.destroy()}this.loaders={},h.prototype.destroy.call(this)},l.onFragLoading=function(n){var a=n.frag,u=a.type,d=this.loaders,v=this.hls.config,y=v.fLoader,S=v.loader;a.loaded=0;var A=d[u];A&&(E.logger.warn("abort previous fragment loader for type: "+u),A.abort()),A=d[u]=a.loader=v.fLoader?new y(v):new S(v);var L,j,V;L={url:a.url,frag:a,responseType:"arraybuffer",progressData:!1};var ee=a.byteRangeStartOffset,ae=a.byteRangeEndOffset;Object(T.isFiniteNumber)(ee)&&Object(T.isFiniteNumber)(ae)&&(L.rangeStart=ee,L.rangeEnd=ae),j={timeout:v.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:v.fragLoadingMaxRetryTimeout},V={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this),onProgress:this.loadprogress.bind(this)},A.load(L,j,V)},l.loadsuccess=function(n,a,u,d){d===void 0&&(d=null);var v=n.data,y=u.frag;y.loader=void 0,this.loaders[y.type]=void 0,this.hls.trigger(g.default.FRAG_LOADED,{payload:v,frag:y,stats:a,networkDetails:d})},l.loaderror=function(n,a,u){u===void 0&&(u=null);var d=a.frag,v=d.loader;v&&v.abort(),this.loaders[d.type]=void 0,this.hls.trigger(g.default.ERROR,{type:m.ErrorTypes.NETWORK_ERROR,details:m.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:a.frag,response:n,networkDetails:u})},l.loadtimeout=function(n,a,u){u===void 0&&(u=null);var d=a.frag,v=d.loader;v&&v.abort(),this.loaders[d.type]=void 0,this.hls.trigger(g.default.ERROR,{type:m.ErrorTypes.NETWORK_ERROR,details:m.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:a.frag,networkDetails:u})},l.loadprogress=function(n,a,u,d){d===void 0&&(d=null);var v=a.frag;v.loaded=n.loaded,this.hls.trigger(g.default.FRAG_LOAD_PROGRESS,{frag:v,stats:n,networkDetails:d})},c}(k),kt=Tn;function Gr(h,c){h.prototype=Object.create(c.prototype),h.prototype.constructor=h,h.__proto__=c}var xt=function(h){Gr(c,h);function c(o){var n;return n=h.call(this,o,g.default.KEY_LOADING)||this,n.loaders={},n.decryptkey=null,n.decrypturl=null,n}var l=c.prototype;return l.destroy=function(){for(var n in this.loaders){var a=this.loaders[n];a&&a.destroy()}this.loaders={},h.prototype.destroy.call(this)},l.onKeyLoading=function(n){var a=n.frag,u=a.type,d=this.loaders[u];if(!a.decryptdata){E.logger.warn("Missing decryption data on fragment in onKeyLoading");return}var v=a.decryptdata.uri;if(v!==this.decrypturl||this.decryptkey===null){var y=this.hls.config;if(d&&(E.logger.warn("abort previous key loader for type:"+u),d.abort()),!v){E.logger.warn("key uri is falsy");return}a.loader=this.loaders[u]=new y.loader(y),this.decrypturl=v,this.decryptkey=null;var S={url:v,frag:a,responseType:"arraybuffer"},A={timeout:y.fragLoadingTimeOut,maxRetry:0,retryDelay:y.fragLoadingRetryDelay,maxRetryDelay:y.fragLoadingMaxRetryTimeout},L={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};a.loader.load(S,A,L)}else this.decryptkey&&(a.decryptdata.key=this.decryptkey,this.hls.trigger(g.default.KEY_LOADED,{frag:a}))},l.loadsuccess=function(n,a,u){var d=u.frag;if(!d.decryptdata){E.logger.error("after key load, decryptdata unset");return}this.decryptkey=d.decryptdata.key=new Uint8Array(n.data),d.loader=void 0,delete this.loaders[d.type],this.hls.trigger(g.default.KEY_LOADED,{frag:d})},l.loaderror=function(n,a){var u=a.frag,d=u.loader;d&&d.abort(),delete this.loaders[u.type],this.hls.trigger(g.default.ERROR,{type:m.ErrorTypes.NETWORK_ERROR,details:m.ErrorDetails.KEY_LOAD_ERROR,fatal:!1,frag:u,response:n})},l.loadtimeout=function(n,a){var u=a.frag,d=u.loader;d&&d.abort(),delete this.loaders[u.type],this.hls.trigger(g.default.ERROR,{type:m.ErrorTypes.NETWORK_ERROR,details:m.ErrorDetails.KEY_LOAD_TIMEOUT,fatal:!1,frag:u})},c}(k),wn=xt;function $t(h,c){h.prototype=Object.create(c.prototype),h.prototype.constructor=h,h.__proto__=c}var pt={NOT_LOADED:"NOT_LOADED",APPENDING:"APPENDING",PARTIAL:"PARTIAL",OK:"OK"},gs=function(h){$t(c,h);function c(o){var n;return n=h.call(this,o,g.default.BUFFER_APPENDED,g.default.FRAG_BUFFERED,g.default.FRAG_LOADED)||this,n.bufferPadding=.2,n.fragments=Object.create(null),n.timeRanges=Object.create(null),n.config=o.config,n}var l=c.prototype;return l.destroy=function(){this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.config=null,k.prototype.destroy.call(this),h.prototype.destroy.call(this)},l.getBufferedFrag=function(n,a){var u=this.fragments,d=Object.keys(u).filter(function(y){var S=u[y];if(S.body.type!==a||!S.buffered)return!1;var A=S.body;return A.startPTS<=n&&n<=A.endPTS});if(d.length===0)return null;var v=d.pop();return u[v].body},l.detectEvictedFragments=function(n,a){var u=this;Object.keys(this.fragments).forEach(function(d){var v=u.fragments[d];if(!(!v||!v.buffered)){var y=v.range[n];if(y)for(var S=y.time,A=0;A<S.length;A++){var L=S[A];if(!u.isTimeBuffered(L.startPTS,L.endPTS,a)){u.removeFragment(v.body);break}}}})},l.detectPartialFragments=function(n){var a=this,u=this.getFragmentKey(n),d=this.fragments[u];d&&(d.buffered=!0,Object.keys(this.timeRanges).forEach(function(v){if(n.hasElementaryStream(v)){var y=a.timeRanges[v];d.range[v]=a.getBufferedTimes(n.startPTS,n.endPTS,y)}}))},l.getBufferedTimes=function(n,a,u){for(var d=[],v,y,S=!1,A=0;A<u.length;A++)if(v=u.start(A)-this.bufferPadding,y=u.end(A)+this.bufferPadding,n>=v&&a<=y){d.push({startPTS:Math.max(n,u.start(A)),endPTS:Math.min(a,u.end(A))});break}else if(n<y&&a>v)d.push({startPTS:Math.max(n,u.start(A)),endPTS:Math.min(a,u.end(A))}),S=!0;else if(a<=v)break;return{time:d,partial:S}},l.getFragmentKey=function(n){return n.type+"_"+n.level+"_"+n.urlId+"_"+n.sn},l.getPartialFragment=function(n){var a=this,u,d,v,y=null,S=0;return Object.keys(this.fragments).forEach(function(A){var L=a.fragments[A];a.isPartial(L)&&(d=L.body.startPTS-a.bufferPadding,v=L.body.endPTS+a.bufferPadding,n>=d&&n<=v&&(u=Math.min(n-d,v-n),S<=u&&(y=L.body,S=u)))}),y},l.getState=function(n){var a=this.getFragmentKey(n),u=this.fragments[a],d=pt.NOT_LOADED;return u!==void 0&&(u.buffered?this.isPartial(u)===!0?d=pt.PARTIAL:d=pt.OK:d=pt.APPENDING),d},l.isPartial=function(n){return n.buffered===!0&&(n.range.video!==void 0&&n.range.video.partial===!0||n.range.audio!==void 0&&n.range.audio.partial===!0)},l.isTimeBuffered=function(n,a,u){for(var d,v,y=0;y<u.length;y++){if(d=u.start(y)-this.bufferPadding,v=u.end(y)+this.bufferPadding,n>=d&&a<=v)return!0;if(a<=d)return!1}return!1},l.onFragLoaded=function(n){var a=n.frag;!Object(T.isFiniteNumber)(a.sn)||a.bitrateTest||(this.fragments[this.getFragmentKey(a)]={body:a,range:Object.create(null),buffered:!1})},l.onBufferAppended=function(n){var a=this;this.timeRanges=n.timeRanges,Object.keys(this.timeRanges).forEach(function(u){var d=a.timeRanges[u];a.detectEvictedFragments(u,d)})},l.onFragBuffered=function(n){this.detectPartialFragments(n.frag)},l.hasFragment=function(n){var a=this.getFragmentKey(n);return this.fragments[a]!==void 0},l.removeFragment=function(n){var a=this.getFragmentKey(n);delete this.fragments[a]},l.removeAllFragments=function(){this.fragments=Object.create(null)},c}(k),I={search:function(c,l){for(var o=0,n=c.length-1,a=null,u=null;o<=n;){a=(o+n)/2|0,u=c[a];var d=l(u);if(d>0)o=a+1;else if(d<0)n=a-1;else return u}return null}},z=I,C=function(){function h(){}return h.isBuffered=function(l,o){try{if(l){for(var n=l.buffered,a=0;a<n.length;a++)if(o>=n.start(a)&&o<=n.end(a))return!0}}catch{}return!1},h.bufferInfo=function(l,o,n){try{if(l){var a=l.buffered,u=[],d;for(d=0;d<a.length;d++)u.push({start:a.start(d),end:a.end(d)});return this.bufferedInfo(u,o,n)}}catch{}return{len:0,start:o,end:o,nextStart:void 0}},h.bufferedInfo=function(l,o,n){l.sort(function(ae,he){var fe=ae.start-he.start;return fe||he.end-ae.end});var a=[];if(n)for(var u=0;u<l.length;u++){var d=a.length;if(d){var v=a[d-1].end;l[u].start-v<n?l[u].end>v&&(a[d-1].end=l[u].end):a.push(l[u])}else a.push(l[u])}else a=l;for(var y=0,S,A=o,L=o,j=0;j<a.length;j++){var V=a[j].start,ee=a[j].end;if(o+n>=V&&o<ee)A=V,L=ee,y=L-o;else if(o+n<V){S=V;break}}return{len:y,start:A,end:L,nextStart:S}},h}(),x=s("./node_modules/eventemitter3/index.js"),R=s("./node_modules/webworkify-webpack/index.js"),O=s("./src/demux/demuxer-inline.js");function M(){return window.MediaSource||window.WebKitMediaSource}var B=s("./src/utils/get-self-scope.js");function G(h,c){h.prototype=Object.create(c.prototype),h.prototype.constructor=h,h.__proto__=c}var W=function(h){G(c,h);function c(){return h.apply(this,arguments)||this}var l=c.prototype;return l.trigger=function(n){for(var a=arguments.length,u=new Array(a>1?a-1:0),d=1;d<a;d++)u[d-1]=arguments[d];this.emit.apply(this,[n,n].concat(u))},c}(x.EventEmitter),Z=Object(B.getSelfScope)(),J=M()||{isTypeSupported:function(){return!1}},Q=function(){function h(l,o){var n=this;this.hls=l,this.id=o;var a=this.observer=new W,u=l.config,d=function(L,j){j=j||{},j.frag=n.frag,j.id=n.id,l.trigger(L,j)};a.on(g.default.FRAG_DECRYPTED,d),a.on(g.default.FRAG_PARSING_INIT_SEGMENT,d),a.on(g.default.FRAG_PARSING_DATA,d),a.on(g.default.FRAG_PARSED,d),a.on(g.default.ERROR,d),a.on(g.default.FRAG_PARSING_METADATA,d),a.on(g.default.FRAG_PARSING_USERDATA,d),a.on(g.default.INIT_PTS_FOUND,d);var v={mp4:J.isTypeSupported("video/mp4"),mpeg:J.isTypeSupported("audio/mpeg"),mp3:J.isTypeSupported('audio/mp4; codecs="mp3"')},y=navigator.vendor;if(u.enableWorker&&typeof Worker<"u"){E.logger.log("demuxing in webworker");var S;try{S=this.w=R("./src/demux/demuxer-worker.js"),this.onwmsg=this.onWorkerMessage.bind(this),S.addEventListener("message",this.onwmsg),S.onerror=function(A){l.trigger(g.default.ERROR,{type:m.ErrorTypes.OTHER_ERROR,details:m.ErrorDetails.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",err:{message:A.message+" ("+A.filename+":"+A.lineno+")"}})},S.postMessage({cmd:"init",typeSupported:v,vendor:y,id:o,config:JSON.stringify(u)})}catch(A){E.logger.warn("Error in worker:",A),E.logger.error("Error while initializing DemuxerWorker, fallback on DemuxerInline"),S&&Z.URL.revokeObjectURL(S.objectURL),this.demuxer=new O.default(a,v,u,y),this.w=void 0}}else this.demuxer=new O.default(a,v,u,y)}var c=h.prototype;return c.destroy=function(){var o=this.w;if(o)o.removeEventListener("message",this.onwmsg),o.terminate(),this.w=null;else{var n=this.demuxer;n&&(n.destroy(),this.demuxer=null)}var a=this.observer;a&&(a.removeAllListeners(),this.observer=null)},c.push=function(o,n,a,u,d,v,y,S){var A=this.w,L=Object(T.isFiniteNumber)(d.startPTS)?d.startPTS:d.start,j=d.decryptdata,V=this.frag,ee=!(V&&d.cc===V.cc),ae=!(V&&d.level===V.level),he=V&&d.sn===V.sn+1,fe=!ae&&he;if(ee&&E.logger.log(this.id+":discontinuity detected"),ae&&E.logger.log(this.id+":switch detected"),this.frag=d,A)A.postMessage({cmd:"demux",data:o,decryptdata:j,initSegment:n,audioCodec:a,videoCodec:u,timeOffset:L,discontinuity:ee,trackSwitch:ae,contiguous:fe,duration:v,accurateTimeOffset:y,defaultInitPTS:S},o instanceof ArrayBuffer?[o]:[]);else{var xe=this.demuxer;xe&&xe.push(o,j,n,a,u,L,ee,ae,fe,v,y,S)}},c.onWorkerMessage=function(o){var n=o.data,a=this.hls;switch(n.event){case"init":Z.URL.revokeObjectURL(this.w.objectURL);break;case g.default.FRAG_PARSING_DATA:n.data.data1=new Uint8Array(n.data1),n.data2&&(n.data.data2=new Uint8Array(n.data2));default:n.data=n.data||{},n.data.frag=this.frag,n.data.id=this.id,a.trigger(n.event,n.data);break}},h}(),ne=Q;function te(h,c,l){switch(c){case"audio":h.audioGroupIds||(h.audioGroupIds=[]),h.audioGroupIds.push(l);break;case"text":h.textGroupIds||(h.textGroupIds=[]),h.textGroupIds.push(l);break}}function ue(h,c,l){var o=h[c],n=h[l],a=n.startPTS;if(Object(T.isFiniteNumber)(a))l>c?(o.duration=a-o.start,o.duration<0&&E.logger.warn("negative duration computed for frag "+o.sn+",level "+o.level+", there should be some duration drift between playlist and fragment!")):(n.duration=o.start-a,n.duration<0&&E.logger.warn("negative duration computed for frag "+n.sn+",level "+n.level+", there should be some duration drift between playlist and fragment!"));else if(l>c){var u=o.cc===n.cc;n.start=o.start+(u&&o.minEndPTS?o.minEndPTS-o.start:o.duration)}else n.start=Math.max(o.start-n.duration,0)}function re(h,c,l,o,n,a){var u=l,d=o;if(Object(T.isFiniteNumber)(c.startPTS)){var v=Math.abs(c.startPTS-l);Object(T.isFiniteNumber)(c.deltaPTS)?c.deltaPTS=Math.max(v,c.deltaPTS):c.deltaPTS=v,u=Math.max(l,c.startPTS),l=Math.min(l,c.startPTS),d=Math.min(o,c.endPTS),o=Math.max(o,c.endPTS),n=Math.min(n,c.startDTS),a=Math.max(a,c.endDTS)}var y=l-c.start;c.start=c.startPTS=l,c.maxStartPTS=u,c.endPTS=o,c.minEndPTS=d,c.startDTS=n,c.endDTS=a,c.duration=o-l;var S=c.sn;if(!h||S<h.startSN||S>h.endSN)return 0;var A,L,j;for(A=S-h.startSN,L=h.fragments,L[A]=c,j=A;j>0;j--)ue(L,j,j-1);for(j=A;j<L.length-1;j++)ue(L,j,j+1);return h.PTSKnown=!0,y}function ve(h,c){c.initSegment&&h.initSegment&&(c.initSegment=h.initSegment);var l=0,o;if(Se(h,c,function(u,d){l=u.cc-d.cc,Object(T.isFiniteNumber)(u.startPTS)&&(d.start=d.startPTS=u.startPTS,d.endPTS=u.endPTS,d.duration=u.duration,d.backtracked=u.backtracked,d.dropped=u.dropped,o=d),c.PTSKnown=!0}),!!c.PTSKnown){if(l){E.logger.log("discontinuity sliding from playlist, take drift into account");for(var n=c.fragments,a=0;a<n.length;a++)n[a].cc+=l}o?re(c,o,o.startPTS,o.endPTS,o.startDTS,o.endDTS):Ie(h,c),c.PTSKnown=h.PTSKnown}}function de(h,c,l){l===void 0&&(l=0);var o=-1;Se(h,c,function(u,d,v){d.start=u.start,o=v});var n=c.fragments;if(o<0){n.forEach(function(u){u.start+=l});return}for(var a=o+1;a<n.length;a++)n[a].start=n[a-1].start+n[a-1].duration}function Se(h,c,l){if(!(!h||!c))for(var o=Math.max(h.startSN,c.startSN)-c.startSN,n=Math.min(h.endSN,c.endSN)-c.startSN,a=c.startSN-h.startSN,u=o;u<=n;u++){var d=h.fragments[a+u],v=c.fragments[u];if(!d||!v)break;l(d,v,u)}}function Ie(h,c){var l=c.startSN-h.startSN,o=h.fragments,n=c.fragments;if(!(l<0||l>o.length))for(var a=0;a<n.length;a++)n[a].start+=o[l].start}function _e(h,c,l){var o=1e3*(c.averagetargetduration?c.averagetargetduration:c.targetduration),n=o/2;return h&&c.endSN===h.endSN&&(o=n),l&&(o=Math.max(n,o-(window.performance.now()-l))),Math.round(o)}var Ve={toString:function(c){for(var l="",o=c.length,n=0;n<o;n++)l+="["+c.start(n).toFixed(3)+","+c.end(n).toFixed(3)+"]";return l}},Ce=Ve;function Ae(h,c){for(var l=null,o=0;o<h.length;o+=1){var n=h[o];if(n&&n.cc===c){l=n;break}}return l}function be(h,c){return z.search(h,function(l){return l.cc<c?1:l.cc>c?-1:0})}function ze(h,c,l){var o=!1;return c&&c.details&&l&&(l.endCC>l.startCC||h&&h.cc<l.startCC)&&(o=!0),o}function Et(h,c){var l=h.fragments,o=c.fragments;if(!o.length||!l.length){E.logger.log("No fragments to align");return}var n=Ae(l,o[0].cc);if(!n||n&&!n.startPTS){E.logger.log("No frag in previous level to align on");return}return n}function ut(h,c){c.fragments.forEach(function(l){if(l){var o=l.start+h;l.start=l.startPTS=o,l.endPTS=o+l.duration}}),c.PTSKnown=!0}function We(h,c,l){Dt(h,l,c),!l.PTSKnown&&c&&ft(l,c.details)}function Dt(h,c,l){if(ze(h,l,c)){var o=Et(l.details,c);o&&(E.logger.log("Adjusting PTS using last level due to CC increase within current level"),ut(o.start,c))}}function ft(h,c){if(c&&c.fragments.length){if(!h.hasProgramDateTime||!c.hasProgramDateTime)return;var l=c.fragments[0].programDateTime,o=h.fragments[0].programDateTime,n=(o-l)/1e3+c.fragments[0].start;Object(T.isFiniteNumber)(n)&&(E.logger.log("adjusting PTS using programDateTime delta, sliding:"+n.toFixed(3)),ut(n,h))}}function Nt(h,c,l){if(c===null||!Array.isArray(h)||!h.length||!Object(T.isFiniteNumber)(c))return null;var o=h[0].programDateTime;if(c<(o||0))return null;var n=h[h.length-1].endProgramDateTime;if(c>=(n||0))return null;l=l||0;for(var a=0;a<h.length;++a){var u=h[a];if(xr(c,l,u))return u}return null}function ot(h,c,l,o){l===void 0&&(l=0),o===void 0&&(o=0);var n=null;if(h?n=c[h.sn-c[0].sn+1]:l===0&&c[0].start===0&&(n=c[0]),n&&$e(l,o,n)===0)return n;var a=z.search(c,$e.bind(null,l,o));return a||n}function $e(h,c,l){h===void 0&&(h=0),c===void 0&&(c=0);var o=Math.min(c,l.duration+(l.deltaPTS?l.deltaPTS:0));return l.start+l.duration-o<=h?1:l.start-o>h&&l.start?-1:0}function xr(h,c,l){var o=Math.min(c,l.duration+(l.deltaPTS?l.deltaPTS:0))*1e3,n=l.endProgramDateTime||0;return n-o>h}var Er=250,Yt=2,St=.1,dr=.05,Sr=function(){function h(l,o,n,a){this.config=l,this.media=o,this.fragmentTracker=n,this.hls=a,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1}var c=h.prototype;return c.poll=function(o){var n=this.config,a=this.media,u=this.stalled,d=a.currentTime,v=a.seeking,y=this.seeking&&!v,S=!this.seeking&&v;if(this.seeking=v,d!==o){if(this.moved=!0,u!==null){if(this.stallReported){var A=self.performance.now()-u;E.logger.warn("playback not stuck anymore @"+d+", after "+Math.round(A)+"ms"),this.stallReported=!1}this.stalled=null,this.nudgeRetry=0}return}if((S||y)&&(this.stalled=null),!(a.paused||a.ended||a.playbackRate===0||!a.buffered.length)){var L=C.bufferInfo(a,d,0),j=L.len>0,V=L.nextStart||0;if(!(!j&&!V)){if(v){var ee=L.len>Yt,ae=!V||V-d>Yt&&!this.fragmentTracker.getPartialFragment(d);if(ee||ae)return;this.moved=!1}if(!this.moved&&this.stalled){var he=Math.max(V,L.start||0)-d;if(he>0&&he<=Yt){this._trySkipBufferHole(null);return}}var fe=self.performance.now();if(u===null){this.stalled=fe;return}var xe=fe-u;!v&&xe>=Er&&this._reportStall(L.len);var Ee=C.bufferInfo(a,d,n.maxBufferHole);this._tryFixBufferStall(Ee,xe)}}},c._tryFixBufferStall=function(o,n){var a=this.config,u=this.fragmentTracker,d=this.media,v=d.currentTime,y=u.getPartialFragment(v);if(y){var S=this._trySkipBufferHole(y);if(S)return}o.len>a.maxBufferHole&&n>a.highBufferWatchdogPeriod*1e3&&(E.logger.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())},c._reportStall=function(o){var n=this.hls,a=this.media,u=this.stallReported;u||(this.stallReported=!0,E.logger.warn("Playback stalling at @"+a.currentTime+" due to low buffer (buffer="+o+")"),n.trigger(g.default.ERROR,{type:m.ErrorTypes.MEDIA_ERROR,details:m.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1,buffer:o}))},c._trySkipBufferHole=function(o){for(var n=this.config,a=this.hls,u=this.media,d=u.currentTime,v=0,y=0;y<u.buffered.length;y++){var S=u.buffered.start(y);if(d+n.maxBufferHole>=v&&d<S){var A=Math.max(S+dr,u.currentTime+St);return E.logger.warn("skipping hole, adjusting currentTime from "+d+" to "+A),this.moved=!0,this.stalled=null,u.currentTime=A,o&&a.trigger(g.default.ERROR,{type:m.ErrorTypes.MEDIA_ERROR,details:m.ErrorDetails.BUFFER_SEEK_OVER_HOLE,fatal:!1,reason:"fragment loaded with buffer holes, seeking from "+d+" to "+A,frag:o}),A}v=u.buffered.end(y)}return 0},c._tryNudgeBuffer=function(){var o=this.config,n=this.hls,a=this.media,u=a.currentTime,d=(this.nudgeRetry||0)+1;if(this.nudgeRetry=d,d<o.nudgeMaxRetry){var v=u+d*o.nudgeOffset;E.logger.warn("Nudging 'currentTime' from "+u+" to "+v),a.currentTime=v,n.trigger(g.default.ERROR,{type:m.ErrorTypes.MEDIA_ERROR,details:m.ErrorDetails.BUFFER_NUDGE_ON_STALL,fatal:!1})}else E.logger.error("Playhead still not moving while enough data buffered @"+u+" after "+o.nudgeMaxRetry+" nudges"),n.trigger(g.default.ERROR,{type:m.ErrorTypes.MEDIA_ERROR,details:m.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!0})},h}();function Ir(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function Rn(h,c){h.prototype=Object.create(c.prototype),h.prototype.constructor=h,h.__proto__=c}var Fr=function(h){Rn(c,h);function c(o){for(var n,a=arguments.length,u=new Array(a>1?a-1:0),d=1;d<a;d++)u[d-1]=arguments[d];return n=h.call.apply(h,[this,o].concat(u))||this,n._boundTick=void 0,n._tickTimer=null,n._tickInterval=null,n._tickCallCount=0,n._boundTick=n.tick.bind(Ir(n)),n}var l=c.prototype;return l.onHandlerDestroying=function(){this.clearNextTick(),this.clearInterval()},l.hasInterval=function(){return!!this._tickInterval},l.hasNextTick=function(){return!!this._tickTimer},l.setInterval=function(n){return this._tickInterval?!1:(this._tickInterval=self.setInterval(this._boundTick,n),!0)},l.clearInterval=function(){return this._tickInterval?(self.clearInterval(this._tickInterval),this._tickInterval=null,!0):!1},l.clearNextTick=function(){return this._tickTimer?(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0):!1},l.tick=function(){this._tickCallCount++,this._tickCallCount===1&&(this.doTick(),this._tickCallCount>1&&(this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)),this._tickCallCount=0)},l.doTick=function(){},c}(k);function An(h,c){h.prototype=Object.create(c.prototype),h.prototype.constructor=h,h.__proto__=c}var X={STOPPED:"STOPPED",STARTING:"STARTING",IDLE:"IDLE",PAUSED:"PAUSED",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",BUFFER_FLUSHING:"BUFFER_FLUSHING",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"},Ut=function(h){An(c,h);function c(){return h.apply(this,arguments)||this}var l=c.prototype;return l.doTick=function(){},l.startLoad=function(){},l.stopLoad=function(){var n=this.fragCurrent;n&&(n.loader&&n.loader.abort(),this.fragmentTracker.removeFragment(n)),this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=X.STOPPED},l._streamEnded=function(n,a){var u=this.fragCurrent,d=this.fragmentTracker;if(!a.live&&u&&!u.backtracked&&u.sn===a.endSN&&!n.nextStart){var v=d.getState(u);return v===pt.PARTIAL||v===pt.OK}return!1},l.onMediaSeeking=function(){var n=this.config,a=this.media,u=this.mediaBuffer,d=this.state,v=a?a.currentTime:null,y=C.bufferInfo(u||a,v,this.config.maxBufferHole);if(E.logger.log("media seeking to "+(Object(T.isFiniteNumber)(v)?v.toFixed(3):v)),d===X.FRAG_LOADING){var S=this.fragCurrent;if(y.len===0&&S){var A=n.maxFragLookUpTolerance,L=S.start-A,j=S.start+S.duration+A;v<L||v>j?(S.loader&&(E.logger.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),S.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.state=X.IDLE):E.logger.log("seeking outside of buffer but within currently loaded fragment range")}}else d===X.ENDED&&(y.len===0&&(this.fragPrevious=null,this.fragCurrent=null),this.state=X.IDLE);a&&(this.lastCurrentTime=v),this.loadedmetadata||(this.nextLoadPosition=this.startPosition=v),this.tick()},l.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},l.onHandlerDestroying=function(){this.stopLoad(),h.prototype.onHandlerDestroying.call(this)},l.onHandlerDestroyed=function(){this.state=X.STOPPED,this.fragmentTracker=null},l.computeLivePosition=function(n,a){var u=this.config.liveSyncDuration!==void 0?this.config.liveSyncDuration:this.config.liveSyncDurationCount*a.targetduration;return n+Math.max(0,a.totalduration-u)},c}(Fr);function Ln(h,c){for(var l=0;l<c.length;l++){var o=c[l];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(h,o.key,o)}}function Pn(h,c,l){return c&&Ln(h.prototype,c),h}function _r(h,c){h.prototype=Object.create(c.prototype),h.prototype.constructor=h,h.__proto__=c}var Oi=100,vs=function(h){_r(c,h);function c(o,n){var a;return a=h.call(this,o,g.default.MEDIA_ATTACHED,g.default.MEDIA_DETACHING,g.default.MANIFEST_LOADING,g.default.MANIFEST_PARSED,g.default.LEVEL_LOADED,g.default.LEVELS_UPDATED,g.default.KEY_LOADED,g.default.FRAG_LOADED,g.default.FRAG_LOAD_EMERGENCY_ABORTED,g.default.FRAG_PARSING_INIT_SEGMENT,g.default.FRAG_PARSING_DATA,g.default.FRAG_PARSED,g.default.ERROR,g.default.AUDIO_TRACK_SWITCHING,g.default.AUDIO_TRACK_SWITCHED,g.default.BUFFER_CREATED,g.default.BUFFER_APPENDED,g.default.BUFFER_FLUSHED)||this,a.fragmentTracker=n,a.config=o.config,a.audioCodecSwap=!1,a._state=X.STOPPED,a.stallReported=!1,a.gapController=null,a.altAudio=!1,a.audioOnly=!1,a.bitrateTest=!1,a}var l=c.prototype;return l.startLoad=function(n){if(this.levels){var a=this.lastCurrentTime,u=this.hls;if(this.stopLoad(),this.setInterval(Oi),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var d=u.startLevel;d===-1&&(u.config.testBandwidth?(d=0,this.bitrateTest=!0):d=u.nextAutoLevel),this.level=u.nextLoadLevel=d,this.loadedmetadata=!1}a>0&&n===-1&&(E.logger.log("override startPosition with lastCurrentTime @"+a.toFixed(3)),n=a),this.state=X.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=n,this.tick()}else this.forceStartLoad=!0,this.state=X.STOPPED},l.stopLoad=function(){this.forceStartLoad=!1,h.prototype.stopLoad.call(this)},l.doTick=function(){switch(this.state){case X.BUFFER_FLUSHING:this.fragLoadError=0;break;case X.IDLE:this._doTickIdle();break;case X.WAITING_LEVEL:var n=this.levels[this.level];n&&n.details&&(this.state=X.IDLE);break;case X.FRAG_LOADING_WAITING_RETRY:var a=window.performance.now(),u=this.retryDate;(!u||a>=u||this.media&&this.media.seeking)&&(E.logger.log("mediaController: retryDate reached, switch back to IDLE state"),this.state=X.IDLE);break}this._checkBuffer(),this._checkFragmentChanged()},l._doTickIdle=function(){var n=this.hls,a=n.config,u=this.media;if(!(this.levelLastLoaded===void 0||!u&&(this.startFragRequested||!a.startFragPrefetch))){if(this.altAudio&&this.audioOnly){this.demuxer.frag=null;return}var d;this.loadedmetadata?d=u.currentTime:d=this.nextLoadPosition;var v=n.nextLoadLevel,y=this.levels[v];if(y){var S=y.bitrate,A;S?A=Math.max(8*a.maxBufferSize/S,a.maxBufferLength):A=a.maxBufferLength,A=Math.min(A,a.maxMaxBufferLength);var L=d<a.maxBufferHole?Math.max(Yt,a.maxBufferHole):a.maxBufferHole,j=C.bufferInfo(this.mediaBuffer?this.mediaBuffer:u,d,L),V=j.len;if(!(V>=A)){E.logger.trace("buffer length of "+V.toFixed(3)+" is below max of "+A.toFixed(3)+". checking for more payload ..."),this.level=n.nextLoadLevel=v;var ee=y.details;if(!ee||ee.live&&this.levelLastLoaded!==v){this.state=X.WAITING_LEVEL;return}if(this._streamEnded(j,ee)){var ae={};this.altAudio&&(ae.type="video"),this.hls.trigger(g.default.BUFFER_EOS,ae),this.state=X.ENDED;return}this._fetchPayloadOrEos(d,j,ee)}}}},l._fetchPayloadOrEos=function(n,a,u){var d=this.fragPrevious;this.level;var v=u.fragments,y=v.length;if(y!==0){var S=v[0].start,A=v[y-1].start+v[y-1].duration,L=a.end,j;if(u.initSegment&&!u.initSegment.data)j=u.initSegment;else if(u.live){var V=this.config.initialLiveManifestSize;if(y<V){E.logger.warn("Can not start playback of a level, reason: not enough fragments "+y+" < "+V);return}if(j=this._ensureFragmentAtLivePoint(u,L,S,A,d,v),j===null)return}else L<S&&(j=v[0]);j||(j=this._findFragment(S,d,y,v,L,A,u)),j&&(j.encrypted?this._loadKey(j,u):this._loadFragment(j,u,n,L))}},l._ensureFragmentAtLivePoint=function(n,a,u,d,v,y){var S=this.hls.config,A=this.media,L,j=1/0;if(S.liveMaxLatencyDuration!==void 0?j=S.liveMaxLatencyDuration:Object(T.isFiniteNumber)(S.liveMaxLatencyDurationCount)&&(j=S.liveMaxLatencyDurationCount*n.targetduration),a<Math.max(u-S.maxFragLookUpTolerance,d-j)){var V=this.liveSyncPosition=this.computeLivePosition(u,n);a=V,A&&!A.paused&&A.readyState&&A.duration>V&&V>A.currentTime&&(E.logger.log("buffer end: "+a.toFixed(3)+" is located too far from the end of live sliding playlist, reset currentTime to : "+V.toFixed(3)),A.currentTime=V),this.nextLoadPosition=V}if(n.PTSKnown&&a>d&&A&&A.readyState)return null;if(this.startFragRequested&&!n.PTSKnown&&v)if(n.hasProgramDateTime)E.logger.log("live playlist, switching playlist, load frag with same PDT: "+v.programDateTime),L=Nt(y,v.endProgramDateTime,S.maxFragLookUpTolerance);else{var ee=v.sn+1;if(ee>=n.startSN&&ee<=n.endSN){var ae=y[ee-n.startSN];v.cc===ae.cc&&(L=ae,E.logger.log("live playlist, switching playlist, load frag with next SN: "+L.sn))}L||(L=z.search(y,function(he){return v.cc-he.cc}),L&&E.logger.log("live playlist, switching playlist, load frag with same CC: "+L.sn))}return L},l._findFragment=function(n,a,u,d,v,y,S){var A=this.hls.config,L;if(v<y){var j=v>y-A.maxFragLookUpTolerance?0:A.maxFragLookUpTolerance;L=ot(a,d,v,j)}else L=d[u-1];if(L){var V=L.sn-S.startSN,ee=a&&L.level===a.level,ae=d[V-1],he=d[V+1];if(a&&L.sn===a.sn)if(ee&&!L.backtracked)if(L.sn<S.endSN){var fe=a.deltaPTS;fe&&fe>A.maxBufferHole&&a.dropped&&V?(L=ae,E.logger.warn("Previous fragment was dropped with large PTS gap between audio and video. Maybe fragment is not starting with a keyframe? Loading previous one to try to overcome this")):(L=he,this.fragmentTracker.getState(L)!==pt.OK&&E.logger.log("Re-loading fragment with SN: "+L.sn))}else L=null;else L.backtracked&&(he&&he.backtracked?(E.logger.warn("Already backtracked from fragment "+he.sn+", will not backtrack to fragment "+L.sn+". Loading fragment "+he.sn),L=he):(E.logger.warn("Loaded fragment with dropped frames, backtracking 1 segment to find a keyframe"),L.dropped=0,ae?(L=ae,L.backtracked=!0):V&&(L=null)))}return L},l._loadKey=function(n,a){E.logger.log("Loading key for "+n.sn+" of ["+a.startSN+"-"+a.endSN+"], level "+this.level),this.state=X.KEY_LOADING,this.hls.trigger(g.default.KEY_LOADING,{frag:n})},l._loadFragment=function(n,a,u,d){var v=this.fragmentTracker.getState(n);this.fragCurrent=n,n.sn!=="initSegment"&&(this.startFragRequested=!0),Object(T.isFiniteNumber)(n.sn)&&!n.bitrateTest&&(this.nextLoadPosition=n.start+n.duration),n.backtracked||v===pt.NOT_LOADED||v===pt.PARTIAL?(n.autoLevel=this.hls.autoLevelEnabled,n.bitrateTest=this.bitrateTest,E.logger.log("Loading "+n.sn+" of ["+a.startSN+"-"+a.endSN+"], level "+this.level+", "+(this.loadedmetadata?"currentTime":"nextLoadPosition")+": "+parseFloat(u.toFixed(3))+", bufferEnd: "+parseFloat(d.toFixed(3))),this.hls.trigger(g.default.FRAG_LOADING,{frag:n}),this.demuxer||(this.demuxer=new ne(this.hls,"main")),this.state=X.FRAG_LOADING):v===pt.APPENDING&&this._reduceMaxBufferLength(n.duration)&&this.fragmentTracker.removeFragment(n)},l.getBufferedFrag=function(n){return this.fragmentTracker.getBufferedFrag(n,D.MAIN)},l.followingBufferedFrag=function(n){return n?this.getBufferedFrag(n.endPTS+.5):null},l._checkFragmentChanged=function(){var n,a,u=this.media;if(u&&u.readyState&&u.seeking===!1&&(a=u.currentTime,a>this.lastCurrentTime&&(this.lastCurrentTime=a),C.isBuffered(u,a)?n=this.getBufferedFrag(a):C.isBuffered(u,a+.1)&&(n=this.getBufferedFrag(a+.1)),n)){var d=n;if(d!==this.fragPlaying){this.hls.trigger(g.default.FRAG_CHANGED,{frag:d});var v=d.level;(!this.fragPlaying||this.fragPlaying.level!==v)&&this.hls.trigger(g.default.LEVEL_SWITCHED,{level:v}),this.fragPlaying=d}}},l.immediateLevelSwitch=function(){if(E.logger.log("immediateLevelSwitch"),!this.immediateSwitch){this.immediateSwitch=!0;var n=this.media,a;n?(a=n.paused,a||n.pause()):a=!0,this.previouslyPaused=a}var u=this.fragCurrent;u&&u.loader&&u.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(0,Number.POSITIVE_INFINITY)},l.immediateLevelSwitchEnd=function(){var n=this.media;n&&n.buffered.length&&(this.immediateSwitch=!1,n.currentTime>0&&C.isBuffered(n,n.currentTime)&&(n.currentTime-=1e-4),this.previouslyPaused||n.play())},l.nextLevelSwitch=function(){var n=this.media;if(n&&n.readyState){var a,u=this.getBufferedFrag(n.currentTime);if(u&&u.startPTS>1&&this.flushMainBuffer(0,u.startPTS-1),n.paused)a=0;else{var d=this.hls.nextLoadLevel,v=this.levels[d],y=this.fragLastKbps;y&&this.fragCurrent?a=this.fragCurrent.duration*v.bitrate/(1e3*y)+1:a=0}var S=this.getBufferedFrag(n.currentTime+a);if(S){var A=this.followingBufferedFrag(S);if(A){var L=this.fragCurrent;L&&L.loader&&L.loader.abort(),this.fragCurrent=null;var j=Math.max(S.endPTS,A.maxStartPTS+Math.min(this.config.maxFragLookUpTolerance,A.duration));this.flushMainBuffer(j,Number.POSITIVE_INFINITY)}}}},l.flushMainBuffer=function(n,a){this.state=X.BUFFER_FLUSHING;var u={startOffset:n,endOffset:a};this.altAudio&&(u.type="video"),this.hls.trigger(g.default.BUFFER_FLUSHING,u)},l.onMediaAttached=function(n){var a=this.media=this.mediaBuffer=n.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),this.onvended=this.onMediaEnded.bind(this),a.addEventListener("seeking",this.onvseeking),a.addEventListener("seeked",this.onvseeked),a.addEventListener("ended",this.onvended);var u=this.config;this.levels&&u.autoStartLoad&&this.hls.startLoad(u.startPosition),this.gapController=new Sr(u,a,this.fragmentTracker,this.hls)},l.onMediaDetaching=function(){var n=this.media;n&&n.ended&&(E.logger.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var a=this.levels;a&&a.forEach(function(u){u.details&&u.details.fragments.forEach(function(d){d.backtracked=void 0})}),n&&(n.removeEventListener("seeking",this.onvseeking),n.removeEventListener("seeked",this.onvseeked),n.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.fragmentTracker.removeAllFragments(),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.stopLoad()},l.onMediaSeeked=function(){var n=this.media,a=n?n.currentTime:void 0;Object(T.isFiniteNumber)(a)&&E.logger.log("media seeked to "+a.toFixed(3)),this.tick()},l.onManifestLoading=function(){E.logger.log("trigger BUFFER_RESET"),this.hls.trigger(g.default.BUFFER_RESET),this.fragmentTracker.removeAllFragments(),this.stalled=!1,this.startPosition=this.lastCurrentTime=0},l.onManifestParsed=function(n){var a=!1,u=!1,d;n.levels.forEach(function(y){d=y.audioCodec,d&&(d.indexOf("mp4a.40.2")!==-1&&(a=!0),d.indexOf("mp4a.40.5")!==-1&&(u=!0))}),this.audioCodecSwitch=a&&u,this.audioCodecSwitch&&E.logger.log("both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.altAudio=n.altAudio,this.levels=n.levels,this.startFragRequested=!1;var v=this.config;(v.autoStartLoad||this.forceStartLoad)&&this.hls.startLoad(v.startPosition)},l.onLevelLoaded=function(n){var a=n.details,u=n.level,d=this.levels[this.levelLastLoaded],v=this.levels[u],y=a.totalduration,S=0;if(E.logger.log("level "+u+" loaded ["+a.startSN+","+a.endSN+"],duration:"+y),a.live||v.details&&v.details.live){var A=v.details;A&&a.fragments.length>0?(ve(A,a),S=a.fragments[0].start,this.liveSyncPosition=this.computeLivePosition(S,A),a.PTSKnown&&Object(T.isFiniteNumber)(S)?E.logger.log("live playlist sliding:"+S.toFixed(3)):(E.logger.log("live playlist - outdated PTS, unknown sliding"),We(this.fragPrevious,d,a))):(E.logger.log("live playlist - first load, unknown sliding"),a.PTSKnown=!1,We(this.fragPrevious,d,a))}else a.PTSKnown=!1;if(v.details=a,this.levelLastLoaded=u,this.hls.trigger(g.default.LEVEL_UPDATED,{details:a,level:u}),this.startFragRequested===!1){if(this.startPosition===-1||this.lastCurrentTime===-1){var L=a.startTimeOffset;Object(T.isFiniteNumber)(L)?(L<0&&(E.logger.log("negative start time offset "+L+", count from end of last fragment"),L=S+y+L),E.logger.log("start time offset found in playlist, adjust startPosition to "+L),this.startPosition=L):a.live?(this.startPosition=this.computeLivePosition(S,a),E.logger.log("configure startPosition to "+this.startPosition)):this.startPosition=0,this.lastCurrentTime=this.startPosition}this.nextLoadPosition=this.startPosition}this.state===X.WAITING_LEVEL&&(this.state=X.IDLE),this.tick()},l.onKeyLoaded=function(){this.state===X.KEY_LOADING&&(this.state=X.IDLE,this.tick())},l.onFragLoaded=function(n){var a=this.fragCurrent,u=this.hls,d=this.levels,v=this.media,y=n.frag;if(this.state===X.FRAG_LOADING&&a&&y.type==="main"&&y.level===a.level&&y.sn===a.sn){var S=n.stats,A=d[a.level],L=A.details;if(this.bitrateTest=!1,this.stats=S,E.logger.log("Loaded "+a.sn+" of ["+L.startSN+" ,"+L.endSN+"],level "+a.level),y.bitrateTest&&u.nextLoadLevel)this.state=X.IDLE,this.startFragRequested=!1,S.tparsed=S.tbuffered=window.performance.now(),u.trigger(g.default.FRAG_BUFFERED,{stats:S,frag:a,id:"main"}),this.tick();else if(y.sn==="initSegment")this.state=X.IDLE,S.tparsed=S.tbuffered=window.performance.now(),L.initSegment.data=n.payload,u.trigger(g.default.FRAG_BUFFERED,{stats:S,frag:a,id:"main"}),this.tick();else{E.logger.log("Parsing "+a.sn+" of ["+L.startSN+" ,"+L.endSN+"],level "+a.level+", cc "+a.cc),this.state=X.PARSING,this.pendingBuffering=!0,this.appended=!1,y.bitrateTest&&(y.bitrateTest=!1,this.fragmentTracker.onFragLoaded({frag:y}));var j=!(v&&v.seeking)&&(L.PTSKnown||!L.live),V=L.initSegment?L.initSegment.data:[],ee=this._getAudioCodec(A),ae=this.demuxer=this.demuxer||new ne(this.hls,"main");ae.push(n.payload,V,ee,A.videoCodec,a,L.totalduration,j)}}this.fragLoadError=0},l.onFragParsingInitSegment=function(n){var a=this.fragCurrent,u=n.frag;if(a&&n.id==="main"&&u.sn===a.sn&&u.level===a.level&&this.state===X.PARSING){var d=n.tracks,v,y;if(this.audioOnly=d.audio&&!d.video,this.altAudio&&!this.audioOnly&&delete d.audio,y=d.audio,y){var S=this.levels[this.level].audioCodec,A=navigator.userAgent.toLowerCase();S&&this.audioCodecSwap&&(E.logger.log("swapping playlist audio codec"),S.indexOf("mp4a.40.5")!==-1?S="mp4a.40.2":S="mp4a.40.5"),this.audioCodecSwitch&&y.metadata.channelCount!==1&&A.indexOf("firefox")===-1&&(S="mp4a.40.5"),A.indexOf("android")!==-1&&y.container!=="audio/mpeg"&&(S="mp4a.40.2",E.logger.log("Android: force audio codec to "+S)),y.levelCodec=S,y.id=n.id}y=d.video,y&&(y.levelCodec=this.levels[this.level].videoCodec,y.id=n.id),this.hls.trigger(g.default.BUFFER_CODECS,d);for(v in d){y=d[v],E.logger.log("main track:"+v+",container:"+y.container+",codecs[level/parsed]=["+y.levelCodec+"/"+y.codec+"]");var L=y.initSegment;L&&(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(g.default.BUFFER_APPENDING,{type:v,data:L,parent:"main",content:"initSegment"}))}this.tick()}},l.onFragParsingData=function(n){var a=this,u=this.fragCurrent,d=n.frag;if(u&&n.id==="main"&&d.sn===u.sn&&d.level===u.level&&!(n.type==="audio"&&this.altAudio)&&this.state===X.PARSING){var v=this.levels[this.level],y=u;if(Object(T.isFiniteNumber)(n.endPTS)||(n.endPTS=n.startPTS+u.duration,n.endDTS=n.startDTS+u.duration),n.hasAudio===!0&&y.addElementaryStream($.AUDIO),n.hasVideo===!0&&y.addElementaryStream($.VIDEO),E.logger.log("Parsed "+n.type+",PTS:["+n.startPTS.toFixed(3)+","+n.endPTS.toFixed(3)+"],DTS:["+n.startDTS.toFixed(3)+"/"+n.endDTS.toFixed(3)+"],nb:"+n.nb+",dropped:"+(n.dropped||0)),n.type==="video")if(y.dropped=n.dropped,y.dropped)if(y.backtracked)E.logger.warn("Already backtracked on this fragment, appending with the gap",y.sn);else{var S=v.details;if(S&&y.sn===S.startSN)E.logger.warn("missing video frame(s) on first frag, appending with gap",y.sn);else{E.logger.warn("missing video frame(s), backtracking fragment",y.sn),this.fragmentTracker.removeFragment(y),y.backtracked=!0,this.nextLoadPosition=n.startPTS,this.state=X.IDLE,this.fragPrevious=y,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.tick();return}}else y.backtracked=!1;var A=re(v.details,y,n.startPTS,n.endPTS,n.startDTS,n.endDTS),L=this.hls;L.trigger(g.default.LEVEL_PTS_UPDATED,{details:v.details,level:this.level,drift:A,type:n.type,start:n.startPTS,end:n.endPTS}),[n.data1,n.data2].forEach(function(j){j&&j.length&&a.state===X.PARSING&&(a.appended=!0,a.pendingBuffering=!0,L.trigger(g.default.BUFFER_APPENDING,{type:n.type,data:j,parent:"main",content:"data"}))}),this.tick()}},l.onFragParsed=function(n){var a=this.fragCurrent,u=n.frag;a&&n.id==="main"&&u.sn===a.sn&&u.level===a.level&&this.state===X.PARSING&&(this.stats.tparsed=window.performance.now(),this.state=X.PARSED,this._checkAppendedParsed())},l.onAudioTrackSwitching=function(n){var a=this.altAudio,u=!!n.url,d=n.id;if(!u){if(this.mediaBuffer!==this.media){E.logger.log("switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var v=this.fragCurrent;v.loader&&(E.logger.log("switching to main audio track, cancel main fragment load"),v.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=X.IDLE}var y=this.hls;a&&y.trigger(g.default.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),y.trigger(g.default.AUDIO_TRACK_SWITCHED,{id:d})}},l.onAudioTrackSwitched=function(n){var a=n.id,u=!!this.hls.audioTracks[a].url;if(u){var d=this.videoBuffer;d&&this.mediaBuffer!==d&&(E.logger.log("switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=d)}this.altAudio=u,this.tick()},l.onBufferCreated=function(n){var a=n.tracks,u,d,v=!1;for(var y in a){var S=a[y];S.id==="main"?(d=y,u=S,y==="video"&&(this.videoBuffer=a[y].buffer)):v=!0}v&&u?(E.logger.log("alternate track found, use "+d+".buffered to schedule main fragment loading"),this.mediaBuffer=u.buffer):this.mediaBuffer=this.media},l.onBufferAppended=function(n){if(n.parent==="main"){var a=this.state;(a===X.PARSING||a===X.PARSED)&&(this.pendingBuffering=n.pending>0,this._checkAppendedParsed())}},l._checkAppendedParsed=function(){if(this.state===X.PARSED&&(!this.appended||!this.pendingBuffering)){var n=this.fragCurrent;if(n){var a=this.mediaBuffer?this.mediaBuffer:this.media;E.logger.log("main buffered : "+Ce.toString(a.buffered)),this.fragPrevious=n;var u=this.stats;u.tbuffered=window.performance.now(),this.fragLastKbps=Math.round(8*u.total/(u.tbuffered-u.tfirst)),this.hls.trigger(g.default.FRAG_BUFFERED,{stats:u,frag:n,id:"main"}),this.state=X.IDLE}(this.loadedmetadata||this.startPosition<=0)&&this.tick()}},l.onError=function(n){var a=n.frag||this.fragCurrent;if(!(a&&a.type!=="main")){var u=!!this.media&&C.isBuffered(this.media,this.media.currentTime)&&C.isBuffered(this.media,this.media.currentTime+.5);switch(n.details){case m.ErrorDetails.FRAG_LOAD_ERROR:case m.ErrorDetails.FRAG_LOAD_TIMEOUT:case m.ErrorDetails.KEY_LOAD_ERROR:case m.ErrorDetails.KEY_LOAD_TIMEOUT:if(!n.fatal)if(this.fragLoadError+1<=this.config.fragLoadingMaxRetry){var d=Math.min(Math.pow(2,this.fragLoadError)*this.config.fragLoadingRetryDelay,this.config.fragLoadingMaxRetryTimeout);E.logger.warn("mediaController: frag loading failed, retry in "+d+" ms"),this.retryDate=window.performance.now()+d,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.fragLoadError++,this.state=X.FRAG_LOADING_WAITING_RETRY}else E.logger.error("mediaController: "+n.details+" reaches max retry, redispatch as fatal ..."),n.fatal=!0,this.state=X.ERROR;break;case m.ErrorDetails.LEVEL_LOAD_ERROR:case m.ErrorDetails.LEVEL_LOAD_TIMEOUT:this.state!==X.ERROR&&(n.fatal?(this.state=X.ERROR,E.logger.warn("streamController: "+n.details+",switch to "+this.state+" state ...")):!n.levelRetry&&this.state===X.WAITING_LEVEL&&(this.state=X.IDLE));break;case m.ErrorDetails.BUFFER_FULL_ERROR:n.parent==="main"&&(this.state===X.PARSING||this.state===X.PARSED)&&(u?(this._reduceMaxBufferLength(this.config.maxBufferLength),this.state=X.IDLE):(E.logger.warn("buffer full error also media.currentTime is not buffered, flush everything"),this.fragCurrent=null,this.flushMainBuffer(0,Number.POSITIVE_INFINITY)));break}}},l._reduceMaxBufferLength=function(n){var a=this.config;return a.maxMaxBufferLength>=n?(a.maxMaxBufferLength/=2,E.logger.warn("main:reduce max buffer length to "+a.maxMaxBufferLength+"s"),!0):!1},l._checkBuffer=function(){var n=this.media;if(!(!n||n.readyState===0)){var a=this.mediaBuffer?this.mediaBuffer:n,u=a.buffered;!this.loadedmetadata&&u.length?(this.loadedmetadata=!0,this._seekToStartPos()):this.immediateSwitch?this.immediateLevelSwitchEnd():this.gapController.poll(this.lastCurrentTime,u)}},l.onFragLoadEmergencyAborted=function(){this.state=X.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tick()},l.onBufferFlushed=function(){var n=this.mediaBuffer?this.mediaBuffer:this.media;if(n){var a=this.audioOnly?$.AUDIO:$.VIDEO;this.fragmentTracker.detectEvictedFragments(a,n.buffered)}this.state=X.IDLE,this.fragPrevious=null},l.onLevelsUpdated=function(n){this.levels=n.levels},l.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},l._seekToStartPos=function(){var n=this.media,a=n.currentTime,u=this.startPosition;if(a!==u&&u>=0){if(n.seeking){E.logger.log("could not seek to "+u+", already seeking at "+a);return}var d=n.buffered.length?n.buffered.start(0):0,v=d-u;v>0&&v<this.config.maxBufferHole&&(E.logger.log("adjusting start position by "+v+" to match buffer start"),u+=v,this.startPosition=u),E.logger.log("seek to target start position "+u+" from current time "+a+". ready state "+n.readyState),n.currentTime=u}},l._getAudioCodec=function(n){var a=this.config.defaultAudioCodec||n.audioCodec;return this.audioCodecSwap&&(E.logger.log("swapping playlist audio codec"),a&&(a.indexOf("mp4a.40.5")!==-1?a="mp4a.40.2":a="mp4a.40.5")),a},Pn(c,[{key:"state",set:function(n){if(this.state!==n){var a=this.state;this._state=n,E.logger.log("main stream-controller: "+a+"->"+n),this.hls.trigger(g.default.STREAM_STATE_TRANSITION,{previousState:a,nextState:n})}},get:function(){return this._state}},{key:"currentLevel",get:function(){var n=this.media;if(n){var a=this.getBufferedFrag(n.currentTime);if(a)return a.level}return-1}},{key:"nextBufferedFrag",get:function(){var n=this.media;return n?this.followingBufferedFrag(this.getBufferedFrag(n.currentTime)):null}},{key:"nextLevel",get:function(){var n=this.nextBufferedFrag;return n?n.level:-1}},{key:"liveSyncPosition",get:function(){return this._liveSyncPosition},set:function(n){this._liveSyncPosition=n}}]),c}(Ut),ba=vs;function ms(h,c){for(var l=0;l<c.length;l++){var o=c[l];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(h,o.key,o)}}function Ci(h,c,l){return c&&ms(h.prototype,c),h}function Ma(h,c){h.prototype=Object.create(c.prototype),h.prototype.constructor=h,h.__proto__=c}var kn,ys=function(h){Ma(c,h);function c(o){var n;return n=h.call(this,o,g.default.MANIFEST_LOADED,g.default.LEVEL_LOADED,g.default.AUDIO_TRACK_SWITCHED,g.default.FRAG_LOADED,g.default.ERROR)||this,n.canload=!1,n.currentLevelIndex=null,n.manualLevelIndex=-1,n.timer=null,kn=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),n}var l=c.prototype;return l.onHandlerDestroying=function(){this.clearTimer(),this.manualLevelIndex=-1},l.clearTimer=function(){this.timer!==null&&(clearTimeout(this.timer),this.timer=null)},l.startLoad=function(){var n=this._levels;this.canload=!0,this.levelRetryCount=0,n&&n.forEach(function(a){a.loadError=0;var u=a.details;u&&u.live&&(a.details=void 0)}),this.timer!==null&&this.loadLevel()},l.stopLoad=function(){this.canload=!1},l.onManifestLoaded=function(n){var a=[],u=[],d,v={},y=null,S=!1,A=!1;if(n.levels.forEach(function(V){var ee=V.attrs;V.loadError=0,V.fragmentError=!1,S=S||!!V.videoCodec,A=A||!!V.audioCodec,kn&&V.audioCodec&&V.audioCodec.indexOf("mp4a.40.34")!==-1&&(V.audioCodec=void 0),y=v[V.bitrate],y?y.url.push(V.url):(V.url=[V.url],V.urlId=0,v[V.bitrate]=V,a.push(V)),ee&&(ee.AUDIO&&te(y||V,"audio",ee.AUDIO),ee.SUBTITLES&&te(y||V,"text",ee.SUBTITLES))}),S&&A&&(a=a.filter(function(V){var ee=V.videoCodec;return!!ee})),a=a.filter(function(V){var ee=V.audioCodec,ae=V.videoCodec;return(!ee||Ke(ee,"audio"))&&(!ae||Ke(ae,"video"))}),n.audioTracks&&(u=n.audioTracks.filter(function(V){return!V.audioCodec||Ke(V.audioCodec,"audio")}),u.forEach(function(V,ee){V.id=ee})),a.length>0){d=a[0].bitrate,a.sort(function(V,ee){return V.bitrate-ee.bitrate}),this._levels=a;for(var L=0;L<a.length;L++)if(a[L].bitrate===d){this._firstLevel=L,E.logger.log("manifest loaded,"+a.length+" level(s) found, first bitrate:"+d);break}var j=A&&!S;this.hls.trigger(g.default.MANIFEST_PARSED,{levels:a,audioTracks:u,firstLevel:this._firstLevel,stats:n.stats,audio:A,video:S,altAudio:!j&&u.some(function(V){return!!V.url})})}else this.hls.trigger(g.default.ERROR,{type:m.ErrorTypes.MEDIA_ERROR,details:m.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:this.hls.url,reason:"no level with compatible codecs found in manifest"})},l.setLevelInternal=function(n){var a=this._levels,u=this.hls;if(n>=0&&n<a.length){if(this.clearTimer(),this.currentLevelIndex!==n){E.logger.log("switching to level "+n),this.currentLevelIndex=n;var d=a[n];d.level=n,u.trigger(g.default.LEVEL_SWITCHING,d)}var v=a[n],y=v.details;if(!y||y.live){var S=v.urlId;u.trigger(g.default.LEVEL_LOADING,{url:v.url[S],level:n,id:S})}}else u.trigger(g.default.ERROR,{type:m.ErrorTypes.OTHER_ERROR,details:m.ErrorDetails.LEVEL_SWITCH_ERROR,level:n,fatal:!1,reason:"invalid level idx"})},l.onError=function(n){if(n.fatal){n.type===m.ErrorTypes.NETWORK_ERROR&&this.clearTimer();return}var a=!1,u=!1,d;switch(n.details){case m.ErrorDetails.FRAG_LOAD_ERROR:case m.ErrorDetails.FRAG_LOAD_TIMEOUT:case m.ErrorDetails.KEY_LOAD_ERROR:case m.ErrorDetails.KEY_LOAD_TIMEOUT:d=n.frag.level,u=!0;break;case m.ErrorDetails.LEVEL_LOAD_ERROR:case m.ErrorDetails.LEVEL_LOAD_TIMEOUT:d=n.context.level,a=!0;break;case m.ErrorDetails.REMUX_ALLOC_ERROR:d=n.level,a=!0;break}d!==void 0&&this.recoverLevel(n,d,a,u)},l.recoverLevel=function(n,a,u,d){var v=this,y=this.hls.config,S=n.details,A=this._levels[a],L,j,V;if(A.loadError++,A.fragmentError=d,u)if(this.levelRetryCount+1<=y.levelLoadingMaxRetry)j=Math.min(Math.pow(2,this.levelRetryCount)*y.levelLoadingRetryDelay,y.levelLoadingMaxRetryTimeout),this.timer=setTimeout(function(){return v.loadLevel()},j),n.levelRetry=!0,this.levelRetryCount++,E.logger.warn("level controller, "+S+", retry in "+j+" ms, current retry count is "+this.levelRetryCount);else{E.logger.error("level controller, cannot recover from "+S+" error"),this.currentLevelIndex=null,this.clearTimer(),n.fatal=!0;return}(u||d)&&(L=A.url.length,L>1&&A.loadError<L?(A.urlId=(A.urlId+1)%L,A.details=void 0,E.logger.warn("level controller, "+S+" for level "+a+": switching to redundant URL-id "+A.urlId)):this.manualLevelIndex===-1?(V=a===0?this._levels.length-1:a-1,E.logger.warn("level controller, "+S+": switch to "+V),this.hls.nextAutoLevel=this.currentLevelIndex=V):d&&(E.logger.warn("level controller, "+S+": reload a fragment"),this.currentLevelIndex=null))},l.onFragLoaded=function(n){var a=n.frag;if(a!==void 0&&a.type==="main"){var u=this._levels[a.level];u!==void 0&&(u.fragmentError=!1,u.loadError=0,this.levelRetryCount=0)}},l.onLevelLoaded=function(n){var a=this,u=n.level,d=n.details;if(u===this.currentLevelIndex){var v=this._levels[u];if(v.fragmentError||(v.loadError=0,this.levelRetryCount=0),d.live){var y=_e(v.details,d,n.stats.trequest);E.logger.log("live playlist, reload in "+Math.round(y)+" ms"),this.timer=setTimeout(function(){return a.loadLevel()},y)}else this.clearTimer()}},l.onAudioTrackSwitched=function(n){var a=this.hls.audioTracks[n.id].groupId,u=this.hls.levels[this.currentLevelIndex];if(u&&u.audioGroupIds){for(var d=-1,v=0;v<u.audioGroupIds.length;v++)if(u.audioGroupIds[v]===a){d=v;break}d!==u.urlId&&(u.urlId=d,this.startLoad())}},l.loadLevel=function(){if(E.logger.debug("call to loadLevel"),this.currentLevelIndex!==null&&this.canload){var n=this._levels[this.currentLevelIndex];if(typeof n=="object"&&n.url.length>0){var a=this.currentLevelIndex,u=n.urlId,d=n.url[u];E.logger.log("Attempt loading level index "+a+" with URL-id "+u),this.hls.trigger(g.default.LEVEL_LOADING,{url:d,level:a,id:u})}}},l.removeLevel=function(n,a){var u=this.levels.filter(function(d,v){return v!==n?!0:d.url.length>1&&a!==void 0?(d.url=d.url.filter(function(y,S){return S!==a}),d.urlId=0,!0):!1}).map(function(d,v){var y=d.details;return y&&y.fragments&&y.fragments.forEach(function(S){S.level=v}),d});this._levels=u,this.hls.trigger(g.default.LEVELS_UPDATED,{levels:u})},Ci(c,[{key:"levels",get:function(){return this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(n){var a=this._levels;a&&(n=Math.min(n,a.length-1),(this.currentLevelIndex!==n||!a[n].details)&&this.setLevelInternal(n))}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(n){this.manualLevelIndex=n,this._startLevel===void 0&&(this._startLevel=n),n!==-1&&(this.level=n)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(n){this._firstLevel=n}},{key:"startLevel",get:function(){if(this._startLevel===void 0){var n=this.hls.config.startLevel;return n!==void 0?n:this._firstLevel}else return this._startLevel},set:function(n){this._startLevel=n}},{key:"nextLoadLevel",get:function(){return this.manualLevelIndex!==-1?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(n){this.level=n,this.manualLevelIndex===-1&&(this.hls.nextAutoLevel=n)}}]),c}(k),Ii=s("./src/demux/id3.js");function Wn(h,c){var l;try{l=new Event("addtrack")}catch{l=document.createEvent("Event"),l.initEvent("addtrack",!1,!1)}l.track=h,c.dispatchEvent(l)}function Dn(h){if(h!=null&&h.cues)for(;h.cues.length>0;)h.removeCue(h.cues[0])}function Na(h,c){if(c<h[0].endTime)return h[0];if(c>h[h.length-1].endTime)return h[h.length-1];for(var l=0,o=h.length-1;l<=o;){var n=Math.floor((o+l)/2);if(c<h[n].endTime)o=n-1;else if(c>h[n].endTime)l=n+1;else return h[n]}return h[l].endTime-c<c-h[o].endTime?h[l]:h[o]}function Ua(h,c){h.prototype=Object.create(c.prototype),h.prototype.constructor=h,h.__proto__=c}var $n=.25,Fi=function(h){Ua(c,h);function c(o){var n;return n=h.call(this,o,g.default.MEDIA_ATTACHED,g.default.MEDIA_DETACHING,g.default.FRAG_PARSING_METADATA,g.default.LIVE_BACK_BUFFER_REACHED)||this,n.id3Track=void 0,n.media=void 0,n}var l=c.prototype;return l.destroy=function(){k.prototype.destroy.call(this)},l.onMediaAttached=function(n){this.media=n.media,this.media},l.onMediaDetaching=function(){Dn(this.id3Track),this.id3Track=void 0,this.media=void 0},l.getID3Track=function(n){for(var a=0;a<n.length;a++){var u=n[a];if(u.kind==="metadata"&&u.label==="id3")return Wn(u,this.media),u}return this.media.addTextTrack("metadata","id3")},l.onFragParsingMetadata=function(n){var a=n.frag,u=n.samples;this.id3Track||(this.id3Track=this.getID3Track(this.media.textTracks),this.id3Track.mode="hidden");for(var d=window.WebKitDataCue||window.VTTCue||window.TextTrackCue,v=0;v<u.length;v++){var y=Ii.default.getID3Frames(u[v].data);if(y){var S=Math.max(u[v].pts,0),A=v<u.length-1?u[v+1].pts:a.endPTS;A||(A=a.start+a.duration);var L=A-S;L<=0&&(A=S+$n);for(var j=0;j<y.length;j++){var V=y[j];if(!Ii.default.isTimeStampFrame(V)){var ee=new d(S,A,"");ee.value=V,this.id3Track.addCue(ee)}}}}},l.onLiveBackBufferReached=function(n){var a=n.bufferEnd,u=this.id3Track;if(!(!u||!u.cues||!u.cues.length)){var d=Na(u.cues,a);if(d)for(;u.cues[0]!==d;)u.removeCue(u.cues[0])}},c}(k),xs=Fi;function Es(){var h=M();if(!h)return!1;var c=self.SourceBuffer||self.WebKitSourceBuffer,l=h&&typeof h.isTypeSupported=="function"&&h.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),o=!c||c.prototype&&typeof c.prototype.appendBuffer=="function"&&typeof c.prototype.remove=="function";return!!l&&!!o}var Xp=function(){function h(l){this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.alpha_=l?Math.exp(Math.log(.5)/l):0,this.estimate_=0,this.totalWeight_=0}var c=h.prototype;return c.sample=function(o,n){var a=Math.pow(this.alpha_,o);this.estimate_=n*(1-a)+a*this.estimate_,this.totalWeight_+=o},c.getTotalWeight=function(){return this.totalWeight_},c.getEstimate=function(){if(this.alpha_){var o=1-Math.pow(this.alpha_,this.totalWeight_);return this.estimate_/o}else return this.estimate_},h}(),tf=Xp,Qp=function(){function h(l,o,n,a){this.hls=void 0,this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.hls=l,this.defaultEstimate_=a,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new tf(o),this.fast_=new tf(n)}var c=h.prototype;return c.sample=function(o,n){o=Math.max(o,this.minDelayMs_);var a=8*n,u=o/1e3,d=a/u;this.fast_.sample(u,d),this.slow_.sample(u,d)},c.canEstimate=function(){var o=this.fast_;return o&&o.getTotalWeight()>=this.minWeight_},c.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},c.destroy=function(){},h}(),qp=Qp;function Zp(h,c){for(var l=0;l<c.length;l++){var o=c[l];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(h,o.key,o)}}function Jp(h,c,l){return c&&Zp(h.prototype,c),h}function e0(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function t0(h,c){h.prototype=Object.create(c.prototype),h.prototype.constructor=h,h.__proto__=c}var r0=window,n0=r0.performance,i0=function(h){t0(c,h);function c(o){var n;return n=h.call(this,o,g.default.FRAG_LOADING,g.default.FRAG_LOADED,g.default.FRAG_BUFFERED,g.default.ERROR)||this,n.lastLoadedFragLevel=0,n._nextAutoLevel=-1,n.hls=o,n.timer=null,n._bwEstimator=null,n.onCheck=n._abandonRulesCheck.bind(e0(n)),n}var l=c.prototype;return l.destroy=function(){this.clearTimer(),k.prototype.destroy.call(this)},l.onFragLoading=function(n){var a=n.frag;if(a.type==="main"&&(this.timer||(this.fragCurrent=a,this.timer=setInterval(this.onCheck,100)),!this._bwEstimator)){var u=this.hls,d=u.config,v=a.level,y=u.levels[v].details.live,S,A;y?(S=d.abrEwmaFastLive,A=d.abrEwmaSlowLive):(S=d.abrEwmaFastVoD,A=d.abrEwmaSlowVoD),this._bwEstimator=new qp(u,A,S,d.abrEwmaDefaultEstimate)}},l._abandonRulesCheck=function(){var n=this.hls,a=n.media,u=this.fragCurrent;if(u){var d=u.loader;if(!d||d.stats&&d.stats.aborted){E.logger.warn("frag loader destroy or aborted, disarm abandonRules"),this.clearTimer(),this._nextAutoLevel=-1;return}var v=d.stats;if(a&&v&&(!a.paused&&a.playbackRate!==0||!a.readyState)&&u.autoLevel&&u.level){var y=n0.now()-v.trequest,S=Math.abs(a.playbackRate);if(y>500*u.duration/S){var A=n.levels,L=Math.max(1,v.bw?v.bw/8:v.loaded*1e3/y),j=A[u.level];if(!j)return;var V=j.realBitrate?Math.max(j.realBitrate,j.bitrate):j.bitrate,ee=v.total?v.total:Math.max(v.loaded,Math.round(u.duration*V/8)),ae=a.currentTime,he=(ee-v.loaded)/L,fe=(C.bufferInfo(a,ae,n.config.maxBufferHole).end-ae)/S;if(fe<2*u.duration/S&&he>fe){var xe=n.minAutoLevel,Ee,Oe;for(Oe=u.level-1;Oe>xe;Oe--){var et=A[Oe].realBitrate?Math.max(A[Oe].realBitrate,A[Oe].bitrate):A[Oe].bitrate,nr=u.duration*et/(8*.8*L);if(nr<fe)break}Ee<he&&(E.logger.warn("loading too slow, abort fragment loading and switch to level "+Oe+":fragLoadedDelay["+Oe+"]<fragLoadedDelay["+(u.level-1)+"];bufferStarvationDelay:"+Ee.toFixed(1)+"<"+he.toFixed(1)+":"+fe.toFixed(1)),n.nextLoadLevel=Oe,this._bwEstimator.sample(y,v.loaded),d.abort(),this.clearTimer(),n.trigger(g.default.FRAG_LOAD_EMERGENCY_ABORTED,{frag:u,stats:v}))}}}}},l.onFragLoaded=function(n){var a=n.frag;if(a.type==="main"&&Object(T.isFiniteNumber)(a.sn)){if(this.clearTimer(),this.lastLoadedFragLevel=a.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var u=this.hls.levels[a.level],d=(u.loaded?u.loaded.bytes:0)+n.stats.loaded,v=(u.loaded?u.loaded.duration:0)+n.frag.duration;u.loaded={bytes:d,duration:v},u.realBitrate=Math.round(8*d/v)}if(n.frag.bitrateTest){var y=n.stats;y.tparsed=y.tbuffered=y.tload,this.onFragBuffered(n)}}},l.onFragBuffered=function(n){var a=n.stats,u=n.frag;if(a.aborted!==!0&&u.type==="main"&&Object(T.isFiniteNumber)(u.sn)&&(!u.bitrateTest||a.tload===a.tbuffered)){var d=a.tparsed-a.trequest;E.logger.log("latency/loading/parsing/append/kbps:"+Math.round(a.tfirst-a.trequest)+"/"+Math.round(a.tload-a.tfirst)+"/"+Math.round(a.tparsed-a.tload)+"/"+Math.round(a.tbuffered-a.tparsed)+"/"+Math.round(8*a.loaded/(a.tbuffered-a.trequest))),this._bwEstimator.sample(d,a.loaded),a.bwEstimate=this._bwEstimator.getEstimate(),u.bitrateTest?this.bitrateTestDelay=d/1e3:this.bitrateTestDelay=0}},l.onError=function(n){switch(n.details){case m.ErrorDetails.FRAG_LOAD_ERROR:case m.ErrorDetails.FRAG_LOAD_TIMEOUT:this.clearTimer();break}},l.clearTimer=function(){clearInterval(this.timer),this.timer=null},l._findBestLevel=function(n,a,u,d,v,y,S,A,L){for(var j=v;j>=d;j--){var V=L[j];if(V){var ee=V.details,ae=ee?ee.totalduration/ee.fragments.length:a,he=ee?ee.live:!1,fe=void 0;j<=n?fe=S*u:fe=A*u;var xe=L[j].realBitrate?Math.max(L[j].realBitrate,L[j].bitrate):L[j].bitrate,Ee=xe*ae/fe;if(E.logger.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+j+"/"+Math.round(fe)+"/"+xe+"/"+ae+"/"+y+"/"+Ee),fe>xe&&(!Ee||he&&!this.bitrateTestDelay||Ee<y))return j}}return-1},Jp(c,[{key:"nextAutoLevel",get:function(){var n=this._nextAutoLevel,a=this._bwEstimator;if(n!==-1&&(!a||!a.canEstimate()))return n;var u=this._nextABRAutoLevel;return n!==-1&&(u=Math.min(n,u)),u},set:function(n){this._nextAutoLevel=n}},{key:"_nextABRAutoLevel",get:function(){var n=this.hls,a=n.maxAutoLevel,u=n.levels,d=n.config,v=n.minAutoLevel,y=n.media,S=this.lastLoadedFragLevel,A=this.fragCurrent?this.fragCurrent.duration:0,L=y?y.currentTime:0,j=y&&y.playbackRate!==0?Math.abs(y.playbackRate):1,V=this._bwEstimator?this._bwEstimator.getEstimate():d.abrEwmaDefaultEstimate,ee=(C.bufferInfo(y,L,d.maxBufferHole).end-L)/j,ae=this._findBestLevel(S,A,V,v,a,ee,d.abrBandWidthFactor,d.abrBandWidthUpFactor,u);if(ae>=0)return ae;E.logger.trace("rebuffering expected to happen, lets try to find a quality level minimizing the rebuffering");var he=A?Math.min(A,d.maxStarvationDelay):d.maxStarvationDelay,fe=d.abrBandWidthFactor,xe=d.abrBandWidthUpFactor;if(ee===0){var Ee=this.bitrateTestDelay;if(Ee){var Oe=A?Math.min(A,d.maxLoadingDelay):d.maxLoadingDelay;he=Oe-Ee,E.logger.trace("bitrate test took "+Math.round(1e3*Ee)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*he)+" ms"),fe=xe=1}}return ae=this._findBestLevel(S,A,V,v,a,ee+he,fe,xe,u),Math.max(ae,0)}}]),c}(k),a0=i0;function o0(h,c){h.prototype=Object.create(c.prototype),h.prototype.constructor=h,h.__proto__=c}var rf=M(),s0=function(h){o0(c,h);function c(o){var n;return n=h.call(this,o,g.default.MEDIA_ATTACHING,g.default.MEDIA_DETACHING,g.default.MANIFEST_PARSED,g.default.BUFFER_RESET,g.default.BUFFER_APPENDING,g.default.BUFFER_CODECS,g.default.BUFFER_EOS,g.default.BUFFER_FLUSHING,g.default.LEVEL_PTS_UPDATED,g.default.LEVEL_UPDATED)||this,n._msDuration=null,n._levelDuration=null,n._levelTargetDuration=10,n._live=null,n._objectUrl=null,n._needsFlush=!1,n._needsEos=!1,n.config=void 0,n.audioTimestampOffset=void 0,n.bufferCodecEventsExpected=0,n._bufferCodecEventsTotal=0,n.media=null,n.mediaSource=null,n.segments=[],n.parent=void 0,n.appending=!1,n.appended=0,n.appendError=0,n.flushBufferCounter=0,n.tracks={},n.pendingTracks={},n.sourceBuffer={},n.flushRange=[],n._onMediaSourceOpen=function(){E.logger.log("media source opened"),n.hls.trigger(g.default.MEDIA_ATTACHED,{media:n.media});var a=n.mediaSource;a&&a.removeEventListener("sourceopen",n._onMediaSourceOpen),n.checkPendingTracks()},n._onMediaSourceClose=function(){E.logger.log("media source closed")},n._onMediaSourceEnded=function(){E.logger.log("media source ended")},n._onSBUpdateEnd=function(){if(n.audioTimestampOffset&&n.sourceBuffer.audio){var a=n.sourceBuffer.audio;E.logger.warn("change mpeg audio timestamp offset from "+a.timestampOffset+" to "+n.audioTimestampOffset),a.timestampOffset=n.audioTimestampOffset,delete n.audioTimestampOffset}n._needsFlush&&n.doFlush(),n._needsEos&&n.checkEos(),n.appending=!1;var u=n.parent,d=n.segments.reduce(function(L,j){return j.parent===u?L+1:L},0),v={},y=n.sourceBuffer;for(var S in y){var A=y[S];if(!A)throw Error("handling source buffer update end error: source buffer for "+S+" uninitilized and unable to update buffered TimeRanges.");v[S]=A.buffered}n.hls.trigger(g.default.BUFFER_APPENDED,{parent:u,pending:d,timeRanges:v}),n._needsFlush||n.doAppending(),n.updateMediaElementDuration(),d===0&&n.flushLiveBackBuffer()},n._onSBUpdateError=function(a){E.logger.error("sourceBuffer error:",a),n.hls.trigger(g.default.ERROR,{type:m.ErrorTypes.MEDIA_ERROR,details:m.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1})},n.config=o.config,n}var l=c.prototype;return l.destroy=function(){k.prototype.destroy.call(this)},l.onLevelPtsUpdated=function(n){var a=n.type,u=this.tracks.audio;if(a==="audio"&&u&&u.container==="audio/mpeg"){var d=this.sourceBuffer.audio;if(!d)throw Error("Level PTS Updated and source buffer for audio uninitalized");var v=Math.abs(d.timestampOffset-n.start);if(v>.1){var y=d.updating;try{d.abort()}catch(S){E.logger.warn("can not abort audio buffer: "+S)}y?this.audioTimestampOffset=n.start:(E.logger.warn("change mpeg audio timestamp offset from "+d.timestampOffset+" to "+n.start),d.timestampOffset=n.start)}}},l.onManifestParsed=function(n){var a=2;(n.audio&&!n.video||!n.altAudio)&&(a=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=a,E.logger.log(this.bufferCodecEventsExpected+" bufferCodec event(s) expected")},l.onMediaAttaching=function(n){var a=this.media=n.media;if(a&&rf){var u=this.mediaSource=new rf;u.addEventListener("sourceopen",this._onMediaSourceOpen),u.addEventListener("sourceended",this._onMediaSourceEnded),u.addEventListener("sourceclose",this._onMediaSourceClose),a.src=window.URL.createObjectURL(u),this._objectUrl=a.src}},l.onMediaDetaching=function(){E.logger.log("media source detaching");var n=this.mediaSource;if(n){if(n.readyState==="open")try{n.endOfStream()}catch(a){E.logger.warn("onMediaDetaching:"+a.message+" while calling endOfStream")}n.removeEventListener("sourceopen",this._onMediaSourceOpen),n.removeEventListener("sourceended",this._onMediaSourceEnded),n.removeEventListener("sourceclose",this._onMediaSourceClose),this.media&&(this._objectUrl&&window.URL.revokeObjectURL(this._objectUrl),this.media.src===this._objectUrl?(this.media.removeAttribute("src"),this.media.load()):E.logger.warn("media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={},this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0}this.hls.trigger(g.default.MEDIA_DETACHED)},l.checkPendingTracks=function(){var n=this.bufferCodecEventsExpected,a=this.pendingTracks,u=Object.keys(a).length;(u&&!n||u===2)&&(this.createSourceBuffers(a),this.pendingTracks={},this.doAppending())},l.onBufferReset=function(){var n=this.sourceBuffer;for(var a in n){var u=n[a];try{u&&(this.mediaSource&&this.mediaSource.removeSourceBuffer(u),u.removeEventListener("updateend",this._onSBUpdateEnd),u.removeEventListener("error",this._onSBUpdateError))}catch{}}this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0},l.onBufferCodecs=function(n){var a=this;Object.keys(this.sourceBuffer).length||(Object.keys(n).forEach(function(u){a.pendingTracks[u]=n[u]}),this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&this.mediaSource.readyState==="open"&&this.checkPendingTracks())},l.createSourceBuffers=function(n){var a=this.sourceBuffer,u=this.mediaSource;if(!u)throw Error("createSourceBuffers called when mediaSource was null");for(var d in n)if(!a[d]){var v=n[d];if(!v)throw Error("source buffer exists for track "+d+", however track does not");var y=v.levelCodec||v.codec,S=v.container+";codecs="+y;E.logger.log("creating sourceBuffer("+S+")");try{var A=a[d]=u.addSourceBuffer(S);A.addEventListener("updateend",this._onSBUpdateEnd),A.addEventListener("error",this._onSBUpdateError),this.tracks[d]={buffer:A,codec:y,id:v.id,container:v.container,levelCodec:v.levelCodec}}catch(L){E.logger.error("error while trying to add sourceBuffer:"+L.message),this.hls.trigger(g.default.ERROR,{type:m.ErrorTypes.MEDIA_ERROR,details:m.ErrorDetails.BUFFER_ADD_CODEC_ERROR,fatal:!1,err:L,mimeType:S})}}this.hls.trigger(g.default.BUFFER_CREATED,{tracks:this.tracks})},l.onBufferAppending=function(n){this._needsFlush||(this.segments?this.segments.push(n):this.segments=[n],this.doAppending())},l.onBufferEos=function(n){for(var a in this.sourceBuffer)if(!n.type||n.type===a){var u=this.sourceBuffer[a];u&&!u.ended&&(u.ended=!0,E.logger.log(a+" sourceBuffer now EOS"))}this.checkEos()},l.checkEos=function(){var n=this.sourceBuffer,a=this.mediaSource;if(!a||a.readyState!=="open"){this._needsEos=!1;return}for(var u in n){var d=n[u];if(d){if(!d.ended)return;if(d.updating){this._needsEos=!0;return}}}E.logger.log("all media data are available, signal endOfStream() to MediaSource and stop loading fragment");try{a.endOfStream()}catch{E.logger.warn("exception while calling mediaSource.endOfStream()")}this._needsEos=!1},l.onBufferFlushing=function(n){n.type?this.flushRange.push({start:n.startOffset,end:n.endOffset,type:n.type}):(this.flushRange.push({start:n.startOffset,end:n.endOffset,type:"video"}),this.flushRange.push({start:n.startOffset,end:n.endOffset,type:"audio"})),this.flushBufferCounter=0,this.doFlush()},l.flushLiveBackBuffer=function(){if(this._live){var n=this.config.liveBackBufferLength;if(!(!isFinite(n)||n<0)){if(!this.media){E.logger.error("flushLiveBackBuffer called without attaching media");return}for(var a=this.media.currentTime,u=this.sourceBuffer,d=Object.keys(u),v=a-Math.max(n,this._levelTargetDuration),y=d.length-1;y>=0;y--){var S=d[y],A=u[S];if(A){var L=A.buffered;L.length>0&&v>L.start(0)&&this.removeBufferRange(S,A,0,v)&&this.hls.trigger(g.default.LIVE_BACK_BUFFER_REACHED,{bufferEnd:v})}}}}},l.onLevelUpdated=function(n){var a=n.details;a.fragments.length>0&&(this._levelDuration=a.totalduration+a.fragments[0].start,this._levelTargetDuration=a.averagetargetduration||a.targetduration||10,this._live=a.live,this.updateMediaElementDuration())},l.updateMediaElementDuration=function(){var n=this.config,a;if(!(this._levelDuration===null||!this.media||!this.mediaSource||!this.sourceBuffer||this.media.readyState===0||this.mediaSource.readyState!=="open")){for(var u in this.sourceBuffer){var d=this.sourceBuffer[u];if(d&&d.updating===!0)return}a=this.media.duration,this._msDuration===null&&(this._msDuration=this.mediaSource.duration),this._live===!0&&n.liveDurationInfinity===!0?(E.logger.log("Media Source duration is set to Infinity"),this._msDuration=this.mediaSource.duration=1/0):(this._levelDuration>this._msDuration&&this._levelDuration>a||!Object(T.isFiniteNumber)(a))&&(E.logger.log("Updating Media Source duration to "+this._levelDuration.toFixed(3)),this._msDuration=this.mediaSource.duration=this._levelDuration)}},l.doFlush=function(){for(;this.flushRange.length;){var n=this.flushRange[0];if(this.flushBuffer(n.start,n.end,n.type))this.flushRange.shift(),this.flushBufferCounter=0;else{this._needsFlush=!0;return}}if(this.flushRange.length===0){this._needsFlush=!1;var a=0,u=this.sourceBuffer;try{for(var d in u){var v=u[d];v&&(a+=v.buffered.length)}}catch{E.logger.error("error while accessing sourceBuffer.buffered")}this.appended=a,this.hls.trigger(g.default.BUFFER_FLUSHED)}},l.doAppending=function(){var n=this.config,a=this.hls,u=this.segments,d=this.sourceBuffer;if(Object.keys(d).length){if(!this.media||this.media.error){this.segments=[],E.logger.error("trying to append although a media error occured, flush segment and abort");return}if(!this.appending){var v=u.shift();if(v)try{var y=d[v.type];if(!y){this._onSBUpdateEnd();return}if(y.updating){u.unshift(v);return}y.ended=!1,this.parent=v.parent,y.appendBuffer(v.data),this.appendError=0,this.appended++,this.appending=!0}catch(A){E.logger.error("error while trying to append buffer:"+A.message),u.unshift(v);var S={type:m.ErrorTypes.MEDIA_ERROR,parent:v.parent,details:"",fatal:!1};A.code===22?(this.segments=[],S.details=m.ErrorDetails.BUFFER_FULL_ERROR):(this.appendError++,S.details=m.ErrorDetails.BUFFER_APPEND_ERROR,this.appendError>n.appendErrorMaxRetry&&(E.logger.log("fail "+n.appendErrorMaxRetry+" times to append segment in sourceBuffer"),this.segments=[],S.fatal=!0)),a.trigger(g.default.ERROR,S)}}}},l.flushBuffer=function(n,a,u){var d=this.sourceBuffer;if(!Object.keys(d).length)return!0;var v="null";if(this.media&&(v=this.media.currentTime.toFixed(3)),E.logger.log("flushBuffer,pos/start/end: "+v+"/"+n+"/"+a),this.flushBufferCounter>=this.appended)return E.logger.warn("abort flushing too many retries"),!0;var y=d[u];if(y){if(y.ended=!1,y.updating)return E.logger.warn("cannot flush, sb updating in progress"),!1;if(this.removeBufferRange(u,y,n,a))return this.flushBufferCounter++,!1}return E.logger.log("buffer flushed"),!0},l.removeBufferRange=function(n,a,u,d){try{for(var v=0;v<a.buffered.length;v++){var y=a.buffered.start(v),S=a.buffered.end(v),A=Math.max(y,u),L=Math.min(S,d);if(Math.min(L,S)-A>.5){var j="null";return this.media&&(j=this.media.currentTime.toString()),E.logger.log("sb remove "+n+" ["+A+","+L+"], of ["+y+","+S+"], pos:"+j),a.remove(A,L),!0}}}catch(V){E.logger.warn("removeBufferRange failed",V)}return!1},c}(k),l0=s0;function nf(h,c){for(var l=0;l<c.length;l++){var o=c[l];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(h,o.key,o)}}function u0(h,c,l){return c&&nf(h.prototype,c),l&&nf(h,l),h}function f0(h,c){h.prototype=Object.create(c.prototype),h.prototype.constructor=h,h.__proto__=c}var c0=function(h){f0(c,h);function c(o){var n;return n=h.call(this,o,g.default.FPS_DROP_LEVEL_CAPPING,g.default.MEDIA_ATTACHING,g.default.MANIFEST_PARSED,g.default.LEVELS_UPDATED,g.default.BUFFER_CODECS,g.default.MEDIA_DETACHING)||this,n.autoLevelCapping=Number.POSITIVE_INFINITY,n.firstLevel=null,n.levels=[],n.media=null,n.restrictedLevels=[],n.timer=null,n.clientRect=null,n}var l=c.prototype;return l.destroy=function(){this.hls.config.capLevelToPlayerSize&&(this.media=null,this.clientRect=null,this.stopCapping())},l.onFpsDropLevelCapping=function(n){c.isLevelAllowed(n.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(n.droppedLevel)},l.onMediaAttaching=function(n){this.media=n.media instanceof window.HTMLVideoElement?n.media:null},l.onManifestParsed=function(n){var a=this.hls;this.restrictedLevels=[],this.levels=n.levels,this.firstLevel=n.firstLevel,a.config.capLevelToPlayerSize&&n.video&&this.startCapping()},l.onBufferCodecs=function(n){var a=this.hls;a.config.capLevelToPlayerSize&&n.video&&this.startCapping()},l.onLevelsUpdated=function(n){this.levels=n.levels},l.onMediaDetaching=function(){this.stopCapping()},l.detectPlayerSize=function(){if(this.media){var n=this.levels?this.levels.length:0;if(n){var a=this.hls;a.autoLevelCapping=this.getMaxLevel(n-1),a.autoLevelCapping>this.autoLevelCapping&&a.streamController.nextLevelSwitch(),this.autoLevelCapping=a.autoLevelCapping}}},l.getMaxLevel=function(n){var a=this;if(!this.levels)return-1;var u=this.levels.filter(function(d,v){return c.isLevelAllowed(v,a.restrictedLevels)&&v<=n});return this.clientRect=null,c.getMaxLevelByMediaSize(u,this.mediaWidth,this.mediaHeight)},l.startCapping=function(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),clearInterval(this.timer),this.timer=setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},l.stopCapping=function(){this.restrictedLevels=[],this.firstLevel=null,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(this.timer=clearInterval(this.timer),this.timer=null)},l.getDimensions=function(){if(this.clientRect)return this.clientRect;var n=this.media,a={width:0,height:0};if(n){var u=n.getBoundingClientRect();a.width=u.width,a.height=u.height,!a.width&&!a.height&&(a.width=u.right-u.left||n.width||0,a.height=u.bottom-u.top||n.height||0)}return this.clientRect=a,a},c.isLevelAllowed=function(n,a){return a===void 0&&(a=[]),a.indexOf(n)===-1},c.getMaxLevelByMediaSize=function(n,a,u){if(!n||n&&!n.length)return-1;for(var d=function(L,j){return j?L.width!==j.width||L.height!==j.height:!0},v=n.length-1,y=0;y<n.length;y+=1){var S=n[y];if((S.width>=a||S.height>=u)&&d(S,n[y+1])){v=y;break}}return v},u0(c,[{key:"mediaWidth",get:function(){return this.getDimensions().width*c.contentScaleFactor}},{key:"mediaHeight",get:function(){return this.getDimensions().height*c.contentScaleFactor}}],[{key:"contentScaleFactor",get:function(){var n=1;try{n=window.devicePixelRatio}catch{}return n}}]),c}(k),d0=c0;function h0(h,c){h.prototype=Object.create(c.prototype),h.prototype.constructor=h,h.__proto__=c}var p0=window,g0=p0.performance,v0=function(h){h0(c,h);function c(o){return h.call(this,o,g.default.MEDIA_ATTACHING)||this}var l=c.prototype;return l.destroy=function(){this.timer&&clearInterval(this.timer),this.isVideoPlaybackQualityAvailable=!1},l.onMediaAttaching=function(n){var a=this.hls.config;if(a.capLevelOnFPSDrop){var u=this.video=n.media instanceof window.HTMLVideoElement?n.media:null;typeof u.getVideoPlaybackQuality=="function"&&(this.isVideoPlaybackQualityAvailable=!0),clearInterval(this.timer),this.timer=setInterval(this.checkFPSInterval.bind(this),a.fpsDroppedMonitoringPeriod)}},l.checkFPS=function(n,a,u){var d=g0.now();if(a){if(this.lastTime){var v=d-this.lastTime,y=u-this.lastDroppedFrames,S=a-this.lastDecodedFrames,A=1e3*y/v,L=this.hls;if(L.trigger(g.default.FPS_DROP,{currentDropped:y,currentDecoded:S,totalDroppedFrames:u}),A>0&&y>L.config.fpsDroppedMonitoringThreshold*S){var j=L.currentLevel;E.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+j),j>0&&(L.autoLevelCapping===-1||L.autoLevelCapping>=j)&&(j=j-1,L.trigger(g.default.FPS_DROP_LEVEL_CAPPING,{level:j,droppedLevel:L.currentLevel}),L.autoLevelCapping=j,L.streamController.nextLevelSwitch())}}this.lastTime=d,this.lastDroppedFrames=u,this.lastDecodedFrames=a}},l.checkFPSInterval=function(){var n=this.video;if(n)if(this.isVideoPlaybackQualityAvailable){var a=n.getVideoPlaybackQuality();this.checkFPS(n,a.totalVideoFrames,a.droppedVideoFrames)}else this.checkFPS(n,n.webkitDecodedFrameCount,n.webkitDroppedFrameCount)},c}(k),m0=v0,y0=function(){function h(l){l&&l.xhrSetup&&(this.xhrSetup=l.xhrSetup)}var c=h.prototype;return c.destroy=function(){this.abort(),this.loader=null},c.abort=function(){var o=this.loader;o&&o.readyState!==4&&(this.stats.aborted=!0,o.abort()),window.clearTimeout(this.requestTimeout),this.requestTimeout=null,window.clearTimeout(this.retryTimeout),this.retryTimeout=null},c.load=function(o,n,a){this.context=o,this.config=n,this.callbacks=a,this.stats={trequest:window.performance.now(),retry:0},this.retryDelay=n.retryDelay,this.loadInternal()},c.loadInternal=function(){var o,n=this.context;o=this.loader=new window.XMLHttpRequest;var a=this.stats;a.tfirst=0,a.loaded=0;var u=this.xhrSetup;try{if(u)try{u(o,n.url)}catch{o.open("GET",n.url,!0),u(o,n.url)}o.readyState||o.open("GET",n.url,!0)}catch(d){this.callbacks.onError({code:o.status,text:d.message},n,o);return}n.rangeEnd&&o.setRequestHeader("Range","bytes="+n.rangeStart+"-"+(n.rangeEnd-1)),o.onreadystatechange=this.readystatechange.bind(this),o.onprogress=this.loadprogress.bind(this),o.responseType=n.responseType,this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),this.config.timeout),o.send()},c.readystatechange=function(o){var n=o.currentTarget,a=n.readyState,u=this.stats,d=this.context,v=this.config;if(!u.aborted&&a>=2)if(window.clearTimeout(this.requestTimeout),u.tfirst===0&&(u.tfirst=Math.max(window.performance.now(),u.trequest)),a===4){var y=n.status;if(y>=200&&y<300){u.tload=Math.max(u.tfirst,window.performance.now());var S,A;d.responseType==="arraybuffer"?(S=n.response,A=S.byteLength):(S=n.responseText,A=S.length),u.loaded=u.total=A;var L={url:n.responseURL,data:S};this.callbacks.onSuccess(L,u,d,n)}else u.retry>=v.maxRetry||y>=400&&y<499?(E.logger.error(y+" while loading "+d.url),this.callbacks.onError({code:y,text:n.statusText},d,n)):(E.logger.warn(y+" while loading "+d.url+", retrying in "+this.retryDelay+"..."),this.destroy(),this.retryTimeout=window.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,v.maxRetryDelay),u.retry++)}else this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),v.timeout)},c.loadtimeout=function(){E.logger.warn("timeout while loading "+this.context.url),this.callbacks.onTimeout(this.stats,this.context,null)},c.loadprogress=function(o){var n=o.currentTarget,a=this.stats;a.loaded=o.loaded,o.lengthComputable&&(a.total=o.total);var u=this.callbacks.onProgress;u&&u(a,this.context,null,n)},h}(),x0=y0;function E0(h,c){for(var l=0;l<c.length;l++){var o=c[l];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(h,o.key,o)}}function S0(h,c,l){return c&&E0(h.prototype,c),h}function _0(h,c){h.prototype=Object.create(c.prototype),h.prototype.constructor=h,h.__proto__=c}var T0=function(h){_0(c,h);function c(o){var n;return n=h.call(this,o,g.default.MANIFEST_LOADING,g.default.MANIFEST_PARSED,g.default.AUDIO_TRACK_LOADED,g.default.AUDIO_TRACK_SWITCHED,g.default.LEVEL_LOADED,g.default.ERROR)||this,n._trackId=-1,n._selectDefaultTrack=!0,n.tracks=[],n.trackIdBlacklist=Object.create(null),n.audioGroupId=null,n}var l=c.prototype;return l.onManifestLoading=function(){this.tracks=[],this._trackId=-1,this._selectDefaultTrack=!0},l.onManifestParsed=function(n){var a=this.tracks=n.audioTracks||[];this.hls.trigger(g.default.AUDIO_TRACKS_UPDATED,{audioTracks:a}),this._selectAudioGroup(this.hls.nextLoadLevel)},l.onAudioTrackLoaded=function(n){if(n.id>=this.tracks.length){E.logger.warn("Invalid audio track id:",n.id);return}if(E.logger.log("audioTrack "+n.id+" loaded"),this.tracks[n.id].details=n.details,n.details.live&&!this.hasInterval()){var a=n.details.targetduration*1e3;this.setInterval(a)}!n.details.live&&this.hasInterval()&&this.clearInterval()},l.onAudioTrackSwitched=function(n){var a=this.tracks[n.id].groupId;a&&this.audioGroupId!==a&&(this.audioGroupId=a)},l.onLevelLoaded=function(n){this._selectAudioGroup(n.level)},l.onError=function(n){n.type===m.ErrorTypes.NETWORK_ERROR&&(n.fatal&&this.clearInterval(),n.details===m.ErrorDetails.AUDIO_TRACK_LOAD_ERROR&&(E.logger.warn("Network failure on audio-track id:",n.context.id),this._handleLoadError()))},l._setAudioTrack=function(n){if(this._trackId===n&&this.tracks[this._trackId].details){E.logger.debug("Same id as current audio-track passed, and track details available -> no-op");return}if(n<0||n>=this.tracks.length){E.logger.warn("Invalid id passed to audio-track controller");return}var a=this.tracks[n];E.logger.log("Now switching to audio-track index "+n),this.clearInterval(),this._trackId=n;var u=a.url,d=a.type,v=a.id;this.hls.trigger(g.default.AUDIO_TRACK_SWITCHING,{id:v,type:d,url:u}),this._loadTrackDetailsIfNeeded(a)},l.doTick=function(){this._updateTrack(this._trackId)},l._selectAudioGroup=function(n){var a=this.hls.levels[n];if(!(!a||!a.audioGroupIds)){var u=a.audioGroupIds[a.urlId];this.audioGroupId!==u&&(this.audioGroupId=u,this._selectInitialAudioTrack())}},l._selectInitialAudioTrack=function(){var n=this,a=this.tracks;if(a.length){var u=this.tracks[this._trackId],d=null;if(u&&(d=u.name),this._selectDefaultTrack){var v=a.filter(function(A){return A.default});v.length?a=v:E.logger.warn("No default audio tracks defined")}var y=!1,S=function(){a.forEach(function(L){y||(!n.audioGroupId||L.groupId===n.audioGroupId)&&(!d||d===L.name)&&(n._setAudioTrack(L.id),y=!0)})};S(),y||(d=null,S()),y||(E.logger.error("No track found for running audio group-ID: "+this.audioGroupId),this.hls.trigger(g.default.ERROR,{type:m.ErrorTypes.MEDIA_ERROR,details:m.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,fatal:!0}))}},l._needsTrackLoading=function(n){var a=n.details,u=n.url;return!a||a.live?!!u:!1},l._loadTrackDetailsIfNeeded=function(n){if(this._needsTrackLoading(n)){var a=n.url,u=n.id;E.logger.log("loading audio-track playlist for id: "+u),this.hls.trigger(g.default.AUDIO_TRACK_LOADING,{url:a,id:u})}},l._updateTrack=function(n){if(!(n<0||n>=this.tracks.length)){this.clearInterval(),this._trackId=n,E.logger.log("trying to update audio-track "+n);var a=this.tracks[n];this._loadTrackDetailsIfNeeded(a)}},l._handleLoadError=function(){this.trackIdBlacklist[this._trackId]=!0;var n=this._trackId,a=this.tracks[n],u=a.name,d=a.language,v=a.groupId;E.logger.warn("Loading failed on audio track id: "+n+", group-id: "+v+', name/language: "'+u+'" / "'+d+'"');for(var y=n,S=0;S<this.tracks.length;S++)if(!this.trackIdBlacklist[S]){var A=this.tracks[S];if(A.name===u){y=S;break}}if(y===n){E.logger.warn('No fallback audio-track found for name/language: "'+u+'" / "'+d+'"');return}E.logger.log("Attempting audio-track fallback id:",y,"group-id:",this.tracks[y].groupId),this._setAudioTrack(y)},S0(c,[{key:"audioTracks",get:function(){return this.tracks}},{key:"audioTrack",get:function(){return this._trackId},set:function(n){this._setAudioTrack(n),this._selectDefaultTrack=!1}}]),c}(Fr),w0=T0;function R0(h,c){for(var l=0;l<c.length;l++){var o=c[l];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(h,o.key,o)}}function A0(h,c,l){return c&&R0(h.prototype,c),h}function L0(h,c){h.prototype=Object.create(c.prototype),h.prototype.constructor=h,h.__proto__=c}var P0=window,bi=P0.performance,af=100,k0=function(h){L0(c,h);function c(o,n){var a;return a=h.call(this,o,g.default.MEDIA_ATTACHED,g.default.MEDIA_DETACHING,g.default.AUDIO_TRACKS_UPDATED,g.default.AUDIO_TRACK_SWITCHING,g.default.AUDIO_TRACK_LOADED,g.default.KEY_LOADED,g.default.FRAG_LOADED,g.default.FRAG_PARSING_INIT_SEGMENT,g.default.FRAG_PARSING_DATA,g.default.FRAG_PARSED,g.default.ERROR,g.default.BUFFER_RESET,g.default.BUFFER_CREATED,g.default.BUFFER_APPENDED,g.default.BUFFER_FLUSHED,g.default.INIT_PTS_FOUND)||this,a.fragmentTracker=n,a.config=o.config,a.audioCodecSwap=!1,a._state=X.STOPPED,a.initPTS=[],a.waitingFragment=null,a.videoTrackCC=null,a.waitingVideoCC=null,a}var l=c.prototype;return l.onInitPtsFound=function(n){var a=n.id,u=n.frag.cc,d=n.initPTS;a==="main"&&(this.initPTS[u]=d,this.videoTrackCC=u,E.logger.log("InitPTS for cc: "+u+" found from main: "+d),this.state===X.WAITING_INIT_PTS&&this.tick())},l.startLoad=function(n){if(this.tracks){var a=this.lastCurrentTime;this.stopLoad(),this.setInterval(af),this.fragLoadError=0,a>0&&n===-1?(E.logger.log("audio:override startPosition with lastCurrentTime @"+a.toFixed(3)),this.state=X.IDLE):(this.lastCurrentTime=this.startPosition?this.startPosition:n,this.state=X.STARTING),this.nextLoadPosition=this.startPosition=this.lastCurrentTime,this.tick()}else this.startPosition=n,this.state=X.STOPPED},l.doTick=function(){var n,a,u,d=this.hls,v=d.config;switch(this.state){case X.ERROR:case X.PAUSED:case X.BUFFER_FLUSHING:break;case X.STARTING:this.state=X.WAITING_TRACK,this.loadedmetadata=!1;break;case X.IDLE:var y=this.tracks;if(!y||!this.media&&(this.startFragRequested||!v.startFragPrefetch))break;if(this.loadedmetadata)n=this.media.currentTime;else if(n=this.nextLoadPosition,n===void 0)break;var S=this.mediaBuffer?this.mediaBuffer:this.media,A=this.videoBuffer?this.videoBuffer:this.media,L=n<v.maxBufferHole?Math.max(Yt,v.maxBufferHole):v.maxBufferHole,j=C.bufferInfo(S,n,L),V=C.bufferInfo(A,n,L),ee=j.len,ae=j.end,he=this.fragPrevious,fe=Math.min(v.maxBufferLength,v.maxMaxBufferLength),xe=Math.max(fe,V.len),Ee=this.audioSwitch,Oe=this.trackId;if((ee<xe||Ee)&&Oe<y.length){if(u=y[Oe].details,typeof u>"u"){this.state=X.WAITING_TRACK;break}if(!Ee&&this._streamEnded(j,u)){this.hls.trigger(g.default.BUFFER_EOS,{type:"audio"}),this.state=X.ENDED;return}var et=u.fragments,nr=et.length,_t=et[0].start,Kr=et[nr-1].start+et[nr-1].duration,ye;if(Ee){if(u.live&&!u.PTSKnown)E.logger.log("switching audiotrack, live stream, unknown PTS,load first fragment"),ae=0;else if(ae=n,u.PTSKnown&&n<_t)if(j.end>_t||j.nextStart)E.logger.log("alt audio track ahead of main track, seek to start of alt audio track"),this.media.currentTime=_t+.05;else return}if(u.initSegment&&!u.initSegment.data)ye=u.initSegment;else if(ae<=_t){if(ye=et[0],this.videoTrackCC!==null&&ye.cc!==this.videoTrackCC&&(ye=be(et,this.videoTrackCC)),u.live&&ye.loadIdx&&ye.loadIdx===this.fragLoadIdx){var Re=j.nextStart?j.nextStart:_t;E.logger.log("no alt audio available @currentTime:"+this.media.currentTime+", seeking @"+(Re+.05)),this.media.currentTime=Re+.05;return}}else{var st,Qn=v.maxFragLookUpTolerance,qn=he?et[he.sn-et[0].sn+1]:void 0;ae<Kr?(ae>Kr-Qn&&(Qn=0),qn&&!$e(ae,Qn,qn)?st=qn:st=z.search(et,function(Rg){return $e(ae,Qn,Rg)})):st=et[nr-1],st&&(ye=st,_t=st.start,he&&ye.level===he.level&&ye.sn===he.sn&&(ye.sn<u.endSN?(ye=et[ye.sn+1-u.startSN],this.fragmentTracker.getState(ye)!==pt.OK&&E.logger.log("SN just loaded, load next one: "+ye.sn)):ye=null))}ye&&(ye.encrypted?(E.logger.log("Loading key for "+ye.sn+" of ["+u.startSN+" ,"+u.endSN+"],track "+Oe),this.state=X.KEY_LOADING,d.trigger(g.default.KEY_LOADING,{frag:ye})):(this.fragCurrent=ye,(Ee||this.fragmentTracker.getState(ye)===pt.NOT_LOADED)&&(E.logger.log("Loading "+ye.sn+", cc: "+ye.cc+" of ["+u.startSN+" ,"+u.endSN+"],track "+Oe+", "+(this.loadedmetadata?"currentTime":"nextLoadPosition")+": "+n+", bufferEnd: "+ae.toFixed(3)),ye.sn!=="initSegment"&&(this.startFragRequested=!0),Object(T.isFiniteNumber)(ye.sn)&&(this.nextLoadPosition=ye.start+ye.duration),d.trigger(g.default.FRAG_LOADING,{frag:ye}),this.state=X.FRAG_LOADING)))}break;case X.WAITING_TRACK:a=this.tracks[this.trackId],a&&a.details&&(this.state=X.IDLE);break;case X.FRAG_LOADING_WAITING_RETRY:var Mi=bi.now(),za=this.retryDate;S=this.media;var Tg=S&&S.seeking;(!za||Mi>=za||Tg)&&(E.logger.log("audioStreamController: retryDate reached, switch back to IDLE state"),this.state=X.IDLE);break;case X.WAITING_INIT_PTS:var Ni=this.waitingFragment;if(Ni){var Ls=Ni.frag.cc;if(this.initPTS[Ls]!==void 0)this.waitingFragment=null,this.state=X.FRAG_LOADING,this.onFragLoaded(Ni);else if(this.videoTrackCC!==this.waitingVideoCC)E.logger.log("Waiting fragment cc ("+Ls+") cancelled because video is at cc "+this.videoTrackCC),this.clearWaitingFragment();else{var Pf=C.bufferInfo(this.mediaBuffer,this.media.currentTime,v.maxBufferHole),wg=$e(Pf.end,v.maxFragLookUpTolerance,Ni.frag);wg<0&&(E.logger.log("Waiting fragment cc ("+Ls+") @ "+Ni.frag.start+" cancelled because another fragment at "+Pf.end+" is needed"),this.clearWaitingFragment())}}else this.state=X.IDLE;break}},l.clearWaitingFragment=function(){var n=this.waitingFragment;n&&(this.fragmentTracker.removeFragment(n.frag),this.waitingFragment=null,this.waitingVideoCC=null,this.state=X.IDLE)},l.onMediaAttached=function(n){var a=this.media=this.mediaBuffer=n.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),a.addEventListener("seeking",this.onvseeking),a.addEventListener("ended",this.onvended);var u=this.config;this.tracks&&u.autoStartLoad&&this.startLoad(u.startPosition)},l.onMediaDetaching=function(){var n=this.media;n&&n.ended&&(E.logger.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),n&&(n.removeEventListener("seeking",this.onvseeking),n.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()},l.onAudioTracksUpdated=function(n){E.logger.log("audio tracks updated"),this.tracks=n.audioTracks},l.onAudioTrackSwitching=function(n){var a=!!n.url;this.trackId=n.id,this.fragCurrent=null,this.clearWaitingFragment(),this.state=X.PAUSED,a?this.setInterval(af):this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),a&&(this.audioSwitch=!0,this.state=X.IDLE),this.tick()},l.onAudioTrackLoaded=function(n){var a=n.details,u=n.id,d=this.tracks[u],v=d.details,y=a.totalduration,S=0;if(E.logger.log("track "+u+" loaded ["+a.startSN+","+a.endSN+"],duration:"+y),a.live||v&&v.live?v&&a.fragments.length>0?(ve(v,a),S=a.fragments[0].start,a.PTSKnown?E.logger.log("live audio playlist sliding:"+S.toFixed(3)):E.logger.log("live audio playlist - outdated PTS, unknown sliding")):(a.PTSKnown=!1,E.logger.log("live audio playlist - first load, unknown sliding")):a.PTSKnown=!1,d.details=a,!this.startFragRequested){if(this.startPosition===-1){var A=a.startTimeOffset;Object(T.isFiniteNumber)(A)?(E.logger.log("start time offset found in playlist, adjust startPosition to "+A),this.startPosition=A):a.live?(this.startPosition=this.computeLivePosition(S,a),E.logger.log("compute startPosition for audio-track to "+this.startPosition)):this.startPosition=0}this.nextLoadPosition=this.startPosition}this.state===X.WAITING_TRACK&&(this.state=X.IDLE),this.tick()},l.onKeyLoaded=function(){this.state===X.KEY_LOADING&&(this.state=X.IDLE,this.tick())},l.onFragLoaded=function(n){var a=this.fragCurrent,u=n.frag;if(this.state===X.FRAG_LOADING&&a&&u.type==="audio"&&u.level===a.level&&u.sn===a.sn){var d=this.tracks[this.trackId],v=d.details,y=v.totalduration,S=a.level,A=a.sn,L=a.cc,j=this.config.defaultAudioCodec||d.audioCodec||"mp4a.40.2",V=this.stats=n.stats;if(A==="initSegment")this.state=X.IDLE,V.tparsed=V.tbuffered=bi.now(),v.initSegment.data=n.payload,this.hls.trigger(g.default.FRAG_BUFFERED,{stats:V,frag:a,id:"audio"}),this.tick();else{this.state=X.PARSING,this.appended=!1,this.demuxer||(this.demuxer=new ne(this.hls,"audio"));var ee=this.initPTS[L],ae=v.initSegment?v.initSegment.data:[];if(ee!==void 0){this.pendingBuffering=!0,E.logger.log("Demuxing "+A+" of ["+v.startSN+" ,"+v.endSN+"],track "+S);var he=!1;this.demuxer.push(n.payload,ae,j,null,a,y,he,ee)}else E.logger.log("Unknown video PTS for cc "+L+", waiting for video PTS before demuxing audio frag "+A+" of ["+v.startSN+" ,"+v.endSN+"],track "+S),this.waitingFragment=n,this.waitingVideoCC=this.videoTrackCC,this.state=X.WAITING_INIT_PTS}}this.fragLoadError=0},l.onFragParsingInitSegment=function(n){var a=this.fragCurrent,u=n.frag;if(a&&n.id==="audio"&&u.sn===a.sn&&u.level===a.level&&this.state===X.PARSING){var d=n.tracks,v;if(d.video&&delete d.video,v=d.audio,v){v.levelCodec=v.codec,v.id=n.id,this.hls.trigger(g.default.BUFFER_CODECS,d),E.logger.log("audio track:audio,container:"+v.container+",codecs[level/parsed]=["+v.levelCodec+"/"+v.codec+"]");var y=v.initSegment;if(y){var S={type:"audio",data:y,parent:"audio",content:"initSegment"};this.audioSwitch?this.pendingData=[S]:(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(g.default.BUFFER_APPENDING,S))}this.tick()}}},l.onFragParsingData=function(n){var a=this,u=this.fragCurrent,d=n.frag;if(u&&n.id==="audio"&&n.type==="audio"&&d.sn===u.sn&&d.level===u.level&&this.state===X.PARSING){var v=this.trackId,y=this.tracks[v],S=this.hls;Object(T.isFiniteNumber)(n.endPTS)||(n.endPTS=n.startPTS+u.duration,n.endDTS=n.startDTS+u.duration),u.addElementaryStream($.AUDIO),E.logger.log("parsed "+n.type+",PTS:["+n.startPTS.toFixed(3)+","+n.endPTS.toFixed(3)+"],DTS:["+n.startDTS.toFixed(3)+"/"+n.endDTS.toFixed(3)+"],nb:"+n.nb),re(y.details,u,n.startPTS,n.endPTS);var A=this.media,L=!1;if(this.audioSwitch)if(A&&A.readyState){var j=A.currentTime;E.logger.log("switching audio track : currentTime:"+j),j>=n.startPTS&&(E.logger.log("switching audio track : flushing all audio"),this.state=X.BUFFER_FLUSHING,S.trigger(g.default.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),L=!0,this.audioSwitch=!1,S.trigger(g.default.AUDIO_TRACK_SWITCHED,{id:v}))}else this.audioSwitch=!1,S.trigger(g.default.AUDIO_TRACK_SWITCHED,{id:v});var V=this.pendingData;if(!V){E.logger.warn("Apparently attempt to enqueue media payload without codec initialization data upfront"),S.trigger(g.default.ERROR,{type:m.ErrorTypes.MEDIA_ERROR,details:null,fatal:!0});return}this.audioSwitch||([n.data1,n.data2].forEach(function(ee){ee&&ee.length&&V.push({type:n.type,data:ee,parent:"audio",content:"data"})}),!L&&V.length&&(V.forEach(function(ee){a.state===X.PARSING&&(a.pendingBuffering=!0,a.hls.trigger(g.default.BUFFER_APPENDING,ee))}),this.pendingData=[],this.appended=!0)),this.tick()}},l.onFragParsed=function(n){var a=this.fragCurrent,u=n.frag;a&&n.id==="audio"&&u.sn===a.sn&&u.level===a.level&&this.state===X.PARSING&&(this.stats.tparsed=bi.now(),this.state=X.PARSED,this._checkAppendedParsed())},l.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1},l.onBufferCreated=function(n){var a=n.tracks.audio;a&&(this.mediaBuffer=a.buffer,this.loadedmetadata=!0),n.tracks.video&&(this.videoBuffer=n.tracks.video.buffer)},l.onBufferAppended=function(n){if(n.parent==="audio"){var a=this.state;(a===X.PARSING||a===X.PARSED)&&(this.pendingBuffering=n.pending>0,this._checkAppendedParsed())}},l._checkAppendedParsed=function(){if(this.state===X.PARSED&&(!this.appended||!this.pendingBuffering)){var n=this.fragCurrent,a=this.stats,u=this.hls;if(n){this.fragPrevious=n,a.tbuffered=bi.now(),u.trigger(g.default.FRAG_BUFFERED,{stats:a,frag:n,id:"audio"});var d=this.mediaBuffer?this.mediaBuffer:this.media;d&&E.logger.log("audio buffered : "+Ce.toString(d.buffered)),this.audioSwitch&&this.appended&&(this.audioSwitch=!1,u.trigger(g.default.AUDIO_TRACK_SWITCHED,{id:this.trackId})),this.state=X.IDLE}this.tick()}},l.onError=function(n){var a=n.frag;if(!(a&&a.type!=="audio"))switch(n.details){case m.ErrorDetails.FRAG_LOAD_ERROR:case m.ErrorDetails.FRAG_LOAD_TIMEOUT:var u=n.frag;if(u&&u.type!=="audio")break;if(!n.fatal){var d=this.fragLoadError;d?d++:d=1;var v=this.config;if(d<=v.fragLoadingMaxRetry){this.fragLoadError=d;var y=Math.min(Math.pow(2,d-1)*v.fragLoadingRetryDelay,v.fragLoadingMaxRetryTimeout);E.logger.warn("AudioStreamController: frag loading failed, retry in "+y+" ms"),this.retryDate=bi.now()+y,this.state=X.FRAG_LOADING_WAITING_RETRY}else E.logger.error("AudioStreamController: "+n.details+" reaches max retry, redispatch as fatal ..."),n.fatal=!0,this.state=X.ERROR}break;case m.ErrorDetails.AUDIO_TRACK_LOAD_ERROR:case m.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:case m.ErrorDetails.KEY_LOAD_ERROR:case m.ErrorDetails.KEY_LOAD_TIMEOUT:this.state!==X.ERROR&&(this.state=n.fatal?X.ERROR:X.IDLE,E.logger.warn("AudioStreamController: "+n.details+" while loading frag, now switching to "+this.state+" state ..."));break;case m.ErrorDetails.BUFFER_FULL_ERROR:if(n.parent==="audio"&&(this.state===X.PARSING||this.state===X.PARSED)){var S=this.mediaBuffer,A=this.media.currentTime,L=S&&C.isBuffered(S,A)&&C.isBuffered(S,A+.5);if(L){var j=this.config;j.maxMaxBufferLength>=j.maxBufferLength&&(j.maxMaxBufferLength/=2,E.logger.warn("AudioStreamController: reduce max buffer length to "+j.maxMaxBufferLength+"s")),this.state=X.IDLE}else E.logger.warn("AudioStreamController: buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,this.state=X.BUFFER_FLUSHING,this.hls.trigger(g.default.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"})}break}},l.onBufferFlushed=function(){var n=this,a=this.pendingData;a&&a.length?(E.logger.log("AudioStreamController: appending pending audio data after buffer flushed"),a.forEach(function(u){n.hls.trigger(g.default.BUFFER_APPENDING,u)}),this.appended=!0,this.pendingData=[],this.state=X.PARSED):(this.state=X.IDLE,this.fragPrevious=null,this.tick())},A0(c,[{key:"state",set:function(n){if(this.state!==n){var a=this.state;this._state=n,E.logger.log("audio stream:"+a+"->"+n)}},get:function(){return this._state}}]),c}(Ut),D0=k0,of=function(){if(typeof window<"u"&&window.VTTCue)return window.VTTCue;var h="auto",c={"":!0,lr:!0,rl:!0},l={start:!0,middle:!0,end:!0,left:!0,right:!0};function o(d){if(typeof d!="string")return!1;var v=c[d.toLowerCase()];return v?d.toLowerCase():!1}function n(d){if(typeof d!="string")return!1;var v=l[d.toLowerCase()];return v?d.toLowerCase():!1}function a(d){for(var v=1;v<arguments.length;v++){var y=arguments[v];for(var S in y)d[S]=y[S]}return d}function u(d,v,y){var S=this,A={};A.enumerable=!0,S.hasBeenReset=!1;var L="",j=!1,V=d,ee=v,ae=y,he=null,fe="",xe=!0,Ee="auto",Oe="start",et=50,nr="middle",_t=50,Kr="middle";Object.defineProperty(S,"id",a({},A,{get:function(){return L},set:function(Re){L=""+Re}})),Object.defineProperty(S,"pauseOnExit",a({},A,{get:function(){return j},set:function(Re){j=!!Re}})),Object.defineProperty(S,"startTime",a({},A,{get:function(){return V},set:function(Re){if(typeof Re!="number")throw new TypeError("Start time must be set to a number.");V=Re,this.hasBeenReset=!0}})),Object.defineProperty(S,"endTime",a({},A,{get:function(){return ee},set:function(Re){if(typeof Re!="number")throw new TypeError("End time must be set to a number.");ee=Re,this.hasBeenReset=!0}})),Object.defineProperty(S,"text",a({},A,{get:function(){return ae},set:function(Re){ae=""+Re,this.hasBeenReset=!0}})),Object.defineProperty(S,"region",a({},A,{get:function(){return he},set:function(Re){he=Re,this.hasBeenReset=!0}})),Object.defineProperty(S,"vertical",a({},A,{get:function(){return fe},set:function(Re){var st=o(Re);if(st===!1)throw new SyntaxError("An invalid or illegal string was specified.");fe=st,this.hasBeenReset=!0}})),Object.defineProperty(S,"snapToLines",a({},A,{get:function(){return xe},set:function(Re){xe=!!Re,this.hasBeenReset=!0}})),Object.defineProperty(S,"line",a({},A,{get:function(){return Ee},set:function(Re){if(typeof Re!="number"&&Re!==h)throw new SyntaxError("An invalid number or illegal string was specified.");Ee=Re,this.hasBeenReset=!0}})),Object.defineProperty(S,"lineAlign",a({},A,{get:function(){return Oe},set:function(Re){var st=n(Re);if(!st)throw new SyntaxError("An invalid or illegal string was specified.");Oe=st,this.hasBeenReset=!0}})),Object.defineProperty(S,"position",a({},A,{get:function(){return et},set:function(Re){if(Re<0||Re>100)throw new Error("Position must be between 0 and 100.");et=Re,this.hasBeenReset=!0}})),Object.defineProperty(S,"positionAlign",a({},A,{get:function(){return nr},set:function(Re){var st=n(Re);if(!st)throw new SyntaxError("An invalid or illegal string was specified.");nr=st,this.hasBeenReset=!0}})),Object.defineProperty(S,"size",a({},A,{get:function(){return _t},set:function(Re){if(Re<0||Re>100)throw new Error("Size must be between 0 and 100.");_t=Re,this.hasBeenReset=!0}})),Object.defineProperty(S,"align",a({},A,{get:function(){return Kr},set:function(Re){var st=n(Re);if(!st)throw new SyntaxError("An invalid or illegal string was specified.");Kr=st,this.hasBeenReset=!0}})),S.displayState=void 0}return u.prototype.getCueAsHTML=function(){var d=window.WebVTT;return d.convertCueToDOMTree(window,this.text)},u}(),O0=function(){return{decode:function(l){if(!l)return"";if(typeof l!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(l))}}};function sf(){this.window=window,this.state="INITIAL",this.buffer="",this.decoder=new O0,this.regionList=[]}function C0(h){function c(o,n,a,u){return(o|0)*3600+(n|0)*60+(a|0)+(u|0)/1e3}var l=h.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return l?l[3]?c(l[1],l[2],l[3].replace(":",""),l[4]):l[1]>59?c(l[1],l[2],0,l[4]):c(0,l[1],l[2],l[4]):null}function lf(){this.values=Object.create(null)}lf.prototype={set:function(c,l){!this.get(c)&&l!==""&&(this.values[c]=l)},get:function(c,l,o){return o?this.has(c)?this.values[c]:l[o]:this.has(c)?this.values[c]:l},has:function(c){return c in this.values},alt:function(c,l,o){for(var n=0;n<o.length;++n)if(l===o[n]){this.set(c,l);break}},integer:function(c,l){/^-?\d+$/.test(l)&&this.set(c,parseInt(l,10))},percent:function(c,l){return l.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(l=parseFloat(l),l>=0&&l<=100)?(this.set(c,l),!0):!1}};function uf(h,c,l,o){var n=o?h.split(o):[h];for(var a in n)if(typeof n[a]=="string"){var u=n[a].split(l);if(u.length===2){var d=u[0],v=u[1];c(d,v)}}}var Ss=new of(0,0,0),Ba=Ss.align==="middle"?"middle":"center";function I0(h,c,l){var o=h;function n(){var d=C0(h);if(d===null)throw new Error("Malformed timestamp: "+o);return h=h.replace(/^[^\sa-zA-Z-]+/,""),d}function a(d,v){var y=new lf;uf(d,function(L,j){switch(L){case"region":for(var V=l.length-1;V>=0;V--)if(l[V].id===j){y.set(L,l[V].region);break}break;case"vertical":y.alt(L,j,["rl","lr"]);break;case"line":var ee=j.split(","),ae=ee[0];y.integer(L,ae),y.percent(L,ae)&&y.set("snapToLines",!1),y.alt(L,ae,["auto"]),ee.length===2&&y.alt("lineAlign",ee[1],["start",Ba,"end"]);break;case"position":ee=j.split(","),y.percent(L,ee[0]),ee.length===2&&y.alt("positionAlign",ee[1],["start",Ba,"end","line-left","line-right","auto"]);break;case"size":y.percent(L,j);break;case"align":y.alt(L,j,["start",Ba,"end","left","right"]);break}},/:/,/\s/),v.region=y.get("region",null),v.vertical=y.get("vertical","");var S=y.get("line","auto");S==="auto"&&Ss.line===-1&&(S=-1),v.line=S,v.lineAlign=y.get("lineAlign","start"),v.snapToLines=y.get("snapToLines",!0),v.size=y.get("size",100),v.align=y.get("align",Ba);var A=y.get("position","auto");A==="auto"&&Ss.position===50&&(A=v.align==="start"||v.align==="left"?0:v.align==="end"||v.align==="right"?100:50),v.position=A}function u(){h=h.replace(/^\s+/,"")}if(u(),c.startTime=n(),u(),h.substr(0,3)!=="-->")throw new Error("Malformed time stamp (time stamps must be separated by '-->'): "+o);h=h.substr(3),u(),c.endTime=n(),u(),a(h,c)}function ff(h){return h.replace(/<br(?: \/)?>/gi,`
`)}sf.prototype={parse:function(c){var l=this;c&&(l.buffer+=l.decoder.decode(c,{stream:!0}));function o(){var y=l.buffer,S=0;for(y=ff(y);S<y.length&&y[S]!=="\r"&&y[S]!==`
`;)++S;var A=y.substr(0,S);return y[S]==="\r"&&++S,y[S]===`
`&&++S,l.buffer=y.substr(S),A}function n(y){uf(y,function(S,A){},/:/)}try{var a;if(l.state==="INITIAL"){if(!/\r\n|\n/.test(l.buffer))return this;a=o();var u=a.match(/^(ï»¿)?WEBVTT([ \t].*)?$/);if(!u||!u[0])throw new Error("Malformed WebVTT signature.");l.state="HEADER"}for(var d=!1;l.buffer;){if(!/\r\n|\n/.test(l.buffer))return this;switch(d?d=!1:a=o(),l.state){case"HEADER":/:/.test(a)?n(a):a||(l.state="ID");continue;case"NOTE":a||(l.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(a)){l.state="NOTE";break}if(!a)continue;if(l.cue=new of(0,0,""),l.state="CUE",a.indexOf("-->")===-1){l.cue.id=a;continue}case"CUE":try{I0(a,l.cue,l.regionList)}catch{l.cue=null,l.state="BADCUE";continue}l.state="CUETEXT";continue;case"CUETEXT":var v=a.indexOf("-->")!==-1;if(!a||v&&(d=!0)){l.oncue&&l.oncue(l.cue),l.cue=null,l.state="ID";continue}l.cue.text&&(l.cue.text+=`
`),l.cue.text+=a;continue;case"BADCUE":a||(l.state="ID");continue}}}catch{l.state==="CUETEXT"&&l.cue&&l.oncue&&l.oncue(l.cue),l.cue=null,l.state=l.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var c=this;try{if(c.buffer+=c.decoder.decode(),(c.cue||c.state==="HEADER")&&(c.buffer+=`

`,c.parse()),c.state==="INITIAL")throw new Error("Malformed WebVTT signature.")}catch(l){throw l}return c.onflush&&c.onflush(),this}};var F0=sf;function b0(h,c,l,o){for(var n=[],a,u,d,v,y,S=window.VTTCue||TextTrackCue,A=0;A<o.rows.length;A++)if(a=o.rows[A],d=!0,v=0,y="",!a.isEmpty()){for(var L=0;L<a.chars.length;L++)a.chars[L].uchar.match(/\s/)&&d?v++:(y+=a.chars[L].uchar,d=!1);a.cueStartTime=c,c===l&&(l+=1e-4),u=new S(c,l,ff(y.trim())),v>=16?v--:v++,navigator.userAgent.match(/Firefox\//)?u.line=A+1:u.line=A>7?A-2:A+1,u.align="left",u.position=Math.max(0,Math.min(100,100*(v/32))),n.push(u),h&&h.addCue(u)}return n}var cf={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},df=function(c){var l=c;return cf.hasOwnProperty(c)&&(l=cf[c]),String.fromCharCode(l)},Tr=15,zr=100,M0={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},N0={17:2,18:4,21:6,22:8,23:10,19:13,20:15},U0={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},B0={25:2,26:4,29:6,30:8,31:10,27:13,28:15},j0=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],Le;(function(h){h[h.ERROR=0]="ERROR",h[h.TEXT=1]="TEXT",h[h.WARNING=2]="WARNING",h[h.INFO=2]="INFO",h[h.DEBUG=3]="DEBUG",h[h.DATA=3]="DATA"})(Le||(Le={}));var G0=function(){function h(){this.time=null,this.verboseLevel=Le.ERROR}var c=h.prototype;return c.log=function(o,n){this.verboseLevel>=o&&E.logger.log(this.time+" ["+o+"] "+n)},h}(),On=function(c){for(var l=[],o=0;o<c.length;o++)l.push(c[o].toString(16));return l},hf=function(){function h(l,o,n,a,u){this.foreground=void 0,this.underline=void 0,this.italics=void 0,this.background=void 0,this.flash=void 0,this.foreground=l||"white",this.underline=o||!1,this.italics=n||!1,this.background=a||"black",this.flash=u||!1}var c=h.prototype;return c.reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},c.setStyles=function(o){for(var n=["foreground","underline","italics","background","flash"],a=0;a<n.length;a++){var u=n[a];o.hasOwnProperty(u)&&(this[u]=o[u])}},c.isDefault=function(){return this.foreground==="white"&&!this.underline&&!this.italics&&this.background==="black"&&!this.flash},c.equals=function(o){return this.foreground===o.foreground&&this.underline===o.underline&&this.italics===o.italics&&this.background===o.background&&this.flash===o.flash},c.copy=function(o){this.foreground=o.foreground,this.underline=o.underline,this.italics=o.italics,this.background=o.background,this.flash=o.flash},c.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},h}(),z0=function(){function h(l,o,n,a,u,d){this.uchar=void 0,this.penState=void 0,this.uchar=l||" ",this.penState=new hf(o,n,a,u,d)}var c=h.prototype;return c.reset=function(){this.uchar=" ",this.penState.reset()},c.setChar=function(o,n){this.uchar=o,this.penState.copy(n)},c.setPenState=function(o){this.penState.copy(o)},c.equals=function(o){return this.uchar===o.uchar&&this.penState.equals(o.penState)},c.copy=function(o){this.uchar=o.uchar,this.penState.copy(o.penState)},c.isEmpty=function(){return this.uchar===" "&&this.penState.isDefault()},h}(),K0=function(){function h(l){this.chars=void 0,this.pos=void 0,this.currPenState=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chars=[];for(var o=0;o<zr;o++)this.chars.push(new z0);this.logger=l,this.pos=0,this.currPenState=new hf}var c=h.prototype;return c.equals=function(o){for(var n=!0,a=0;a<zr;a++)if(!this.chars[a].equals(o.chars[a])){n=!1;break}return n},c.copy=function(o){for(var n=0;n<zr;n++)this.chars[n].copy(o.chars[n])},c.isEmpty=function(){for(var o=!0,n=0;n<zr;n++)if(!this.chars[n].isEmpty()){o=!1;break}return o},c.setCursor=function(o){this.pos!==o&&(this.pos=o),this.pos<0?(this.logger.log(Le.DEBUG,"Negative cursor position "+this.pos),this.pos=0):this.pos>zr&&(this.logger.log(Le.DEBUG,"Too large cursor position "+this.pos),this.pos=zr)},c.moveCursor=function(o){var n=this.pos+o;if(o>1)for(var a=this.pos+1;a<n+1;a++)this.chars[a].setPenState(this.currPenState);this.setCursor(n)},c.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},c.insertChar=function(o){o>=144&&this.backSpace();var n=df(o);if(this.pos>=zr){this.logger.log(Le.ERROR,"Cannot insert "+o.toString(16)+" ("+n+") at position "+this.pos+". Skipping it!");return}this.chars[this.pos].setChar(n,this.currPenState),this.moveCursor(1)},c.clearFromPos=function(o){var n;for(n=o;n<zr;n++)this.chars[n].reset()},c.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},c.clearToEndOfRow=function(){this.clearFromPos(this.pos)},c.getTextString=function(){for(var o=[],n=!0,a=0;a<zr;a++){var u=this.chars[a].uchar;u!==" "&&(n=!1),o.push(u)}return n?"":o.join("")},c.setPenStyles=function(o){this.currPenState.setStyles(o);var n=this.chars[this.pos];n.setPenState(this.currPenState)},h}(),_s=function(){function h(l){this.rows=void 0,this.currRow=void 0,this.nrRollUpRows=void 0,this.lastOutputScreen=void 0,this.logger=void 0,this.rows=[];for(var o=0;o<Tr;o++)this.rows.push(new K0(l));this.logger=l,this.currRow=Tr-1,this.nrRollUpRows=null,this.lastOutputScreen=null,this.reset()}var c=h.prototype;return c.reset=function(){for(var o=0;o<Tr;o++)this.rows[o].clear();this.currRow=Tr-1},c.equals=function(o){for(var n=!0,a=0;a<Tr;a++)if(!this.rows[a].equals(o.rows[a])){n=!1;break}return n},c.copy=function(o){for(var n=0;n<Tr;n++)this.rows[n].copy(o.rows[n])},c.isEmpty=function(){for(var o=!0,n=0;n<Tr;n++)if(!this.rows[n].isEmpty()){o=!1;break}return o},c.backSpace=function(){var o=this.rows[this.currRow];o.backSpace()},c.clearToEndOfRow=function(){var o=this.rows[this.currRow];o.clearToEndOfRow()},c.insertChar=function(o){var n=this.rows[this.currRow];n.insertChar(o)},c.setPen=function(o){var n=this.rows[this.currRow];n.setPenStyles(o)},c.moveCursor=function(o){var n=this.rows[this.currRow];n.moveCursor(o)},c.setCursor=function(o){this.logger.log(Le.INFO,"setCursor: "+o);var n=this.rows[this.currRow];n.setCursor(o)},c.setPAC=function(o){this.logger.log(Le.INFO,"pacData = "+JSON.stringify(o));var n=o.row-1;if(this.nrRollUpRows&&n<this.nrRollUpRows-1&&(n=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==n){for(var a=0;a<Tr;a++)this.rows[a].clear();var u=this.currRow+1-this.nrRollUpRows,d=this.lastOutputScreen;if(d){var v=d.rows[u].cueStartTime,y=this.logger.time;if(v&&y!==null&&v<y)for(var S=0;S<this.nrRollUpRows;S++)this.rows[n-this.nrRollUpRows+S+1].copy(d.rows[u+S])}}this.currRow=n;var A=this.rows[this.currRow];if(o.indent!==null){var L=o.indent,j=Math.max(L-1,0);A.setCursor(o.indent),o.color=A.chars[j].penState.foreground}var V={foreground:o.color,underline:o.underline,italics:o.italics,background:"black",flash:!1};this.setPen(V)},c.setBkgData=function(o){this.logger.log(Le.INFO,"bkgData = "+JSON.stringify(o)),this.backSpace(),this.setPen(o),this.insertChar(32)},c.setRollUpRows=function(o){this.nrRollUpRows=o},c.rollUp=function(){if(this.nrRollUpRows===null){this.logger.log(Le.DEBUG,"roll_up but nrRollUpRows not set yet");return}this.logger.log(Le.TEXT,this.getDisplayText());var o=this.currRow+1-this.nrRollUpRows,n=this.rows.splice(o,1)[0];n.clear(),this.rows.splice(this.currRow,0,n),this.logger.log(Le.INFO,"Rolling up")},c.getDisplayText=function(o){o=o||!1;for(var n=[],a="",u=-1,d=0;d<Tr;d++){var v=this.rows[d].getTextString();v&&(u=d+1,o?n.push("Row "+u+": '"+v+"'"):n.push(v.trim()))}return n.length>0&&(o?a="["+n.join(" | ")+"]":a=n.join(`
`)),a},c.getTextAndFormat=function(){return this.rows},h}(),pf=function(){function h(l,o,n){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=l,this.outputFilter=o,this.mode=null,this.verbose=0,this.displayedMemory=new _s(n),this.nonDisplayedMemory=new _s(n),this.lastOutputScreen=new _s(n),this.currRollUpRow=this.displayedMemory.rows[Tr-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=n}var c=h.prototype;return c.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[Tr-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null},c.getHandler=function(){return this.outputFilter},c.setHandler=function(o){this.outputFilter=o},c.setPAC=function(o){this.writeScreen.setPAC(o)},c.setBkgData=function(o){this.writeScreen.setBkgData(o)},c.setMode=function(o){o!==this.mode&&(this.mode=o,this.logger.log(Le.INFO,"MODE="+o),this.mode==="MODE_POP-ON"?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),this.mode!=="MODE_ROLL-UP"&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=o)},c.insertChars=function(o){for(var n=0;n<o.length;n++)this.writeScreen.insertChar(o[n]);var a=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(Le.INFO,a+": "+this.writeScreen.getDisplayText(!0)),(this.mode==="MODE_PAINT-ON"||this.mode==="MODE_ROLL-UP")&&(this.logger.log(Le.TEXT,"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},c.ccRCL=function(){this.logger.log(Le.INFO,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},c.ccBS=function(){this.logger.log(Le.INFO,"BS - BackSpace"),this.mode!=="MODE_TEXT"&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},c.ccAOF=function(){},c.ccAON=function(){},c.ccDER=function(){this.logger.log(Le.INFO,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},c.ccRU=function(o){this.logger.log(Le.INFO,"RU("+o+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(o)},c.ccFON=function(){this.logger.log(Le.INFO,"FON - Flash On"),this.writeScreen.setPen({flash:!0})},c.ccRDC=function(){this.logger.log(Le.INFO,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},c.ccTR=function(){this.logger.log(Le.INFO,"TR"),this.setMode("MODE_TEXT")},c.ccRTD=function(){this.logger.log(Le.INFO,"RTD"),this.setMode("MODE_TEXT")},c.ccEDM=function(){this.logger.log(Le.INFO,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},c.ccCR=function(){this.logger.log(Le.INFO,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},c.ccENM=function(){this.logger.log(Le.INFO,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},c.ccEOC=function(){if(this.logger.log(Le.INFO,"EOC - End Of Caption"),this.mode==="MODE_POP-ON"){var o=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=o,this.writeScreen=this.nonDisplayedMemory,this.logger.log(Le.TEXT,"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)},c.ccTO=function(o){this.logger.log(Le.INFO,"TO("+o+") - Tab Offset"),this.writeScreen.moveCursor(o)},c.ccMIDROW=function(o){var n={flash:!1};if(n.underline=o%2===1,n.italics=o>=46,n.italics)n.foreground="white";else{var a=Math.floor(o/2)-16,u=["white","green","blue","cyan","red","yellow","magenta"];n.foreground=u[a]}this.logger.log(Le.INFO,"MIDROW: "+JSON.stringify(n)),this.writeScreen.setPen(n)},c.outputDataUpdate=function(o){o===void 0&&(o=!1);var n=this.logger.time;n!==null&&this.outputFilter&&(this.cueStartTime===null&&!this.displayedMemory.isEmpty()?this.cueStartTime=n:this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,n,this.lastOutputScreen),o&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:n),this.lastOutputScreen.copy(this.displayedMemory))},c.cueSplitAtTime=function(o){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,o,this.displayedMemory),this.cueStartTime=o))},h}(),H0=function(){function h(l,o,n){this.channels=void 0,this.currentChannel=0,this.cmdHistory=void 0,this.logger=void 0;var a=new G0;this.channels=[null,new pf(l,o,a),new pf(l+1,n,a)],this.cmdHistory=vf(),this.logger=a}var c=h.prototype;return c.getHandler=function(o){return this.channels[o].getHandler()},c.setHandler=function(o,n){this.channels[o].setHandler(n)},c.addData=function(o,n){var a,u,d,v=!1;this.logger.time=o;for(var y=0;y<n.length;y+=2)if(u=n[y]&127,d=n[y+1]&127,!(u===0&&d===0)){if(this.logger.log(Le.DATA,"["+On([n[y],n[y+1]])+"] -> ("+On([u,d])+")"),a=this.parseCmd(u,d),a||(a=this.parseMidrow(u,d)),a||(a=this.parsePAC(u,d)),a||(a=this.parseBackgroundAttributes(u,d)),!a&&(v=this.parseChars(u,d),v)){var S=this.currentChannel;if(S&&S>0){var A=this.channels[S];A.insertChars(v)}else this.logger.log(Le.WARNING,"No channel found yet. TEXT-MODE?")}!a&&!v&&this.logger.log(Le.WARNING,"Couldn't parse cleaned data "+On([u,d])+" orig: "+On([n[y],n[y+1]]))}},c.parseCmd=function(o,n){var a=this.cmdHistory,u=(o===20||o===28||o===21||o===29)&&n>=32&&n<=47,d=(o===23||o===31)&&n>=33&&n<=35;if(!(u||d))return!1;if(gf(o,n,a))return Yn(null,null,a),this.logger.log(Le.DEBUG,"Repeated command ("+On([o,n])+") is dropped"),!0;var v=o===20||o===21||o===23?1:2,y=this.channels[v];return o===20||o===21||o===28||o===29?n===32?y.ccRCL():n===33?y.ccBS():n===34?y.ccAOF():n===35?y.ccAON():n===36?y.ccDER():n===37?y.ccRU(2):n===38?y.ccRU(3):n===39?y.ccRU(4):n===40?y.ccFON():n===41?y.ccRDC():n===42?y.ccTR():n===43?y.ccRTD():n===44?y.ccEDM():n===45?y.ccCR():n===46?y.ccENM():n===47&&y.ccEOC():y.ccTO(n-32),Yn(o,n,a),this.currentChannel=v,!0},c.parseMidrow=function(o,n){var a=0;if((o===17||o===25)&&n>=32&&n<=47){if(o===17?a=1:a=2,a!==this.currentChannel)return this.logger.log(Le.ERROR,"Mismatch channel in midrow parsing"),!1;var u=this.channels[a];return u?(u.ccMIDROW(n),this.logger.log(Le.DEBUG,"MIDROW ("+On([o,n])+")"),!0):!1}return!1},c.parsePAC=function(o,n){var a,u=this.cmdHistory,d=(o>=17&&o<=23||o>=25&&o<=31)&&n>=64&&n<=127,v=(o===16||o===24)&&n>=64&&n<=95;if(!(d||v))return!1;if(gf(o,n,u))return Yn(null,null,u),!0;var y=o<=23?1:2;n>=64&&n<=95?a=y===1?M0[o]:U0[o]:a=y===1?N0[o]:B0[o];var S=this.channels[y];return S?(S.setPAC(this.interpretPAC(a,n)),Yn(o,n,u),this.currentChannel=y,!0):!1},c.interpretPAC=function(o,n){var a=n,u={color:null,italics:!1,indent:null,underline:!1,row:o};return n>95?a=n-96:a=n-64,u.underline=(a&1)===1,a<=13?u.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(a/2)]:a<=15?(u.italics=!0,u.color="white"):u.indent=Math.floor((a-16)/2)*4,u},c.parseChars=function(o,n){var a,u=null,d=null;if(o>=25?(a=2,d=o-8):(a=1,d=o),d>=17&&d<=19){var v=n;d===17?v=n+80:d===18?v=n+112:v=n+144,this.logger.log(Le.INFO,"Special char '"+df(v)+"' in channel "+a),u=[v]}else o>=32&&o<=127&&(u=n===0?[o]:[o,n]);if(u){var y=On(u);this.logger.log(Le.DEBUG,"Char codes =  "+y.join(",")),Yn(o,n,this.cmdHistory)}return u},c.parseBackgroundAttributes=function(o,n){var a=(o===16||o===24)&&n>=32&&n<=47,u=(o===23||o===31)&&n>=45&&n<=47;if(!(a||u))return!1;var d,v={};o===16||o===24?(d=Math.floor((n-32)/2),v.background=j0[d],n%2===1&&(v.background=v.background+"_semi")):n===45?v.background="transparent":(v.foreground="black",n===47&&(v.underline=!0));var y=o<=23?1:2,S=this.channels[y];return S.setBkgData(v),Yn(o,n,this.cmdHistory),!0},c.reset=function(){for(var o=0;o<Object.keys(this.channels).length;o++){var n=this.channels[o];n&&n.reset()}this.cmdHistory=vf()},c.cueSplitAtTime=function(o){for(var n=0;n<this.channels.length;n++){var a=this.channels[n];a&&a.cueSplitAtTime(o)}},h}();function Yn(h,c,l){l.a=h,l.b=c}function gf(h,c,l){return l.a===h&&l.b===c}function vf(){return{a:null,b:null}}var mf=H0,ja=function(){function h(l,o){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=l,this.trackName=o}var c=h.prototype;return c.dispatchCue=function(){this.startTime!==null&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)},c.newCue=function(o,n,a){(this.startTime===null||this.startTime>o)&&(this.startTime=o),this.endTime=n,this.screen=a,this.timelineController.createCaptionsTrack(this.trackName)},c.reset=function(){this.cueRanges=[]},h}(),Ts=function(c,l,o){return c.substr(0,l.length)===l},V0=function(c){var l=parseInt(c.substr(-3)),o=parseInt(c.substr(-6,2)),n=parseInt(c.substr(-9,2)),a=c.length>9?parseInt(c.substr(0,c.indexOf(":"))):0;if(!Object(T.isFiniteNumber)(l)||!Object(T.isFiniteNumber)(o)||!Object(T.isFiniteNumber)(n)||!Object(T.isFiniteNumber)(a))throw Error("Malformed X-TIMESTAMP-MAP: Local:"+c);return l+=1e3*o,l+=60*1e3*n,l+=60*60*1e3*a,l},ws=function(c){for(var l=5381,o=c.length;o;)l=l*33^c.charCodeAt(--o);return(l>>>0).toString()},W0=function(c,l,o){var n=c[l],a=c[n.prevCC];if(!a||!a.new&&n.new){c.ccOffset=c.presentationOffset=n.start,n.new=!1;return}for(;a&&a.new;)c.ccOffset+=n.start-a.start,n.new=!1,n=a,a=c[n.prevCC];c.presentationOffset=o},$0={parse:function(c,l,o,n,a,u){var d=/\r\n|\n\r|\n|\r/g,v=Object(Ii.utf8ArrayToStr)(new Uint8Array(c)).trim().replace(d,`
`).split(`
`),y="00:00.000",S=0,A=0,L=0,j=[],V,ee=!0,ae=!1,he=new F0;he.oncue=function(fe){var xe=o[n],Ee=o.ccOffset;xe&&xe.new&&(A!==void 0?Ee=o.ccOffset=xe.start:W0(o,n,L)),L&&(Ee=L-o.presentationOffset),ae&&(fe.startTime+=Ee-A,fe.endTime+=Ee-A),fe.id=ws(fe.startTime.toString())+ws(fe.endTime.toString())+ws(fe.text),fe.text=decodeURIComponent(encodeURIComponent(fe.text)),fe.endTime>0&&j.push(fe)},he.onparsingerror=function(fe){V=fe},he.onflush=function(){if(V&&u){u(V);return}a(j)},v.forEach(function(fe){if(ee)if(Ts(fe,"X-TIMESTAMP-MAP=")){ee=!1,ae=!0,fe.substr(16).split(",").forEach(function(xe){Ts(xe,"LOCAL:")?y=xe.substr(6):Ts(xe,"MPEGTS:")&&(S=parseInt(xe.substr(7)))});try{l+(o[n].start*9e4||0)<0&&(l+=8589934592),S-=l,A=V0(y)/1e3,L=S/9e4}catch(xe){ae=!1,V=xe}return}else fe===""&&(ee=!1);he.parse(fe+`
`)}),he.flush()}},Y0=$0;function Ga(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function X0(h,c){h.prototype=Object.create(c.prototype),h.prototype.constructor=h,h.__proto__=c}var Q0=function(h){X0(c,h);function c(o){var n;if(n=h.call(this,o,g.default.MEDIA_ATTACHING,g.default.MEDIA_DETACHING,g.default.FRAG_PARSING_USERDATA,g.default.FRAG_DECRYPTED,g.default.MANIFEST_LOADING,g.default.MANIFEST_LOADED,g.default.FRAG_LOADED,g.default.INIT_PTS_FOUND)||this,n.media=null,n.config=void 0,n.enabled=!0,n.Cues=void 0,n.textTracks=[],n.tracks=[],n.initPTS=[],n.unparsedVttFrags=[],n.captionsTracks={},n.nonNativeCaptionsTracks={},n.captionsProperties=void 0,n.cea608Parser1=void 0,n.cea608Parser2=void 0,n.lastSn=-1,n.prevCC=-1,n.vttCCs=yf(),n.hls=o,n.config=o.config,n.Cues=o.config.cueHandler,n.captionsProperties={textTrack1:{label:n.config.captionsTextTrack1Label,languageCode:n.config.captionsTextTrack1LanguageCode},textTrack2:{label:n.config.captionsTextTrack2Label,languageCode:n.config.captionsTextTrack2LanguageCode},textTrack3:{label:n.config.captionsTextTrack3Label,languageCode:n.config.captionsTextTrack3LanguageCode},textTrack4:{label:n.config.captionsTextTrack4Label,languageCode:n.config.captionsTextTrack4LanguageCode}},n.config.enableCEA708Captions){var a=new ja(Ga(n),"textTrack1"),u=new ja(Ga(n),"textTrack2"),d=new ja(Ga(n),"textTrack3"),v=new ja(Ga(n),"textTrack4");n.cea608Parser1=new mf(1,a,u),n.cea608Parser2=new mf(3,d,v)}return n}var l=c.prototype;return l.addCues=function(n,a,u,d,v){for(var y=!1,S=v.length;S--;){var A=v[S],L=Z0(A[0],A[1],a,u);if(L>=0&&(A[0]=Math.min(A[0],a),A[1]=Math.max(A[1],u),y=!0,L/(u-a)>.5))return}if(y||v.push([a,u]),this.config.renderTextTracksNatively)this.Cues.newCue(this.captionsTracks[n],a,u,d);else{var j=this.Cues.newCue(null,a,u,d);this.hls.trigger(g.default.CUES_PARSED,{type:"captions",cues:j,track:n})}},l.onInitPtsFound=function(n){var a=this,u=n.frag,d=n.id,v=n.initPTS,y=this.unparsedVttFrags;d==="main"&&(this.initPTS[u.cc]=v),y.length&&(this.unparsedVttFrags=[],y.forEach(function(S){a.onFragLoaded(S)}))},l.getExistingTrack=function(n){var a=this.media;if(a)for(var u=0;u<a.textTracks.length;u++){var d=a.textTracks[u];if(d[n])return d}return null},l.createCaptionsTrack=function(n){this.config.renderTextTracksNatively?this.createNativeTrack(n):this.createNonNativeTrack(n)},l.createNativeTrack=function(n){if(!this.captionsTracks[n]){var a=this.captionsProperties,u=this.captionsTracks,d=this.media,v=a[n],y=v.label,S=v.languageCode,A=this.getExistingTrack(n);if(A)u[n]=A,Dn(u[n]),Wn(u[n],d);else{var L=this.createTextTrack("captions",y,S);L&&(L[n]=!0,u[n]=L)}}},l.createNonNativeTrack=function(n){if(!this.nonNativeCaptionsTracks[n]){var a=this.captionsProperties[n];if(a){var u=a.label,d={_id:n,label:u,kind:"captions",default:a.media?!!a.media.default:!1,closedCaptions:a.media};this.nonNativeCaptionsTracks[n]=d,this.hls.trigger(g.default.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[d]})}}},l.createTextTrack=function(n,a,u){var d=this.media;if(d)return d.addTextTrack(n,a,u)},l.destroy=function(){h.prototype.destroy.call(this)},l.onMediaAttaching=function(n){this.media=n.media,this._cleanTracks()},l.onMediaDetaching=function(){var n=this.captionsTracks;Object.keys(n).forEach(function(a){Dn(n[a]),delete n[a]}),this.nonNativeCaptionsTracks={}},l.onManifestLoading=function(){this.lastSn=-1,this.prevCC=-1,this.vttCCs=yf(),this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={}},l._cleanTracks=function(){var n=this.media;if(n){var a=n.textTracks;if(a)for(var u=0;u<a.length;u++)Dn(a[u])}},l.onManifestLoaded=function(n){var a=this;if(this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset()),this.config.enableWebVTT){var u=n.subtitles||[],d=this.tracks&&u&&this.tracks.length===u.length;if(this.tracks=n.subtitles||[],this.config.renderTextTracksNatively){var v=this.media?this.media.textTracks:[];this.tracks.forEach(function(S,A){var L;if(A<v.length){for(var j=null,V=0;V<v.length;V++)if(q0(v[V],S)){j=v[V];break}j&&(L=j)}L||(L=a.createTextTrack("subtitles",S.name,S.lang)),S.default?L.mode=a.hls.subtitleDisplay?"showing":"hidden":L.mode="disabled",a.textTracks.push(L)})}else if(!d&&this.tracks&&this.tracks.length){var y=this.tracks.map(function(S){return{label:S.name,kind:S.type.toLowerCase(),default:S.default,subtitleTrack:S}});this.hls.trigger(g.default.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:y})}}this.config.enableCEA708Captions&&n.captions&&n.captions.forEach(function(S){var A=/(?:CC|SERVICE)([1-4])/.exec(S.instreamId);if(A){var L="textTrack"+A[1],j=a.captionsProperties[L];j&&(j.label=S.name,S.lang&&(j.languageCode=S.lang),j.media=S)}})},l.onFragLoaded=function(n){var a=n.frag,u=n.payload,d=this.cea608Parser1,v=this.cea608Parser2,y=this.initPTS,S=this.lastSn,A=this.unparsedVttFrags;if(a.type==="main"){var L=a.sn;a.sn!==S+1&&d&&v&&(d.reset(),v.reset()),this.lastSn=L}else if(a.type==="subtitle")if(u.byteLength){if(!Object(T.isFiniteNumber)(y[a.cc])){A.push(n),y.length&&this.hls.trigger(g.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:a});return}var j=a.decryptdata;(j==null||j.key==null||j.method!=="AES-128")&&this._parseVTTs(a,u)}else this.hls.trigger(g.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:a})},l._parseVTTs=function(n,a){var u=this,d=this.hls,v=this.prevCC,y=this.textTracks,S=this.vttCCs;S[n.cc]||(S[n.cc]={start:n.start,prevCC:v,new:!0},this.prevCC=n.cc),Y0.parse(a,this.initPTS[n.cc],S,n.cc,function(A){if(u.config.renderTextTracksNatively){var L=y[n.level];if(L.mode==="disabled"){d.trigger(g.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n});return}A.forEach(function(V){if(!L.cues.getCueById(V.id))try{if(L.addCue(V),!L.cues.getCueById(V.id))throw new Error("addCue is failed for: "+V)}catch(ae){E.logger.debug("Failed occurred on adding cues: "+ae);var ee=new window.TextTrackCue(V.startTime,V.endTime,V.text);ee.id=V.id,L.addCue(ee)}})}else{var j=u.tracks[n.level].default?"default":"subtitles"+n.level;d.trigger(g.default.CUES_PARSED,{type:"subtitles",cues:A,track:j})}d.trigger(g.default.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:n})},function(A){E.logger.log("Failed to parse VTT cue: "+A),d.trigger(g.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n})})},l.onFragDecrypted=function(n){var a=n.frag,u=n.payload;if(a.type==="subtitle"){if(!Object(T.isFiniteNumber)(this.initPTS[a.cc])){this.unparsedVttFrags.push(n);return}this._parseVTTs(a,u)}},l.onFragParsingUserdata=function(n){var a=this.cea608Parser1,u=this.cea608Parser2;if(!(!this.enabled||!(a&&u)))for(var d=0;d<n.samples.length;d++){var v=n.samples[d].bytes;if(v){var y=this.extractCea608Data(v);a.addData(n.samples[d].pts,y[0]),u.addData(n.samples[d].pts,y[1])}}},l.extractCea608Data=function(n){for(var a=n[0]&31,u=2,d=[[],[]],v=0;v<a;v++){var y=n[u++],S=127&n[u++],A=127&n[u++],L=(4&y)!==0,j=3&y;S===0&&A===0||L&&(j===0||j===1)&&(d[j].push(S),d[j].push(A))}return d},c}(k);function q0(h,c){return h&&h.label===c.name&&!(h.textTrack1||h.textTrack2)}function Z0(h,c,l,o){return Math.min(c,o)-Math.max(h,l)}function yf(){return{ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!1}}}var J0=Q0;function eg(h,c){for(var l=0;l<c.length;l++){var o=c[l];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(h,o.key,o)}}function tg(h,c,l){return c&&eg(h.prototype,c),h}function rg(h,c){h.prototype=Object.create(c.prototype),h.prototype.constructor=h,h.__proto__=c}var ng=function(h){rg(c,h);function c(o){var n;return n=h.call(this,o,g.default.MEDIA_ATTACHED,g.default.MEDIA_DETACHING,g.default.MANIFEST_LOADED,g.default.SUBTITLE_TRACK_LOADED)||this,n.tracks=[],n.trackId=-1,n.media=null,n.stopped=!0,n.subtitleDisplay=!0,n.queuedDefaultTrack=null,n}var l=c.prototype;return l.destroy=function(){k.prototype.destroy.call(this)},l.onMediaAttached=function(n){var a=this;this.media=n.media,this.media&&(Object(T.isFiniteNumber)(this.queuedDefaultTrack)&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=null),this.trackChangeListener=this._onTextTracksChanged.bind(this),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.subtitlePollingInterval=setInterval(function(){a.trackChangeListener()},500):this.media.textTracks.addEventListener("change",this.trackChangeListener))},l.onMediaDetaching=function(){if(this.media){this.useTextTrackPolling?clearInterval(this.subtitlePollingInterval):this.media.textTracks.removeEventListener("change",this.trackChangeListener),Object(T.isFiniteNumber)(this.subtitleTrack)&&(this.queuedDefaultTrack=this.subtitleTrack);var n=Rs(this.media.textTracks);n.forEach(function(a){Dn(a)}),this.subtitleTrack=-1,this.media=null}},l.onManifestLoaded=function(n){var a=this,u=n.subtitles||[];this.tracks=u,this.hls.trigger(g.default.SUBTITLE_TRACKS_UPDATED,{subtitleTracks:u}),u.forEach(function(d){d.default&&(a.media?a.subtitleTrack=d.id:a.queuedDefaultTrack=d.id)})},l.onSubtitleTrackLoaded=function(n){var a=this,u=n.id,d=n.details,v=this.trackId,y=this.tracks,S=y[v];if(u>=y.length||u!==v||!S||this.stopped){this._clearReloadTimer();return}if(E.logger.log("subtitle track "+u+" loaded"),d.live){var A=_e(S.details,d,n.stats.trequest);E.logger.log("Reloading live subtitle playlist in "+A+"ms"),this.timer=setTimeout(function(){a._loadCurrentTrack()},A)}else this._clearReloadTimer()},l.startLoad=function(){this.stopped=!1,this._loadCurrentTrack()},l.stopLoad=function(){this.stopped=!0,this._clearReloadTimer()},l._clearReloadTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},l._loadCurrentTrack=function(){var n=this.trackId,a=this.tracks,u=this.hls,d=a[n];n<0||!d||d.details&&!d.details.live||(E.logger.log("Loading subtitle track "+n),u.trigger(g.default.SUBTITLE_TRACK_LOADING,{url:d.url,id:n}))},l._toggleTrackModes=function(n){var a=this.media,u=this.subtitleDisplay,d=this.trackId;if(a){var v=Rs(a.textTracks);if(n===-1)[].slice.call(v).forEach(function(A){A.mode="disabled"});else{var y=v[d];y&&(y.mode="disabled")}var S=v[n];S&&(S.mode=u?"showing":"hidden")}},l._setSubtitleTrackInternal=function(n){var a=this.hls,u=this.tracks;!Object(T.isFiniteNumber)(n)||n<-1||n>=u.length||(this.trackId=n,E.logger.log("Switching to subtitle track "+n),a.trigger(g.default.SUBTITLE_TRACK_SWITCH,{id:n}),this._loadCurrentTrack())},l._onTextTracksChanged=function(){if(!(!this.media||!this.hls.config.renderTextTracksNatively)){for(var n=-1,a=Rs(this.media.textTracks),u=0;u<a.length;u++)if(a[u].mode==="hidden")n=u;else if(a[u].mode==="showing"){n=u;break}this.subtitleTrack=n}},tg(c,[{key:"subtitleTracks",get:function(){return this.tracks}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(n){this.trackId!==n&&(this._toggleTrackModes(n),this._setSubtitleTrackInternal(n))}}]),c}(k);function Rs(h){for(var c=[],l=0;l<h.length;l++){var o=h[l];o.kind==="subtitles"&&o.label&&c.push(h[l])}return c}var ig=ng,ag=s("./src/crypt/decrypter.js");function og(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function sg(h,c){h.prototype=Object.create(c.prototype),h.prototype.constructor=h,h.__proto__=c}var lg=window,xf=lg.performance,As=500,ug=function(h){sg(c,h);function c(o,n){var a;return a=h.call(this,o,g.default.MEDIA_ATTACHED,g.default.MEDIA_DETACHING,g.default.ERROR,g.default.KEY_LOADED,g.default.FRAG_LOADED,g.default.SUBTITLE_TRACKS_UPDATED,g.default.SUBTITLE_TRACK_SWITCH,g.default.SUBTITLE_TRACK_LOADED,g.default.SUBTITLE_FRAG_PROCESSED,g.default.LEVEL_UPDATED)||this,a.fragmentTracker=n,a.config=o.config,a.state=X.STOPPED,a.tracks=[],a.tracksBuffered=[],a.currentTrackId=-1,a.decrypter=new ag.default(o,o.config),a.lastAVStart=0,a._onMediaSeeking=a.onMediaSeeking.bind(og(a)),a}var l=c.prototype;return l.startLoad=function(){this.stopLoad(),this.state=X.IDLE;var n=this.tracks[this.currentTrackId];n&&n.details&&(this.setInterval(As),this.tick())},l.onSubtitleFragProcessed=function(n){var a=n.frag,u=n.success;if(this.fragPrevious=a,this.state=X.IDLE,!!u){var d=this.tracksBuffered[this.currentTrackId];if(d){for(var v,y=a.start,S=0;S<d.length;S++)if(y>=d[S].start&&y<=d[S].end){v=d[S];break}var A=a.start+a.duration;v?v.end=A:(v={start:y,end:A},d.push(v))}}},l.onMediaAttached=function(n){var a=n.media;this.media=a,a.addEventListener("seeking",this._onMediaSeeking),this.state=X.IDLE},l.onMediaDetaching=function(){var n=this;this.media&&(this.media.removeEventListener("seeking",this._onMediaSeeking),this.fragmentTracker.removeAllFragments(),this.currentTrackId=-1,this.tracks.forEach(function(a){n.tracksBuffered[a.id]=[]}),this.media=null,this.state=X.STOPPED)},l.onError=function(n){var a=n.frag;!a||a.type!=="subtitle"||(this.fragCurrent&&this.fragCurrent.loader&&this.fragCurrent.loader.abort(),this.state=X.IDLE)},l.onSubtitleTracksUpdated=function(n){var a=this;E.logger.log("subtitle tracks updated"),this.tracksBuffered=[],this.tracks=n.subtitleTracks,this.tracks.forEach(function(u){a.tracksBuffered[u.id]=[]})},l.onSubtitleTrackSwitch=function(n){if(this.currentTrackId=n.id,!this.tracks||!this.tracks.length||this.currentTrackId===-1){this.clearInterval();return}var a=this.tracks[this.currentTrackId];a&&a.details&&this.setInterval(As)},l.onSubtitleTrackLoaded=function(n){var a=n.id,u=n.details,d=this.currentTrackId,v=this.tracks,y=v[d];a>=v.length||a!==d||!y||(u.live&&de(y.details,u,this.lastAVStart),y.details=u,this.setInterval(As))},l.onKeyLoaded=function(){this.state===X.KEY_LOADING&&(this.state=X.IDLE)},l.onFragLoaded=function(n){var a=this.fragCurrent,u=n.frag.decryptdata,d=n.frag,v=this.hls;if(this.state===X.FRAG_LOADING&&a&&n.frag.type==="subtitle"&&a.sn===n.frag.sn&&n.payload.byteLength>0&&u&&u.key&&u.method==="AES-128"){var y=xf.now();this.decrypter.decrypt(n.payload,u.key.buffer,u.iv.buffer,function(S){var A=xf.now();v.trigger(g.default.FRAG_DECRYPTED,{frag:d,payload:S,stats:{tstart:y,tdecrypt:A}})})}},l.onLevelUpdated=function(n){var a=n.details,u=a.fragments;this.lastAVStart=u.length?u[0].start:0},l.doTick=function(){if(!this.media){this.state=X.IDLE;return}switch(this.state){case X.IDLE:{var n=this.config,a=this.currentTrackId,u=this.fragmentTracker,d=this.media,v=this.tracks;if(!v||!v[a]||!v[a].details)break;var y=n.maxBufferHole,S=n.maxFragLookUpTolerance,A=Math.min(n.maxBufferLength,n.maxMaxBufferLength),L=C.bufferedInfo(this._getBuffered(),d.currentTime,y),j=L.end,V=L.len,ee=v[a].details,ae=ee.fragments,he=ae.length,fe=ae[he-1].start+ae[he-1].duration;if(V>A)return;var xe,Ee=this.fragPrevious;j<fe?(Ee&&ee.hasProgramDateTime&&(xe=Nt(ae,Ee.endProgramDateTime,S)),xe||(xe=ot(Ee,ae,j,S))):xe=ae[he-1],xe&&xe.encrypted?(E.logger.log("Loading key for "+xe.sn),this.state=X.KEY_LOADING,this.hls.trigger(g.default.KEY_LOADING,{frag:xe})):xe&&u.getState(xe)===pt.NOT_LOADED&&(this.fragCurrent=xe,this.state=X.FRAG_LOADING,this.hls.trigger(g.default.FRAG_LOADING,{frag:xe}))}}},l.stopLoad=function(){this.lastAVStart=0,this.fragPrevious=null,h.prototype.stopLoad.call(this)},l._getBuffered=function(){return this.tracksBuffered[this.currentTrackId]||[]},l.onMediaSeeking=function(){if(this.fragCurrent){var n=this.media?this.media.currentTime:0,a=this.config.maxFragLookUpTolerance,u=this.fragCurrent.start-a,d=this.fragCurrent.start+this.fragCurrent.duration+a;(n<u||n>d)&&(this.fragCurrent.loader&&this.fragCurrent.loader.abort(),this.fragmentTracker.removeFragment(this.fragCurrent),this.fragCurrent=null,this.fragPrevious=null,this.state=X.IDLE,this.tick())}},c}(Ut),Xn;(function(h){h.WIDEVINE="com.widevine.alpha",h.PLAYREADY="com.microsoft.playready"})(Xn||(Xn={}));var fg=function(){return typeof window<"u"&&window.navigator&&window.navigator.requestMediaKeySystemAccess?window.navigator.requestMediaKeySystemAccess.bind(window.navigator):null}();function cg(h,c){for(var l=0;l<c.length;l++){var o=c[l];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(h,o.key,o)}}function dg(h,c,l){return c&&cg(h.prototype,c),h}function hg(h,c){h.prototype=Object.create(c.prototype),h.prototype.constructor=h,h.__proto__=c}var Ef=3,pg=function(c,l,o){var n={audioCapabilities:[],videoCapabilities:[]};return c.forEach(function(a){n.audioCapabilities.push({contentType:'audio/mp4; codecs="'+a+'"',robustness:o.audioRobustness||""})}),l.forEach(function(a){n.videoCapabilities.push({contentType:'video/mp4; codecs="'+a+'"',robustness:o.videoRobustness||""})}),[n]},gg=function(c,l,o,n){switch(c){case Xn.WIDEVINE:return pg(l,o,n);default:throw new Error("Unknown key-system: "+c)}},vg=function(h){hg(c,h);function c(o){var n;return n=h.call(this,o,g.default.MEDIA_ATTACHED,g.default.MEDIA_DETACHED,g.default.MANIFEST_PARSED)||this,n._widevineLicenseUrl=void 0,n._licenseXhrSetup=void 0,n._emeEnabled=void 0,n._requestMediaKeySystemAccess=void 0,n._drmSystemOptions=void 0,n._config=void 0,n._mediaKeysList=[],n._media=null,n._hasSetMediaKeys=!1,n._requestLicenseFailureCount=0,n.mediaKeysPromise=null,n._onMediaEncrypted=function(a){if(E.logger.log('Media is encrypted using "'+a.initDataType+'" init data type'),!n.mediaKeysPromise){E.logger.error("Fatal: Media is encrypted but no CDM access or no keys have been requested"),n.hls.trigger(g.default.ERROR,{type:m.ErrorTypes.KEY_SYSTEM_ERROR,details:m.ErrorDetails.KEY_SYSTEM_NO_KEYS,fatal:!0});return}var u=function(v){n._media&&(n._attemptSetMediaKeys(v),n._generateRequestWithPreferredKeySession(a.initDataType,a.initData))};n.mediaKeysPromise.then(u).catch(u)},n._config=o.config,n._widevineLicenseUrl=n._config.widevineLicenseUrl,n._licenseXhrSetup=n._config.licenseXhrSetup,n._emeEnabled=n._config.emeEnabled,n._requestMediaKeySystemAccess=n._config.requestMediaKeySystemAccessFunc,n._drmSystemOptions=o.config.drmSystemOptions,n}var l=c.prototype;return l.getLicenseServerUrl=function(n){switch(n){case Xn.WIDEVINE:if(!this._widevineLicenseUrl)break;return this._widevineLicenseUrl}throw new Error('no license server URL configured for key-system "'+n+'"')},l._attemptKeySystemAccess=function(n,a,u){var d=this,v=gg(n,a,u,this._drmSystemOptions);E.logger.log("Requesting encrypted media key-system access");var y=this.requestMediaKeySystemAccess(n,v);this.mediaKeysPromise=y.then(function(S){return d._onMediaKeySystemAccessObtained(n,S)}),y.catch(function(S){E.logger.error('Failed to obtain key-system "'+n+'" access:',S)})},l._onMediaKeySystemAccessObtained=function(n,a){var u=this;E.logger.log('Access for key-system "'+n+'" obtained');var d={mediaKeysSessionInitialized:!1,mediaKeySystemAccess:a,mediaKeySystemDomain:n};this._mediaKeysList.push(d);var v=Promise.resolve().then(function(){return a.createMediaKeys()}).then(function(y){return d.mediaKeys=y,E.logger.log('Media-keys created for key-system "'+n+'"'),u._onMediaKeysCreated(),y});return v.catch(function(y){E.logger.error("Failed to create media-keys:",y)}),v},l._onMediaKeysCreated=function(){var n=this;this._mediaKeysList.forEach(function(a){a.mediaKeysSession||(a.mediaKeysSession=a.mediaKeys.createSession(),n._onNewMediaKeySession(a.mediaKeysSession))})},l._onNewMediaKeySession=function(n){var a=this;E.logger.log("New key-system session "+n.sessionId),n.addEventListener("message",function(u){a._onKeySessionMessage(n,u.message)},!1)},l._onKeySessionMessage=function(n,a){E.logger.log("Got EME message event, creating license request"),this._requestLicense(a,function(u){E.logger.log("Received license data (length: "+(u&&u.byteLength)+"), updating key-session"),n.update(u)})},l._attemptSetMediaKeys=function(n){if(!this._media)throw new Error("Attempted to set mediaKeys without first attaching a media element");if(!this._hasSetMediaKeys){var a=this._mediaKeysList[0];if(!a||!a.mediaKeys){E.logger.error("Fatal: Media is encrypted but no CDM access or no keys have been obtained yet"),this.hls.trigger(g.default.ERROR,{type:m.ErrorTypes.KEY_SYSTEM_ERROR,details:m.ErrorDetails.KEY_SYSTEM_NO_KEYS,fatal:!0});return}E.logger.log("Setting keys for encrypted media"),this._media.setMediaKeys(a.mediaKeys),this._hasSetMediaKeys=!0}},l._generateRequestWithPreferredKeySession=function(n,a){var u=this,d=this._mediaKeysList[0];if(!d){E.logger.error("Fatal: Media is encrypted but not any key-system access has been obtained yet"),this.hls.trigger(g.default.ERROR,{type:m.ErrorTypes.KEY_SYSTEM_ERROR,details:m.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});return}if(d.mediaKeysSessionInitialized){E.logger.warn("Key-Session already initialized but requested again");return}var v=d.mediaKeysSession;if(!v){E.logger.error("Fatal: Media is encrypted but no key-session existing"),this.hls.trigger(g.default.ERROR,{type:m.ErrorTypes.KEY_SYSTEM_ERROR,details:m.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!0});return}if(!a){E.logger.warn("Fatal: initData required for generating a key session is null"),this.hls.trigger(g.default.ERROR,{type:m.ErrorTypes.KEY_SYSTEM_ERROR,details:m.ErrorDetails.KEY_SYSTEM_NO_INIT_DATA,fatal:!0});return}E.logger.log('Generating key-session request for "'+n+'" init data type'),d.mediaKeysSessionInitialized=!0,v.generateRequest(n,a).then(function(){E.logger.debug("Key-session generation succeeded")}).catch(function(y){E.logger.error("Error generating key-session request:",y),u.hls.trigger(g.default.ERROR,{type:m.ErrorTypes.KEY_SYSTEM_ERROR,details:m.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!1})})},l._createLicenseXhr=function(n,a,u){var d=new XMLHttpRequest,v=this._licenseXhrSetup;try{if(v)try{v(d,n)}catch{d.open("POST",n,!0),v(d,n)}d.readyState||d.open("POST",n,!0)}catch(y){throw new Error("issue setting up KeySystem license XHR "+y)}return d.responseType="arraybuffer",d.onreadystatechange=this._onLicenseRequestReadyStageChange.bind(this,d,n,a,u),d},l._onLicenseRequestReadyStageChange=function(n,a,u,d){switch(n.readyState){case 4:if(n.status===200)this._requestLicenseFailureCount=0,E.logger.log("License request succeeded"),n.responseType!=="arraybuffer"&&E.logger.warn("xhr response type was not set to the expected arraybuffer for license request"),d(n.response);else{if(E.logger.error("License Request XHR failed ("+a+"). Status: "+n.status+" ("+n.statusText+")"),this._requestLicenseFailureCount++,this._requestLicenseFailureCount>Ef){this.hls.trigger(g.default.ERROR,{type:m.ErrorTypes.KEY_SYSTEM_ERROR,details:m.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0});return}var v=Ef-this._requestLicenseFailureCount+1;E.logger.warn("Retrying license request, "+v+" attempts left"),this._requestLicense(u,d)}break}},l._generateLicenseRequestChallenge=function(n,a){switch(n.mediaKeySystemDomain){case Xn.WIDEVINE:return a}throw new Error("unsupported key-system: "+n.mediaKeySystemDomain)},l._requestLicense=function(n,a){E.logger.log("Requesting content license for key-system");var u=this._mediaKeysList[0];if(!u){E.logger.error("Fatal error: Media is encrypted but no key-system access has been obtained yet"),this.hls.trigger(g.default.ERROR,{type:m.ErrorTypes.KEY_SYSTEM_ERROR,details:m.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});return}try{var d=this.getLicenseServerUrl(u.mediaKeySystemDomain),v=this._createLicenseXhr(d,n,a);E.logger.log("Sending license request to URL: "+d);var y=this._generateLicenseRequestChallenge(u,n);v.send(y)}catch(S){E.logger.error("Failure requesting DRM license: "+S),this.hls.trigger(g.default.ERROR,{type:m.ErrorTypes.KEY_SYSTEM_ERROR,details:m.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})}},l.onMediaAttached=function(n){if(this._emeEnabled){var a=n.media;this._media=a,a.addEventListener("encrypted",this._onMediaEncrypted)}},l.onMediaDetached=function(){var n=this._media,a=this._mediaKeysList;n&&(n.removeEventListener("encrypted",this._onMediaEncrypted),this._media=null,this._mediaKeysList=[],Promise.all(a.map(function(u){if(u.mediaKeysSession)return u.mediaKeysSession.close().catch(function(){})})).then(function(){return n.setMediaKeys(null)}).catch(function(){}))},l.onManifestParsed=function(n){if(this._emeEnabled){var a=n.levels.map(function(d){return d.audioCodec}),u=n.levels.map(function(d){return d.videoCodec});this._attemptKeySystemAccess(Xn.WIDEVINE,a,u)}},dg(c,[{key:"requestMediaKeySystemAccess",get:function(){if(!this._requestMediaKeySystemAccess)throw new Error("No requestMediaKeySystemAccess function configured");return this._requestMediaKeySystemAccess}}]),c}(k),mg=vg;function Sf(h,c){var l=Object.keys(h);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(h);c&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(h,n).enumerable})),l.push.apply(l,o)}return l}function _f(h){for(var c=1;c<arguments.length;c++){var l=arguments[c]!=null?arguments[c]:{};c%2?Sf(Object(l),!0).forEach(function(o){yg(h,o,l[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(l)):Sf(Object(l)).forEach(function(o){Object.defineProperty(h,o,Object.getOwnPropertyDescriptor(l,o))})}return h}function yg(h,c,l){return c in h?Object.defineProperty(h,c,{value:l,enumerable:!0,configurable:!0,writable:!0}):h[c]=l,h}var xg=_f(_f({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,maxBufferSize:60*1e3*1e3,maxBufferHole:.5,lowBufferWatchdogPeriod:.5,highBufferWatchdogPeriod:3,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,liveDurationInfinity:!1,liveBackBufferLength:1/0,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:x0,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,abrController:a0,bufferController:l0,capLevelController:d0,fpsController:m0,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystemOptions:{},requestMediaKeySystemAccessFunc:fg,testBandwidth:!0},Eg()),{},{subtitleStreamController:ug,subtitleTrackController:ig,timelineController:J0,audioStreamController:D0,audioTrackController:w0,emeController:mg});function Eg(){return{cueHandler:f,enableCEA708Captions:!0,enableWebVTT:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}}function Tf(h,c){var l=Object.keys(h);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(h);c&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(h,n).enumerable})),l.push.apply(l,o)}return l}function wf(h){for(var c=1;c<arguments.length;c++){var l=arguments[c]!=null?arguments[c]:{};c%2?Tf(Object(l),!0).forEach(function(o){Sg(h,o,l[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(l)):Tf(Object(l)).forEach(function(o){Object.defineProperty(h,o,Object.getOwnPropertyDescriptor(l,o))})}return h}function Sg(h,c,l){return c in h?Object.defineProperty(h,c,{value:l,enumerable:!0,configurable:!0,writable:!0}):h[c]=l,h}function gt(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function Rf(h,c){for(var l=0;l<c.length;l++){var o=c[l];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(h,o.key,o)}}function Af(h,c,l){return c&&Rf(h.prototype,c),l&&Rf(h,l),h}function _g(h,c){h.prototype=Object.create(c.prototype),h.prototype.constructor=h,h.__proto__=c}var Lf=function(h){_g(c,h),c.isSupported=function(){return Es()},Af(c,null,[{key:"version",get:function(){return"0.14.17"}},{key:"Events",get:function(){return g.default}},{key:"ErrorTypes",get:function(){return m.ErrorTypes}},{key:"ErrorDetails",get:function(){return m.ErrorDetails}},{key:"DefaultConfig",get:function(){return c.defaultConfig?c.defaultConfig:xg},set:function(n){c.defaultConfig=n}}]);function c(o){var n;o===void 0&&(o={}),n=h.call(this)||this,n.config=void 0,n._autoLevelCapping=void 0,n.abrController=void 0,n.capLevelController=void 0,n.levelController=void 0,n.streamController=void 0,n.networkControllers=void 0,n.audioTrackController=void 0,n.subtitleTrackController=void 0,n.emeController=void 0,n.coreComponents=void 0,n.media=null,n.url=null;var a=c.DefaultConfig;if((o.liveSyncDurationCount||o.liveMaxLatencyDurationCount)&&(o.liveSyncDuration||o.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");n.config=wf(wf({},a),o);var u=gt(n),d=u.config;if(d.liveMaxLatencyDurationCount!==void 0&&d.liveMaxLatencyDurationCount<=d.liveSyncDurationCount)throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be gt "liveSyncDurationCount"');if(d.liveMaxLatencyDuration!==void 0&&(d.liveSyncDuration===void 0||d.liveMaxLatencyDuration<=d.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be gt "liveSyncDuration"');Object(E.enableLogs)(d.debug),n._autoLevelCapping=-1;var v=n.abrController=new d.abrController(gt(n)),y=new d.bufferController(gt(n)),S=n.capLevelController=new d.capLevelController(gt(n)),A=new d.fpsController(gt(n)),L=new Wt(gt(n)),j=new kt(gt(n)),V=new wn(gt(n)),ee=new xs(gt(n)),ae=n.levelController=new ys(gt(n)),he=new gs(gt(n)),fe=n.streamController=new ba(gt(n),he),xe=[ae,fe],Ee=d.audioStreamController;Ee&&xe.push(new Ee(gt(n),he)),n.networkControllers=xe;var Oe=[L,j,V,v,y,S,A,ee,he];if(Ee=d.audioTrackController,Ee){var et=new Ee(gt(n));n.audioTrackController=et,Oe.push(et)}if(Ee=d.subtitleTrackController,Ee){var nr=new Ee(gt(n));n.subtitleTrackController=nr,xe.push(nr)}if(Ee=d.emeController,Ee){var _t=new Ee(gt(n));n.emeController=_t,Oe.push(_t)}return Ee=d.subtitleStreamController,Ee&&xe.push(new Ee(gt(n),he)),Ee=d.timelineController,Ee&&Oe.push(new Ee(gt(n))),n.coreComponents=Oe,n}var l=c.prototype;return l.destroy=function(){E.logger.log("destroy"),this.trigger(g.default.DESTROYING),this.detachMedia(),this.coreComponents.concat(this.networkControllers).forEach(function(n){n.destroy()}),this.url=null,this.removeAllListeners(),this._autoLevelCapping=-1},l.attachMedia=function(n){E.logger.log("attachMedia"),this.media=n,this.trigger(g.default.MEDIA_ATTACHING,{media:n})},l.detachMedia=function(){E.logger.log("detachMedia"),this.trigger(g.default.MEDIA_DETACHING),this.media=null},l.loadSource=function(n){n=p.buildAbsoluteURL(window.location.href,n,{alwaysNormalize:!0}),E.logger.log("loadSource:"+n),this.url=n,this.trigger(g.default.MANIFEST_LOADING,{url:n})},l.startLoad=function(n){n===void 0&&(n=-1),E.logger.log("startLoad("+n+")"),this.networkControllers.forEach(function(a){a.startLoad(n)})},l.stopLoad=function(){E.logger.log("stopLoad"),this.networkControllers.forEach(function(n){n.stopLoad()})},l.swapAudioCodec=function(){E.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()},l.recoverMediaError=function(){E.logger.log("recoverMediaError");var n=this.media;this.detachMedia(),n&&this.attachMedia(n)},l.removeLevel=function(n,a){a===void 0&&(a=0),this.levelController.removeLevel(n,a)},Af(c,[{key:"levels",get:function(){return this.levelController.levels}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(n){E.logger.log("set currentLevel:"+n),this.loadLevel=n,this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(n){E.logger.log("set nextLevel:"+n),this.levelController.manualLevel=n,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(n){E.logger.log("set loadLevel:"+n),this.levelController.manualLevel=n}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(n){this.levelController.nextLoadLevel=n}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(n){E.logger.log("set firstLevel:"+n),this.levelController.firstLevel=n}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(n){E.logger.log("set startLevel:"+n),n!==-1&&(n=Math.max(n,this.minAutoLevel)),this.levelController.startLevel=n}},{key:"capLevelToPlayerSize",set:function(n){var a=!!n;a!==this.config.capLevelToPlayerSize&&(a?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=a)}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(n){E.logger.log("set autoLevelCapping:"+n),this._autoLevelCapping=n}},{key:"bandwidthEstimate",get:function(){var n=this.abrController._bwEstimator;return n?n.getEstimate():NaN}},{key:"autoLevelEnabled",get:function(){return this.levelController.manualLevel===-1}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){for(var n=this.levels,a=this.config.minAutoBitrate,u=n?n.length:0,d=0;d<u;d++){var v=n[d].realBitrate?Math.max(n[d].realBitrate,n[d].bitrate):n[d].bitrate;if(v>a)return d}return 0}},{key:"maxAutoLevel",get:function(){var n=this.levels,a=this.autoLevelCapping,u;return a===-1&&n&&n.length?u=n.length-1:u=a,u}},{key:"nextAutoLevel",get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(n){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,n)}},{key:"audioTracks",get:function(){var n=this.audioTrackController;return n?n.audioTracks:[]}},{key:"audioTrack",get:function(){var n=this.audioTrackController;return n?n.audioTrack:-1},set:function(n){var a=this.audioTrackController;a&&(a.audioTrack=n)}},{key:"liveSyncPosition",get:function(){return this.streamController.liveSyncPosition}},{key:"subtitleTracks",get:function(){var n=this.subtitleTrackController;return n?n.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var n=this.subtitleTrackController;return n?n.subtitleTrack:-1},set:function(n){var a=this.subtitleTrackController;a&&(a.subtitleTrack=n)}},{key:"subtitleDisplay",get:function(){var n=this.subtitleTrackController;return n?n.subtitleDisplay:!1},set:function(n){var a=this.subtitleTrackController;a&&(a.subtitleDisplay=n)}}]),c}(W);Lf.defaultConfig=void 0},"./src/polyfills/number.js":function(r,i,s){s.r(i),s.d(i,"isFiniteNumber",function(){return f}),s.d(i,"MAX_SAFE_INTEGER",function(){return p});var f=Number.isFinite||function(m){return typeof m=="number"&&isFinite(m)},p=Number.MAX_SAFE_INTEGER||9007199254740991},"./src/utils/get-self-scope.js":function(r,i,s){s.r(i),s.d(i,"getSelfScope",function(){return f});function f(){return typeof window>"u"?self:window}},"./src/utils/logger.js":function(r,i,s){s.r(i),s.d(i,"enableLogs",function(){return k}),s.d(i,"logger",function(){return b});var f=s("./src/utils/get-self-scope.js");function p(){}var m={trace:p,debug:p,log:p,warn:p,info:p,error:p},T=m;function g(D,K){return K="["+D+"] > "+K,K}var E=Object(f.getSelfScope)();function N(D){var K=E.console[D];return K?function(){for(var P=arguments.length,w=new Array(P),F=0;F<P;F++)w[F]=arguments[F];w[0]&&(w[0]=g(D,w[0])),K.apply(E.console,w)}:p}function _(D){for(var K=arguments.length,P=new Array(K>1?K-1:0),w=1;w<K;w++)P[w-1]=arguments[w];P.forEach(function(F){T[F]=D[F]?D[F].bind(D):N(F)})}var k=function(K){if(E.console&&K===!0||typeof K=="object"){_(K,"debug","log","info","warn","error");try{T.log()}catch{T=m}}else T=m},b=T}}).default})})(fp);var fy=fp.exports;const rn=eu(fy);var la=function(){return la=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},la.apply(this,arguments)},cy=function(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(r[i[s]]=e[i[s]]);return r};function dy(e){var t=e.hlsConfig,r=e.playerRef,i=r===void 0?Pr.createRef():r,s=e.src,f=e.autoPlay,p=cy(e,["hlsConfig","playerRef","src","autoPlay"]);return Ur.useEffect(function(){var m;function T(){m!=null&&m.destroy();var g=new rn(la({enableWorker:!1},t));i.current!=null&&g.attachMedia(i.current),g.on(rn.Events.MEDIA_ATTACHED,function(){g.loadSource(s),g.on(rn.Events.MANIFEST_PARSED,function(){var E;f&&((E=i==null?void 0:i.current)===null||E===void 0||E.play().catch(function(){return console.log("Unable to autoplay prior to user interaction with the dom.")}))})}),g.on(rn.Events.ERROR,function(E,N){if(N.fatal)switch(N.type){case rn.ErrorTypes.NETWORK_ERROR:g.startLoad();break;case rn.ErrorTypes.MEDIA_ERROR:g.recoverMediaError();break;default:T();break}}),m=g}return rn.isSupported()&&T(),function(){m!=null&&m.destroy()}},[f,t,i,s]),rn.isSupported()?Pr.createElement("video",la({ref:i},p)):Pr.createElement("video",la({ref:i,src:s,autoPlay:f},p))}function hy(e){return us({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12 6a6 6 0 1 1 -6 6l.004 -.225a6 6 0 0 1 5.996 -5.775m0 4a2 2 0 0 0 -1.995 1.85l-.005 .15a2 2 0 1 0 2 -2m3.9 9.11a1 1 0 0 1 .993 .883l.007 .127a1 1 0 0 1 -1.993 .117l-.007 -.127a1 1 0 0 1 1 -1m3.14 -2.5a1 1 0 0 1 .993 .883l.007 .127a1 1 0 0 1 -1.993 .117l-.007 -.127a1 1 0 0 1 1 -1m1.73 -3.61a1 1 0 0 1 .993 .883l.007 .127a1 1 0 0 1 -1.993 .117l-.007 -.127a1 1 0 0 1 1 -1m0 -4a1 1 0 0 1 .993 .883l.007 .127a1 1 0 0 1 -1.993 .117l-.007 -.127a1 1 0 0 1 1 -1m-1.73 -3.61a1 1 0 0 1 1 1a1 1 0 1 1 -2 .01c0 -.562 .448 -1.01 1 -1.01m-3.14 -2.5a1 1 0 0 1 1 1a1 1 0 1 1 -2 .01c0 -.562 .448 -1.01 1 -1.01m-3.9 -.89a1 1 0 0 1 1 1a1 1 0 1 1 -2 .01c0 -.562 .448 -1.01 1 -1.01m-3.9 .89a1 1 0 0 1 1 1a1 1 0 1 1 -2 .01c0 -.562 .448 -1.01 1 -1.01m-3.14 2.5a1 1 0 0 1 1 1a1 1 0 1 1 -2 .01c0 -.562 .448 -1.01 1 -1.01m-1.73 3.61a1 1 0 0 1 .993 .883l.007 .127a1 1 0 0 1 -1.993 .117l-.007 -.127a1 1 0 0 1 1 -1m0 4a1 1 0 0 1 .993 .883l.007 .127a1 1 0 0 1 -1.993 .117l-.007 -.127a1 1 0 0 1 1 -1m1.73 3.61a1 1 0 0 1 .993 .883l.007 .127a1 1 0 0 1 -1.993 .117l-.007 -.127a1 1 0 0 1 1 -1m3.14 2.5a1 1 0 0 1 .993 .883l.007 .127a1 1 0 0 1 -1.993 .117l-.007 -.127a1 1 0 0 1 1 -1m3.9 .89a1 1 0 0 1 .993 .883l.007 .127a1 1 0 0 1 -1.993 .117l-.007 -.127a1 1 0 0 1 1 -1"},child:[]}]})(e)}function py(e){return us({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm120 182.15a8.62 8.62 0 0 1-8.62 8.62h-59.54a8.61 8.61 0 0 1-6.09-14.71l22.17-22.17-5.6-6.51a87.38 87.38 0 1 0-62.94 148 87.55 87.55 0 0 0 82.42-58.25A16 16 0 1 1 368 295.8a119.4 119.4 0 1 1-112.62-159.18 118.34 118.34 0 0 1 86.36 36.95l.56.62 4.31 5 14.68-14.68a8.44 8.44 0 0 1 6-2.54 8.61 8.61 0 0 1 8.68 8.63z"},child:[]}]})(e)}const gy="modulepreload",vy=function(e){return"/live/"+e},zc={},Qt=function(t,r,i){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),p=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));s=Promise.allSettled(r.map(m=>{if(m=vy(m),m in zc)return;zc[m]=!0;const T=m.endsWith(".css"),g=T?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${g}`))return;const E=document.createElement("link");if(E.rel=T?"stylesheet":gy,T||(E.as="script"),E.crossOrigin="",E.href=m,p&&E.setAttribute("nonce",p),document.head.appendChild(E),T)return new Promise((N,_)=>{E.addEventListener("load",N),E.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${m}`)))})}))}return s.then(f=>{for(const p of f||[]){if(p.status!=="rejected")continue;const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=p.reason,window.dispatchEvent(m),!m.defaultPrevented)throw p.reason}return t()})};var my=function(t,r,i){var s=document.head||document.getElementsByTagName("head")[0],f=document.createElement("script");typeof r=="function"&&(i=r,r={}),r=r||{},i=i||function(){},f.type=r.type||"text/javascript",f.charset=r.charset||"utf8",f.async="async"in r?!!r.async:!0,f.src=t,r.attrs&&yy(f,r.attrs),r.text&&(f.text=""+r.text);var p="onload"in f?Kc:xy;p(f,i),f.onload||Kc(f,i),s.appendChild(f)};function yy(e,t){for(var r in t)e.setAttribute(r,t[r])}function Kc(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function xy(e,t){e.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,t(null,e))}}var Ey=function(t){return Sy(t)&&!_y(t)};function Sy(e){return!!e&&typeof e=="object"}function _y(e){var t=Object.prototype.toString.call(e);return t==="[object RegExp]"||t==="[object Date]"||Ry(e)}var Ty=typeof Symbol=="function"&&Symbol.for,wy=Ty?Symbol.for("react.element"):60103;function Ry(e){return e.$$typeof===wy}function Ay(e){return Array.isArray(e)?[]:{}}function Aa(e,t){return t.clone!==!1&&t.isMergeableObject(e)?Li(Ay(e),e,t):e}function Ly(e,t,r){return e.concat(t).map(function(i){return Aa(i,r)})}function Py(e,t){if(!t.customMerge)return Li;var r=t.customMerge(e);return typeof r=="function"?r:Li}function ky(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return Object.propertyIsEnumerable.call(e,t)}):[]}function Hc(e){return Object.keys(e).concat(ky(e))}function cp(e,t){try{return t in e}catch{return!1}}function Dy(e,t){return cp(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))}function Oy(e,t,r){var i={};return r.isMergeableObject(e)&&Hc(e).forEach(function(s){i[s]=Aa(e[s],r)}),Hc(t).forEach(function(s){Dy(e,s)||(cp(e,s)&&r.isMergeableObject(t[s])?i[s]=Py(s,r)(e[s],t[s],r):i[s]=Aa(t[s],r))}),i}function Li(e,t,r){r=r||{},r.arrayMerge=r.arrayMerge||Ly,r.isMergeableObject=r.isMergeableObject||Ey,r.cloneUnlessOtherwiseSpecified=Aa;var i=Array.isArray(t),s=Array.isArray(e),f=i===s;return f?i?r.arrayMerge(e,t,r):Oy(e,t,r):Aa(t,r)}Li.all=function(t,r){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(i,s){return Li(i,s,r)},{})};var Cy=Li,dp=Cy,Iy=Object.create,fs=Object.defineProperty,Fy=Object.getOwnPropertyDescriptor,by=Object.getOwnPropertyNames,My=Object.getPrototypeOf,Ny=Object.prototype.hasOwnProperty,Uy=(e,t)=>{for(var r in t)fs(e,r,{get:t[r],enumerable:!0})},hp=(e,t,r,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of by(t))!Ny.call(e,s)&&s!==r&&fs(e,s,{get:()=>t[s],enumerable:!(i=Fy(t,s))||i.enumerable});return e},Xu=(e,t,r)=>(r=e!=null?Iy(My(e)):{},hp(!e||!e.__esModule?fs(r,"default",{value:e,enumerable:!0}):r,e)),By=e=>hp(fs({},"__esModule",{value:!0}),e),pp={};Uy(pp,{callPlayer:()=>tx,getConfig:()=>Jy,getSDK:()=>Zy,isBlobUrl:()=>nx,isMediaStream:()=>rx,lazy:()=>Ky,omit:()=>ex,parseEndTime:()=>Xy,parseStartTime:()=>Yy,queryString:()=>qy,randomString:()=>Qy,supportsWebKitPresentationMode:()=>ix});var cs=By(pp),jy=Xu(Ur),Gy=Xu(my),zy=Xu(dp);const Ky=e=>jy.default.lazy(async()=>{const t=await e();return typeof t.default=="function"?t:t.default}),Hy=/[?&#](?:start|t)=([0-9hms]+)/,Vy=/[?&#]end=([0-9hms]+)/,Ql=/(\d+)(h|m|s)/g,Wy=/^\d+$/;function gp(e,t){if(e instanceof Array)return;const r=e.match(t);if(r){const i=r[1];if(i.match(Ql))return $y(i);if(Wy.test(i))return parseInt(i)}}function $y(e){let t=0,r=Ql.exec(e);for(;r!==null;){const[,i,s]=r;s==="h"&&(t+=parseInt(i,10)*60*60),s==="m"&&(t+=parseInt(i,10)*60),s==="s"&&(t+=parseInt(i,10)),r=Ql.exec(e)}return t}function Yy(e){return gp(e,Hy)}function Xy(e){return gp(e,Vy)}function Qy(){return Math.random().toString(36).substr(2,5)}function qy(e){return Object.keys(e).map(t=>`${t}=${e[t]}`).join("&")}function el(e){return window[e]?window[e]:window.exports&&window.exports[e]?window.exports[e]:window.module&&window.module.exports&&window.module.exports[e]?window.module.exports[e]:null}const Jn={},Zy=function(t,r,i=null,s=()=>!0,f=Gy.default){const p=el(r);return p&&s(p)?Promise.resolve(p):new Promise((m,T)=>{if(Jn[t]){Jn[t].push({resolve:m,reject:T});return}Jn[t]=[{resolve:m,reject:T}];const g=E=>{Jn[t].forEach(N=>N.resolve(E))};if(i){const E=window[i];window[i]=function(){E&&E(),g(el(r))}}f(t,E=>{E?(Jn[t].forEach(N=>N.reject(E)),Jn[t]=null):i||g(el(r))})})};function Jy(e,t){return(0,zy.default)(t.config,e.config)}function ex(e,...t){const r=[].concat(...t),i={},s=Object.keys(e);for(const f of s)r.indexOf(f)===-1&&(i[f]=e[f]);return i}function tx(e,...t){if(!this.player||!this.player[e]){let r=`ReactPlayer: ${this.constructor.displayName} player could not call %c${e}%c – `;return this.player?this.player[e]||(r+="The method was not available"):r+="The player was not available",console.warn(r,"font-weight: bold",""),null}return this.player[e](...t)}function rx(e){return typeof window<"u"&&typeof window.MediaStream<"u"&&e instanceof window.MediaStream}function nx(e){return/^blob:/.test(e)}function ix(e=document.createElement("video")){const t=/iPhone|iPod/.test(navigator.userAgent)===!1;return e.webkitSupportsPresentationMode&&typeof e.webkitSetPresentationMode=="function"&&t}var Qu=Object.defineProperty,ax=Object.getOwnPropertyDescriptor,ox=Object.getOwnPropertyNames,sx=Object.prototype.hasOwnProperty,lx=(e,t)=>{for(var r in t)Qu(e,r,{get:t[r],enumerable:!0})},ux=(e,t,r,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of ox(t))!sx.call(e,s)&&s!==r&&Qu(e,s,{get:()=>t[s],enumerable:!(i=ax(t,s))||i.enumerable});return e},fx=e=>ux(Qu({},"__esModule",{value:!0}),e),vp={};lx(vp,{AUDIO_EXTENSIONS:()=>qu,DASH_EXTENSIONS:()=>Dp,FLV_EXTENSIONS:()=>Op,HLS_EXTENSIONS:()=>Ju,MATCH_URL_DAILYMOTION:()=>Ap,MATCH_URL_FACEBOOK:()=>Ep,MATCH_URL_FACEBOOK_WATCH:()=>Sp,MATCH_URL_KALTURA:()=>kp,MATCH_URL_MIXCLOUD:()=>Lp,MATCH_URL_MUX:()=>xp,MATCH_URL_SOUNDCLOUD:()=>mp,MATCH_URL_STREAMABLE:()=>_p,MATCH_URL_TWITCH_CHANNEL:()=>Rp,MATCH_URL_TWITCH_VIDEO:()=>wp,MATCH_URL_VIDYARD:()=>Pp,MATCH_URL_VIMEO:()=>yp,MATCH_URL_WISTIA:()=>Tp,MATCH_URL_YOUTUBE:()=>ql,VIDEO_EXTENSIONS:()=>Zu,canPlay:()=>dx});var cx=fx(vp),Vc=cs;const ql=/(?:youtu\.be\/|youtube(?:-nocookie|education)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//,mp=/(?:soundcloud\.com|snd\.sc)\/[^.]+$/,yp=/vimeo\.com\/(?!progressive_redirect).+/,xp=/stream\.mux\.com\/(?!\w+\.m3u8)(\w+)/,Ep=/^https?:\/\/(www\.)?facebook\.com.*\/(video(s)?|watch|story)(\.php?|\/).+$/,Sp=/^https?:\/\/fb\.watch\/.+$/,_p=/streamable\.com\/([a-z0-9]+)$/,Tp=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?([^?]+)/,wp=/(?:www\.|go\.)?twitch\.tv\/videos\/(\d+)($|\?)/,Rp=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+)($|\?)/,Ap=/^(?:(?:https?):)?(?:\/\/)?(?:www\.)?(?:(?:dailymotion\.com(?:\/embed)?\/video)|dai\.ly)\/([a-zA-Z0-9]+)(?:_[\w_-]+)?(?:[\w.#_-]+)?/,Lp=/mixcloud\.com\/([^/]+\/[^/]+)/,Pp=/vidyard.com\/(?:watch\/)?([a-zA-Z0-9-_]+)/,kp=/^https?:\/\/[a-zA-Z]+\.kaltura.(com|org)\/p\/([0-9]+)\/sp\/([0-9]+)00\/embedIframeJs\/uiconf_id\/([0-9]+)\/partner_id\/([0-9]+)(.*)entry_id.([a-zA-Z0-9-_].*)$/,qu=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,Zu=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,Ju=/\.(m3u8)($|\?)/i,Dp=/\.(mpd)($|\?)/i,Op=/\.(flv)($|\?)/i,Zl=e=>{if(e instanceof Array){for(const t of e)if(typeof t=="string"&&Zl(t)||Zl(t.src))return!0;return!1}return(0,Vc.isMediaStream)(e)||(0,Vc.isBlobUrl)(e)?!0:qu.test(e)||Zu.test(e)||Ju.test(e)||Dp.test(e)||Op.test(e)},dx={youtube:e=>e instanceof Array?e.every(t=>ql.test(t)):ql.test(e),soundcloud:e=>mp.test(e)&&!qu.test(e),vimeo:e=>yp.test(e)&&!Zu.test(e)&&!Ju.test(e),mux:e=>xp.test(e),facebook:e=>Ep.test(e)||Sp.test(e),streamable:e=>_p.test(e),wistia:e=>Tp.test(e),twitch:e=>wp.test(e)||Rp.test(e),dailymotion:e=>Ap.test(e),mixcloud:e=>Lp.test(e),vidyard:e=>Pp.test(e),kaltura:e=>kp.test(e),file:Zl};var ef=Object.defineProperty,hx=Object.getOwnPropertyDescriptor,px=Object.getOwnPropertyNames,gx=Object.prototype.hasOwnProperty,vx=(e,t)=>{for(var r in t)ef(e,r,{get:t[r],enumerable:!0})},mx=(e,t,r,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of px(t))!gx.call(e,s)&&s!==r&&ef(e,s,{get:()=>t[s],enumerable:!(i=hx(t,s))||i.enumerable});return e},yx=e=>mx(ef({},"__esModule",{value:!0}),e),Cp={};vx(Cp,{default:()=>Ex});var xx=yx(Cp),Xt=cs,Bt=cx,Ex=[{key:"youtube",name:"YouTube",canPlay:Bt.canPlay.youtube,lazyPlayer:(0,Xt.lazy)(()=>Qt(()=>import("./YouTube-Dl9-BgVf.js").then(e=>e.Y),[]))},{key:"soundcloud",name:"SoundCloud",canPlay:Bt.canPlay.soundcloud,lazyPlayer:(0,Xt.lazy)(()=>Qt(()=>import("./SoundCloud-DwEHxA9j.js").then(e=>e.S),[]))},{key:"vimeo",name:"Vimeo",canPlay:Bt.canPlay.vimeo,lazyPlayer:(0,Xt.lazy)(()=>Qt(()=>import("./Vimeo-BFDs6Co7.js").then(e=>e.V),[]))},{key:"mux",name:"Mux",canPlay:Bt.canPlay.mux,lazyPlayer:(0,Xt.lazy)(()=>Qt(()=>import("./Mux-Da-fUplV.js").then(e=>e.M),[]))},{key:"facebook",name:"Facebook",canPlay:Bt.canPlay.facebook,lazyPlayer:(0,Xt.lazy)(()=>Qt(()=>import("./Facebook-D3To6ogT.js").then(e=>e.F),[]))},{key:"streamable",name:"Streamable",canPlay:Bt.canPlay.streamable,lazyPlayer:(0,Xt.lazy)(()=>Qt(()=>import("./Streamable-DBuA56Lh.js").then(e=>e.S),[]))},{key:"wistia",name:"Wistia",canPlay:Bt.canPlay.wistia,lazyPlayer:(0,Xt.lazy)(()=>Qt(()=>import("./Wistia-Bcm-uNtQ.js").then(e=>e.W),[]))},{key:"twitch",name:"Twitch",canPlay:Bt.canPlay.twitch,lazyPlayer:(0,Xt.lazy)(()=>Qt(()=>import("./Twitch-Cph7gDEz.js").then(e=>e.T),[]))},{key:"dailymotion",name:"DailyMotion",canPlay:Bt.canPlay.dailymotion,lazyPlayer:(0,Xt.lazy)(()=>Qt(()=>import("./DailyMotion-DkN1qswg.js").then(e=>e.D),[]))},{key:"mixcloud",name:"Mixcloud",canPlay:Bt.canPlay.mixcloud,lazyPlayer:(0,Xt.lazy)(()=>Qt(()=>import("./Mixcloud-DBRScf7z.js").then(e=>e.M),[]))},{key:"vidyard",name:"Vidyard",canPlay:Bt.canPlay.vidyard,lazyPlayer:(0,Xt.lazy)(()=>Qt(()=>import("./Vidyard-CGvkhyq1.js").then(e=>e.V),[]))},{key:"kaltura",name:"Kaltura",canPlay:Bt.canPlay.kaltura,lazyPlayer:(0,Xt.lazy)(()=>Qt(()=>import("./Kaltura-CYKiiI3U.js").then(e=>e.K),[]))},{key:"file",name:"FilePlayer",canPlay:Bt.canPlay.file,canEnablePIP:e=>Bt.canPlay.file(e)&&(document.pictureInPictureEnabled||(0,Xt.supportsWebKitPresentationMode)())&&!Bt.AUDIO_EXTENSIONS.test(e),lazyPlayer:(0,Xt.lazy)(()=>Qt(()=>import("./FilePlayer-WAM1h94O.js").then(e=>e.F),[]))}],Wc=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function Sx(e,t){return!!(e===t||Wc(e)&&Wc(t))}function _x(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!Sx(e[r],t[r]))return!1;return!0}function Tx(e,t){t===void 0&&(t=_x);var r,i=[],s,f=!1;function p(){for(var m=[],T=0;T<arguments.length;T++)m[T]=arguments[T];return f&&r===this&&t(m,i)||(s=e.apply(this,m),f=!0,r=this,i=m),s}return p}const wx=Object.freeze(Object.defineProperty({__proto__:null,default:Tx},Symbol.toStringTag,{value:"Module"})),Rx=Ag(wx);var Ax=typeof Element<"u",Lx=typeof Map=="function",Px=typeof Set=="function",kx=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Eo(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(i=r;i--!==0;)if(!Eo(e[i],t[i]))return!1;return!0}var f;if(Lx&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(f=e.entries();!(i=f.next()).done;)if(!t.has(i.value[0]))return!1;for(f=e.entries();!(i=f.next()).done;)if(!Eo(i.value[1],t.get(i.value[0])))return!1;return!0}if(Px&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(f=e.entries();!(i=f.next()).done;)if(!t.has(i.value[0]))return!1;return!0}if(kx&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(i=r;i--!==0;)if(e[i]!==t[i])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(t,s[i]))return!1;if(Ax&&e instanceof Element)return!1;for(i=r;i--!==0;)if(!((s[i]==="_owner"||s[i]==="__v"||s[i]==="__o")&&e.$$typeof)&&!Eo(e[s[i]],t[s[i]]))return!1;return!0}return e!==e&&t!==t}var Ip=function(t,r){try{return Eo(t,r)}catch(i){if((i.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw i}},Fp={exports:{}},Dx="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Ox=Dx,Cx=Ox;function bp(){}function Mp(){}Mp.resetWarningCache=bp;var Ix=function(){function e(i,s,f,p,m,T){if(T!==Cx){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Mp,resetWarningCache:bp};return r.PropTypes=r,r};Fp.exports=Ix();var Fx=Fp.exports,bx=Object.create,ds=Object.defineProperty,Mx=Object.getOwnPropertyDescriptor,Nx=Object.getOwnPropertyNames,Ux=Object.getPrototypeOf,Bx=Object.prototype.hasOwnProperty,jx=(e,t)=>{for(var r in t)ds(e,r,{get:t[r],enumerable:!0})},Np=(e,t,r,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Nx(t))!Bx.call(e,s)&&s!==r&&ds(e,s,{get:()=>t[s],enumerable:!(i=Mx(t,s))||i.enumerable});return e},Gx=(e,t,r)=>(r=e!=null?bx(Ux(e)):{},Np(!e||!e.__esModule?ds(r,"default",{value:e,enumerable:!0}):r,e)),zx=e=>Np(ds({},"__esModule",{value:!0}),e),Up={};jx(Up,{defaultProps:()=>Vx,propTypes:()=>Hx});var Bp=zx(Up),Kx=Gx(Fx);const{string:Tt,bool:jt,number:ei,array:tl,oneOfType:Wi,shape:ir,object:It,func:ct,node:$c}=Kx.default,Hx={url:Wi([Tt,tl,It]),playing:jt,loop:jt,controls:jt,volume:ei,muted:jt,playbackRate:ei,width:Wi([Tt,ei]),height:Wi([Tt,ei]),style:It,progressInterval:ei,playsinline:jt,pip:jt,stopOnUnmount:jt,light:Wi([jt,Tt,It]),playIcon:$c,previewTabIndex:ei,previewAriaLabel:Tt,fallback:$c,oEmbedUrl:Tt,wrapper:Wi([Tt,ct,ir({render:ct.isRequired})]),config:ir({soundcloud:ir({options:It}),youtube:ir({playerVars:It,embedOptions:It,onUnstarted:ct}),facebook:ir({appId:Tt,version:Tt,playerId:Tt,attributes:It}),dailymotion:ir({params:It}),vimeo:ir({playerOptions:It,title:Tt}),mux:ir({attributes:It,version:Tt}),file:ir({attributes:It,tracks:tl,forceVideo:jt,forceAudio:jt,forceHLS:jt,forceSafariHLS:jt,forceDisableHls:jt,forceDASH:jt,forceFLV:jt,hlsOptions:It,hlsVersion:Tt,dashVersion:Tt,flvVersion:Tt}),wistia:ir({options:It,playerId:Tt,customControls:tl}),mixcloud:ir({options:It}),twitch:ir({options:It,playerId:Tt}),vidyard:ir({options:It})}),onReady:ct,onStart:ct,onPlay:ct,onPause:ct,onBuffer:ct,onBufferEnd:ct,onEnded:ct,onError:ct,onDuration:ct,onSeek:ct,onPlaybackRateChange:ct,onPlaybackQualityChange:ct,onProgress:ct,onClickPreview:ct,onEnablePIP:ct,onDisablePIP:ct},wt=()=>{},Vx={playing:!1,loop:!1,controls:!1,volume:null,muted:!1,playbackRate:1,width:"640px",height:"360px",style:{},progressInterval:1e3,playsinline:!1,pip:!1,stopOnUnmount:!0,light:!1,fallback:null,wrapper:"div",previewTabIndex:0,previewAriaLabel:"",oEmbedUrl:"https://noembed.com/embed?url={url}",config:{soundcloud:{options:{visual:!0,buying:!1,liking:!1,download:!1,sharing:!1,show_comments:!1,show_playcount:!1}},youtube:{playerVars:{playsinline:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1},embedOptions:{},onUnstarted:wt},facebook:{appId:"1309697205772819",version:"v3.3",playerId:null,attributes:{}},dailymotion:{params:{api:1,"endscreen-enable":!1}},vimeo:{playerOptions:{autopause:!1,byline:!1,portrait:!1,title:!1},title:null},mux:{attributes:{},version:"2"},file:{attributes:{},tracks:[],forceVideo:!1,forceAudio:!1,forceHLS:!1,forceDASH:!1,forceFLV:!1,hlsOptions:{},hlsVersion:"1.1.4",dashVersion:"3.1.3",flvVersion:"1.5.0",forceDisableHls:!1},wistia:{options:{},playerId:null,customControls:null},mixcloud:{options:{hide_cover:1}},twitch:{options:{},playerId:null},vidyard:{options:{}}},onReady:wt,onStart:wt,onPlay:wt,onPause:wt,onBuffer:wt,onBufferEnd:wt,onEnded:wt,onError:wt,onDuration:wt,onSeek:wt,onPlaybackRateChange:wt,onPlaybackQualityChange:wt,onProgress:wt,onClickPreview:wt,onEnablePIP:wt,onDisablePIP:wt};var Wx=Object.create,Ca=Object.defineProperty,$x=Object.getOwnPropertyDescriptor,Yx=Object.getOwnPropertyNames,Xx=Object.getPrototypeOf,Qx=Object.prototype.hasOwnProperty,qx=(e,t,r)=>t in e?Ca(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Zx=(e,t)=>{for(var r in t)Ca(e,r,{get:t[r],enumerable:!0})},jp=(e,t,r,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Yx(t))!Qx.call(e,s)&&s!==r&&Ca(e,s,{get:()=>t[s],enumerable:!(i=$x(t,s))||i.enumerable});return e},Gp=(e,t,r)=>(r=e!=null?Wx(Xx(e)):{},jp(!e||!e.__esModule?Ca(r,"default",{value:e,enumerable:!0}):r,e)),Jx=e=>jp(Ca({},"__esModule",{value:!0}),e),nt=(e,t,r)=>(qx(e,typeof t!="symbol"?t+"":t,r),r),zp={};Zx(zp,{default:()=>hs});var e1=Jx(zp),Yc=Gp(Ur),t1=Gp(Ip),Kp=Bp,r1=cs;const n1=5e3;class hs extends Yc.Component{constructor(){super(...arguments),nt(this,"mounted",!1),nt(this,"isReady",!1),nt(this,"isPlaying",!1),nt(this,"isLoading",!0),nt(this,"loadOnReady",null),nt(this,"startOnPlay",!0),nt(this,"seekOnPlay",null),nt(this,"onDurationCalled",!1),nt(this,"handlePlayerMount",t=>{if(this.player){this.progress();return}this.player=t,this.player.load(this.props.url),this.progress()}),nt(this,"getInternalPlayer",t=>this.player?this.player[t]:null),nt(this,"progress",()=>{if(this.props.url&&this.player&&this.isReady){const t=this.getCurrentTime()||0,r=this.getSecondsLoaded(),i=this.getDuration();if(i){const s={playedSeconds:t,played:t/i};r!==null&&(s.loadedSeconds=r,s.loaded=r/i),(s.playedSeconds!==this.prevPlayed||s.loadedSeconds!==this.prevLoaded)&&this.props.onProgress(s),this.prevPlayed=s.playedSeconds,this.prevLoaded=s.loadedSeconds}}this.progressTimeout=setTimeout(this.progress,this.props.progressFrequency||this.props.progressInterval)}),nt(this,"handleReady",()=>{if(!this.mounted)return;this.isReady=!0,this.isLoading=!1;const{onReady:t,playing:r,volume:i,muted:s}=this.props;t(),!s&&i!==null&&this.player.setVolume(i),this.loadOnReady?(this.player.load(this.loadOnReady,!0),this.loadOnReady=null):r&&this.player.play(),this.handleDurationCheck()}),nt(this,"handlePlay",()=>{this.isPlaying=!0,this.isLoading=!1;const{onStart:t,onPlay:r,playbackRate:i}=this.props;this.startOnPlay&&(this.player.setPlaybackRate&&i!==1&&this.player.setPlaybackRate(i),t(),this.startOnPlay=!1),r(),this.seekOnPlay&&(this.seekTo(this.seekOnPlay),this.seekOnPlay=null),this.handleDurationCheck()}),nt(this,"handlePause",t=>{this.isPlaying=!1,this.isLoading||this.props.onPause(t)}),nt(this,"handleEnded",()=>{const{activePlayer:t,loop:r,onEnded:i}=this.props;t.loopOnEnded&&r&&this.seekTo(0),r||(this.isPlaying=!1,i())}),nt(this,"handleError",(...t)=>{this.isLoading=!1,this.props.onError(...t)}),nt(this,"handleDurationCheck",()=>{clearTimeout(this.durationCheckTimeout);const t=this.getDuration();t?this.onDurationCalled||(this.props.onDuration(t),this.onDurationCalled=!0):this.durationCheckTimeout=setTimeout(this.handleDurationCheck,100)}),nt(this,"handleLoaded",()=>{this.isLoading=!1})}componentDidMount(){this.mounted=!0}componentWillUnmount(){clearTimeout(this.progressTimeout),clearTimeout(this.durationCheckTimeout),this.isReady&&this.props.stopOnUnmount&&(this.player.stop(),this.player.disablePIP&&this.player.disablePIP()),this.mounted=!1}componentDidUpdate(t){if(!this.player)return;const{url:r,playing:i,volume:s,muted:f,playbackRate:p,pip:m,loop:T,activePlayer:g,disableDeferredLoading:E}=this.props;if(!(0,t1.default)(t.url,r)){if(this.isLoading&&!g.forceLoad&&!E&&!(0,r1.isMediaStream)(r)){console.warn(`ReactPlayer: the attempt to load ${r} is being deferred until the player has loaded`),this.loadOnReady=r;return}this.isLoading=!0,this.startOnPlay=!0,this.onDurationCalled=!1,this.player.load(r,this.isReady)}!t.playing&&i&&!this.isPlaying&&this.player.play(),t.playing&&!i&&this.isPlaying&&this.player.pause(),!t.pip&&m&&this.player.enablePIP&&this.player.enablePIP(),t.pip&&!m&&this.player.disablePIP&&this.player.disablePIP(),t.volume!==s&&s!==null&&this.player.setVolume(s),t.muted!==f&&(f?this.player.mute():(this.player.unmute(),s!==null&&setTimeout(()=>this.player.setVolume(s)))),t.playbackRate!==p&&this.player.setPlaybackRate&&this.player.setPlaybackRate(p),t.loop!==T&&this.player.setLoop&&this.player.setLoop(T)}getDuration(){return this.isReady?this.player.getDuration():null}getCurrentTime(){return this.isReady?this.player.getCurrentTime():null}getSecondsLoaded(){return this.isReady?this.player.getSecondsLoaded():null}seekTo(t,r,i){if(!this.isReady){t!==0&&(this.seekOnPlay=t,setTimeout(()=>{this.seekOnPlay=null},n1));return}if(r?r==="fraction":t>0&&t<1){const f=this.player.getDuration();if(!f){console.warn("ReactPlayer: could not seek using fraction – duration not yet available");return}this.player.seekTo(f*t,i);return}this.player.seekTo(t,i)}render(){const t=this.props.activePlayer;return t?Yc.default.createElement(t,{...this.props,onMount:this.handlePlayerMount,onReady:this.handleReady,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onLoaded:this.handleLoaded,onError:this.handleError}):null}}nt(hs,"displayName","Player");nt(hs,"propTypes",Kp.propTypes);nt(hs,"defaultProps",Kp.defaultProps);var i1=Object.create,Ia=Object.defineProperty,a1=Object.getOwnPropertyDescriptor,o1=Object.getOwnPropertyNames,s1=Object.getPrototypeOf,l1=Object.prototype.hasOwnProperty,u1=(e,t,r)=>t in e?Ia(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,f1=(e,t)=>{for(var r in t)Ia(e,r,{get:t[r],enumerable:!0})},Hp=(e,t,r,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of o1(t))!l1.call(e,s)&&s!==r&&Ia(e,s,{get:()=>t[s],enumerable:!(i=a1(t,s))||i.enumerable});return e},Fa=(e,t,r)=>(r=e!=null?i1(s1(e)):{},Hp(!e||!e.__esModule?Ia(r,"default",{value:e,enumerable:!0}):r,e)),c1=e=>Hp(Ia({},"__esModule",{value:!0}),e),rt=(e,t,r)=>(u1(e,typeof t!="symbol"?t+"":t,r),r),Vp={};f1(Vp,{createReactPlayer:()=>E1});var d1=c1(Vp),ti=Fa(Ur),h1=Fa(dp),rl=Fa(Rx),Xc=Fa(Ip),Zi=Bp,Wp=cs,p1=Fa(e1);const g1=(0,Wp.lazy)(()=>Qt(()=>import("./Preview-DbNvsugQ.js").then(e=>e.P),[])),v1=typeof window<"u"&&window.document&&typeof document<"u",m1=typeof oo<"u"&&oo.window&&oo.window.document,y1=Object.keys(Zi.propTypes),x1=v1||m1?ti.Suspense:()=>null,$i=[],E1=(e,t)=>{var r;return r=class extends ti.Component{constructor(){super(...arguments),rt(this,"state",{showPreview:!!this.props.light}),rt(this,"references",{wrapper:i=>{this.wrapper=i},player:i=>{this.player=i}}),rt(this,"handleClickPreview",i=>{this.setState({showPreview:!1}),this.props.onClickPreview(i)}),rt(this,"showPreview",()=>{this.setState({showPreview:!0})}),rt(this,"getDuration",()=>this.player?this.player.getDuration():null),rt(this,"getCurrentTime",()=>this.player?this.player.getCurrentTime():null),rt(this,"getSecondsLoaded",()=>this.player?this.player.getSecondsLoaded():null),rt(this,"getInternalPlayer",(i="player")=>this.player?this.player.getInternalPlayer(i):null),rt(this,"seekTo",(i,s,f)=>{if(!this.player)return null;this.player.seekTo(i,s,f)}),rt(this,"handleReady",()=>{this.props.onReady(this)}),rt(this,"getActivePlayer",(0,rl.default)(i=>{for(const s of[...$i,...e])if(s.canPlay(i))return s;return t||null})),rt(this,"getConfig",(0,rl.default)((i,s)=>{const{config:f}=this.props;return h1.default.all([Zi.defaultProps.config,Zi.defaultProps.config[s]||{},f,f[s]||{}])})),rt(this,"getAttributes",(0,rl.default)(i=>(0,Wp.omit)(this.props,y1))),rt(this,"renderActivePlayer",i=>{if(!i)return null;const s=this.getActivePlayer(i);if(!s)return null;const f=this.getConfig(i,s.key);return ti.default.createElement(p1.default,{...this.props,key:s.key,ref:this.references.player,config:f,activePlayer:s.lazyPlayer||s,onReady:this.handleReady})})}shouldComponentUpdate(i,s){return!(0,Xc.default)(this.props,i)||!(0,Xc.default)(this.state,s)}componentDidUpdate(i){const{light:s}=this.props;!i.light&&s&&this.setState({showPreview:!0}),i.light&&!s&&this.setState({showPreview:!1})}renderPreview(i){if(!i)return null;const{light:s,playIcon:f,previewTabIndex:p,oEmbedUrl:m,previewAriaLabel:T}=this.props;return ti.default.createElement(g1,{url:i,light:s,playIcon:f,previewTabIndex:p,previewAriaLabel:T,oEmbedUrl:m,onClick:this.handleClickPreview})}render(){const{url:i,style:s,width:f,height:p,fallback:m,wrapper:T}=this.props,{showPreview:g}=this.state,E=this.getAttributes(i),N=typeof T=="string"?this.references.wrapper:void 0;return ti.default.createElement(T,{ref:N,style:{...s,width:f,height:p},...E},ti.default.createElement(x1,{fallback:m},g?this.renderPreview(i):this.renderActivePlayer(i)))}},rt(r,"displayName","ReactPlayer"),rt(r,"propTypes",Zi.propTypes),rt(r,"defaultProps",Zi.defaultProps),rt(r,"addCustomPlayer",i=>{$i.push(i)}),rt(r,"removeCustomPlayers",()=>{$i.length=0}),rt(r,"canPlay",i=>{for(const s of[...$i,...e])if(s.canPlay(i))return!0;return!1}),rt(r,"canEnablePIP",i=>{for(const s of[...$i,...e])if(s.canEnablePIP&&s.canEnablePIP(i))return!0;return!1}),r};var S1=Object.create,ps=Object.defineProperty,_1=Object.getOwnPropertyDescriptor,T1=Object.getOwnPropertyNames,w1=Object.getPrototypeOf,R1=Object.prototype.hasOwnProperty,A1=(e,t)=>{for(var r in t)ps(e,r,{get:t[r],enumerable:!0})},$p=(e,t,r,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of T1(t))!R1.call(e,s)&&s!==r&&ps(e,s,{get:()=>t[s],enumerable:!(i=_1(t,s))||i.enumerable});return e},L1=(e,t,r)=>(r=e!=null?S1(w1(e)):{},$p(!e||!e.__esModule?ps(r,"default",{value:e,enumerable:!0}):r,e)),P1=e=>$p(ps({},"__esModule",{value:!0}),e),Yp={};A1(Yp,{default:()=>C1});var k1=P1(Yp),Jl=L1(xx),D1=d1;const O1=Jl.default[Jl.default.length-1];var C1=(0,D1.createReactPlayer)(Jl.default,O1);const I1=eu(k1);function F1(){const e={uno:{name:"Red Uno ",url:"/uno/sec2(rLpwKarbl1e8Ue5HuoqU3-hi5_EOjE4ujZISujMrFBuRfSkzKn_tejKDDxYItoNnxzUZ2tYYoUafXuDdsy3fmPqPZgkdrT5qk9umO5cOxsw)/dm/3/x91tbcm/d/live-720.m3u8#cell=lcfb"},rede:{name:"Rede TV ",url:"/rede/sec2(EBzIwHvdXN-i2CH3UgCWvEprHZfEX4r_R1Gf0dQrSFwCWyPwLijD1Ryvl2liK7LVsh6CoPoBIy-xeZu7haBTlOXr3yjLXZgVnBb3l9uMWBg)/dm/3/x8xps0s/d/live-1080.m3u8#cell=lcfb"},sbt:{name:"SBT",url:"https://youtu.be/ABVQXgr2LW4"},globo:{name:"GLOBO",url:"https://live-02.edge-vivo-vun-sp.video.globo.com/j/eyJhbGciOiJSUzUxMiIsImtpZCI6IjEiLCJ0eXAiOiJKV1QifQ.eyJjb3VudHJ5X2NvZGUiOiJCUiIsImRvbWFpbiI6ImxpdmUtMDIuZWRnZS12aXZvLXZ1bi1zcC52aWRlby5nbG9iby5jb20iLCJleHAiOjE3MjY1MjcwMzksImlhdCI6MTcyNjQ0MDYzOSwiaXNzIjoicGxheWJhY2stYXBpLXByb2QtZ2NwIiwib3duZXIiOiI2YjkwMTMyOC1kMjYwLTQwZDQtOGVhYi1lNDhlMmUzZmFiNTAiLCJwYXRoIjoiL251L2YoaT0yKS9nbG9iby1zcDEvcGxheWxpc3QubTN1OCJ9.HcBRfR6UODBrNZvKvWliruGEr-mm-UOiQnpE7ahT5QISV8-HPZg19t-D_xda8655LA3NfOiSOs8bARfsmbt154wtFd4Gjt2H8IXQDNY4tZs7CpgHBTn_wDRJ61LdMhzn_tOstDZrVjA24-KujP_YIDKH62qIlfzdnRPm2TImmhVUxcbWJ_jd684_Xpim1-mTio6CV-CupPXABW9Gg2rskKGSxGAIgphZxe6OFPfmAjDy_ONeofGWD8_I9vdmewMYN9TCOPhisXqOa_5Pjgr-xB7GCCchtAhfIENaatxIkzjwe03BBXP2cagrVb6AF39nDkwpBPSwtMGxigabdFtYRg/nu/f(i=2)/globo-sp1/playlist.m3u8?originpath=/linear/hls/pa/event/UNTWwQcWQtmVxARzvTvEBg/stream/c1b06a93-add3-46d5-a214-10f91d141ad3:SCL/variant/c966b8cc25351d28c43a55d2fe9954c6/bandwidth/6577000.m3u8"}},[t,r]=Ur.useState({name:"Seleccione un canal ",url:e.uno.url}),i=Ur.useRef(null),[s,f]=Ur.useState(!1),p=N=>{r(N),f(!1)},m=N=>{r(N),f(!0),i.current.play(),T()},T=()=>{var k,b;const N=((b=(k=i.current)==null?void 0:k.getInternalPlayer)==null?void 0:b.call(k))||i.current;if(!N)return;const _=N.requestFullscreen||N.mozRequestFullScreen||N.webkitRequestFullscreen||N.msRequestFullscreen;_?_.call(N).then(()=>{N.play&&N.play().catch(D=>{console.error("Error attempting to play the video:",D)})}).catch(D=>{console.error("Error attempting to enable full-screen mode:",D)}):(console.warn("Fullscreen API is not supported."),Jm.request(document.querySelector(".video")))},g=()=>{document.fullscreenElement?document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen():document.documentElement.requestFullscreen?document.documentElement.requestFullscreen():document.documentElement.mozRequestFullScreen?document.documentElement.mozRequestFullScreen():document.documentElement.webkitRequestFullscreen?document.documentElement.webkitRequestFullscreen():document.documentElement.msRequestFullscreen&&document.documentElement.msRequestFullscreen()},E=()=>{window.location.reload()};return Me.jsxs("div",{className:"app",children:[Me.jsxs("div",{className:"Reproducto",children:[Me.jsxs("div",{className:"live",children:[Me.jsx("span",{style:{fontSize:"25px",fontWeight:"bold"},children:t.name}),Me.jsxs("span",{className:"live2",children:["En vivo",Me.jsx(hy,{})]})]}),s&&Me.jsx(dy,{controls:!0,autoPlay:!0,className:"video",playerRef:i,src:"https://live-b.cf.dmcdn.net/sec2(rLpwKarbl1e8Ue5HuoqU3-hi5_EOjE4ujZISujMrFBuRfSkzKn_tejKDDxYItoNnxzUZ2tYYoUafXuDdsy3fmPqPZgkdrT5qk9umO5cOxsw)/dm/3/x91tbcm/d/live-720.m3u8#cell=lcfb"}),s==!1&&Me.jsx(I1,{playing:!0,className:"video",ref:i,controls:!0,allowFullScreen:!0,url:t.url,screenfull:!0})]}),Me.jsxs("div",{className:"canales",children:[Me.jsxs("button",{onClick:()=>{m(e.uno)},children:[Me.jsx("div",{children:Me.jsx("img",{src:ey,alt:""})}),"RED UNO"]}),Me.jsxs("button",{onClick:()=>{p(e.globo)},children:[Me.jsx("div",{children:Me.jsx("img",{src:"https://gkpb.com.br/wp-content/uploads/2021/12/novo-logo-da-globo-png.png",alt:""})}),Me.jsx("div",{children:"GLOBO"})]}),Me.jsxs("button",{onClick:()=>{p(e.sbt)},children:[Me.jsx("div",{children:Me.jsx("img",{src:"https://www.imagensempng.com.br/wp-content/uploads/2020/12/007-2.png",alt:""})}),Me.jsx("div",{children:"SBT"})]}),Me.jsxs("button",{onClick:()=>{m(e.rede)},children:[Me.jsx("div",{children:Me.jsx("img",{src:"https://www.imagensempng.com.br/wp-content/uploads/2023/05/17-1.png",alt:""})}),Me.jsx("div",{children:"REDE TV"})]})]}),Me.jsxs("button",{className:"button3",onClick:()=>{T()},tabIndex:0,children:[Me.jsx(ly,{})," Pantalla Completa"]}),Me.jsxs("button",{className:"button1",onClick:g,tabIndex:0,children:[Me.jsx(uy,{})," Pagina Completa"]}),Me.jsxs("button",{className:"button2",onClick:E,tabIndex:0,children:[Me.jsx(py,{})," Recargar Pagina"]})]})}nl.createRoot(document.getElementById("root")).render(Me.jsx(Pr.StrictMode,{children:Me.jsx(F1,{})}));export{Qt as _,eu as g,cx as p,Ur as r,cs as u};
